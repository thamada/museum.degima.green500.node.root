
INTRODUCTION
------------

readahead reads a list of files in advance and adds the pages to the page
cache.  The files are accessed and read in an efficient manner to minimize
disk seeks.  Best performance is achieved on an ext2 or ext3 file system.

The program works in three modes:

1) full mode

	readahead  /var/lib/readahead/*.early

   The program will read a new-line separated list of files from a text file.
   The files need not be in any special order. The following algorithm is used:

	   a) sort the file list by path
	   b) for each file:
	   	  - open(2),
		  - stat(2),
                  - retrieve first data block from the corresponding inode
	   c) sort the file list again
	   d) calling readahead(2) for each file


2) sort mode

	readahead  --sort --output=/var/lib/readahead/early.sorted /var/lib/readahead/*.early

   The program will read a new-line separated list of files from a text file.
   The files need not be in any special order. The same algorithm as for the "full
   mode" is used, but the sorted file list is written to stdout (or to --output=<file>).
   The program doesn't call readahead(2) in this mode.

   Hint: use this mode in your cron.d scripts (but be careful with things like prelink).

3) fast mode

	readahead  --dont-sort /var/lib/readahead/early.sorted

    The program will read a new-line separated list of files from a text file.
    The files need be in special order which is generated by the "sort mode". The
    program calls readahead(2) for each file.


READAHEAD-COLLECTOR
-------------------

The readahead collector allows to collect filenames of all files which are used
during boot process.  The goal is to generate effective and fully valid lists for
your machine. The collector is based on kernel audit system and collects
information about syscalls like open(), stat(), ...

For more information about settings see /etc/readahead.conf. The best way how
use the collector is boot with

	init=/sbin/readahead-collector

kernel option. Please, don't add this option to your grub.conf permanently (due
to negative performance impact).

A newly generated lists you will found in

	/var/lib/readahead/custom.{early,later}

WARNING: you have to disable auditd by:

	# chkconfig auditd off

It's because auditd deletes all audit rules during boot. That's
contra-productive for the collector.

Update:
	readahead-collector is started by upstart, if /.readahead_collect is present, which
	is created by a monthly cron job. auditd and restorecond service startup is delayed.


BUILDING
--------

The e2fsprogs and e2fsprogs-devel packages are required to build and run the
program.


CREDIT
------

Arjan van de Ven <arjan@infradead.org>
	- author of readahead idea

Ziga Mahkovec  <ziga.mahkovec@klika.si>
	- many performace improvements

Karel Zak <kzak@redhat.com>
	- upstream maintainer
	- author of readahead-collector


