<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>gnome-exec</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
<link rel="home" href="index.html" title="GNOME Library Reference Manual">
<link rel="up" href="ch01.html" title="Initializing Applications and Starting Programs">
<link rel="prev" href="libgnome-gnome-init.html" title="gnome-init">
<link rel="next" href="ch02.html" title="Configuration">
<meta name="generator" content="GTK-Doc V1.11 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
<link rel="part" href="libgnome.html" title="Part I. GNOME Library (libgnome)">
<link rel="chapter" href="ch01.html" title="Initializing Applications and Starting Programs">
<link rel="chapter" href="ch02.html" title="Configuration">
<link rel="chapter" href="ch03.html" title="Displaying Help and External Info">
<link rel="chapter" href="ch04.html" title="Miscellaneous">
<link rel="chapter" href="ch05.html" title="Lower Level Interactions">
<link rel="chapter" href="ch06.html" title="Deprecated Modules">
<link rel="index" href="ix01.html" title="Index">
<link rel="index" href="ix02.html" title="Index of deprecated symbols">
<link rel="index" href="ix03.html" title="Index of new symbols in 2.2">
<link rel="index" href="ix04.html" title="Index of new symbols in 2.4">
<link rel="index" href="ix05.html" title="Index of new symbols in 2.6">
<link rel="index" href="ix06.html" title="Index of new symbols in 2.8">
<link rel="index" href="ix07.html" title="Index of new symbols in 2.10">
<link rel="index" href="ix08.html" title="Index of new symbols in 2.12">
<link rel="index" href="ix09.html" title="Index of new symbols in 2.14">
<link rel="index" href="ix10.html" title="Index of new symbols in 2.16">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="libgnome-gnome-init.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="ch01.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">GNOME Library Reference Manual</th>
<td><a accesskey="n" href="ch02.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts">
<a href="#libgnome-gnome-exec.synopsis" class="shortcut">Top</a>
                 | 
                <a href="#libgnome-gnome-exec.description" class="shortcut">Description</a>
</td></tr>
</table>
<div class="refentry" title="gnome-exec">
<a name="libgnome-gnome-exec"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="libgnome-gnome-exec.top_of_page"></a>gnome-exec</span></h2>
<p>gnome-exec — Execution of programs from within GNOME applications.</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv" title="Synopsis">
<a name="libgnome-gnome-exec.synopsis"></a><h2>Synopsis</h2>
<pre class="synopsis">

#include &lt;libgnome/libgnome.h&gt;

int                 <a class="link" href="libgnome-gnome-exec.html#gnome-execute-async" title="gnome_execute_async ()">gnome_execute_async</a>                 (const char *dir,
                                                         int argc,
                                                         char * const argv[]);
int                 <a class="link" href="libgnome-gnome-exec.html#gnome-execute-async-fds" title="gnome_execute_async_fds ()">gnome_execute_async_fds</a>             (const char *dir,
                                                         int argc,
                                                         char * const argv[],
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"
>gboolean</a> close_fds);
int                 <a class="link" href="libgnome-gnome-exec.html#gnome-execute-async-with-env" title="gnome_execute_async_with_env ()">gnome_execute_async_with_env</a>        (const char *dir,
                                                         int argc,
                                                         char * const argv[],
                                                         int envc,
                                                         char * const envv[]);
int                 <a class="link" href="libgnome-gnome-exec.html#gnome-execute-async-with-env-fds" title="gnome_execute_async_with_env_fds ()">gnome_execute_async_with_env_fds</a>    (const char *dir,
                                                         int argc,
                                                         char * const argv[],
                                                         int envc,
                                                         char * const envv[],
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"
>gboolean</a> close_fds);
int                 <a class="link" href="libgnome-gnome-exec.html#gnome-execute-shell" title="gnome_execute_shell ()">gnome_execute_shell</a>                 (const char *dir,
                                                         const char *commandline);
int                 <a class="link" href="libgnome-gnome-exec.html#gnome-execute-shell-fds" title="gnome_execute_shell_fds ()">gnome_execute_shell_fds</a>             (const char *dir,
                                                         const char *commandline,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"
>gboolean</a> close_fds);
void                <a class="link" href="libgnome-gnome-exec.html#gnome-prepend-terminal-to-vector" title="gnome_prepend_terminal_to_vector ()">gnome_prepend_terminal_to_vector</a>    (int *argc,
                                                         char ***argv);
int                 <a class="link" href="libgnome-gnome-exec.html#gnome-execute-terminal-shell" title="gnome_execute_terminal_shell ()">gnome_execute_terminal_shell</a>        (const char *dir,
                                                         const char *commandline);
int                 <a class="link" href="libgnome-gnome-exec.html#gnome-execute-terminal-shell-fds" title="gnome_execute_terminal_shell_fds ()">gnome_execute_terminal_shell_fds</a>    (const char *dir,
                                                         const char *commandline,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"
>gboolean</a> close_fds);
</pre>
</div>
<div class="refsect1" title="Description">
<a name="libgnome-gnome-exec.description"></a><h2>Description</h2>
<p>
The gnome-execute family of functions are provided to simplify execution of
programs from withing GNOME applications.  These routines are required to avoid
passing opened file descriptors to a child process (like the X11 sockets and
CORBA sockets). They will also make sure to terminate properly.
</p>
<p>
The range of possibilities goes from the most simple use to the most
specialized ones.
</p>
</div>
<div class="refsect1" title="Details">
<a name="libgnome-gnome-exec.details"></a><h2>Details</h2>
<div class="refsect2" title="gnome_execute_async ()">
<a name="gnome-execute-async"></a><h3>gnome_execute_async ()</h3>
<pre class="programlisting">int                 gnome_execute_async                 (const char *dir,
                                                         int argc,
                                                         char * const argv[]);</pre>
<p>
Like <a class="link" href="libgnome-gnome-exec.html#gnome-execute-async-with-env" title="gnome_execute_async_with_env ()"><code class="function">gnome_execute_async_with_env()</code></a>, but doesn't add anything
to child's environment.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>dir</code></em> :</span></p></td>
<td> Directory in which child should be executesd, or <a
href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL--CAPS"
><code class="literal">NULL</code></a> for current
      directory
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>argc</code></em> :</span></p></td>
<td> Number of arguments
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>argv</code></em> :</span></p></td>
<td> Argument vector to exec child
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> process id of child, or <code class="literal">-1</code> on error.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="gnome_execute_async_fds ()">
<a name="gnome-execute-async-fds"></a><h3>gnome_execute_async_fds ()</h3>
<pre class="programlisting">int                 gnome_execute_async_fds             (const char *dir,
                                                         int argc,
                                                         char * const argv[],
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"
>gboolean</a> close_fds);</pre>
<p>
Like <a class="link" href="libgnome-gnome-exec.html#gnome-execute-async-with-env-fds" title="gnome_execute_async_with_env_fds ()"><code class="function">gnome_execute_async_with_env_fds()</code></a>, but doesn't add
anything to child's environment.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>dir</code></em> :</span></p></td>
<td> Directory in which child should be executed, or <a
href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL--CAPS"
><code class="literal">NULL</code></a> for current
      directory
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>argc</code></em> :</span></p></td>
<td> Number of arguments
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>argv</code></em> :</span></p></td>
<td> Argument vector to exec child
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>close_fds</code></em> :</span></p></td>
<td> If <a
href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#TRUE--CAPS"
><code class="literal">TRUE</code></a>, will close all but file descriptors 0, 1 and 2.
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> process id of child, or <code class="literal">-1</code> on error.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="gnome_execute_async_with_env ()">
<a name="gnome-execute-async-with-env"></a><h3>gnome_execute_async_with_env ()</h3>
<pre class="programlisting">int                 gnome_execute_async_with_env        (const char *dir,
                                                         int argc,
                                                         char * const argv[],
                                                         int envc,
                                                         char * const envv[]);</pre>
<p>
This function forks and executes some program in the
background.  On error, returns <code class="literal">-1</code>; in this case, <span class="type">errno</span> should hold a useful
value.  Searches the path to find the child.  Environment settings in <em class="parameter"><code>envv</code></em>
are added to the existing environment -- they do not completely replace it.
This function closes all fds besides 0, 1, and 2 for the child</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>dir</code></em> :</span></p></td>
<td> Directory in which child should be executed, or NULL for current
      directory
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>argc</code></em> :</span></p></td>
<td> Number of arguments
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>argv</code></em> :</span></p></td>
<td> Argument vector to exec child
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>envc</code></em> :</span></p></td>
<td> Number of environment slots
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>envv</code></em> :</span></p></td>
<td> Environment vector
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> the process id, or <code class="literal">-1</code> on error.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="gnome_execute_async_with_env_fds ()">
<a name="gnome-execute-async-with-env-fds"></a><h3>gnome_execute_async_with_env_fds ()</h3>
<pre class="programlisting">int                 gnome_execute_async_with_env_fds    (const char *dir,
                                                         int argc,
                                                         char * const argv[],
                                                         int envc,
                                                         char * const envv[],
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"
>gboolean</a> close_fds);</pre>
<p>
Like <a class="link" href="libgnome-gnome-exec.html#gnome-execute-async-with-env" title="gnome_execute_async_with_env ()"><code class="function">gnome_execute_async_with_env()</code></a> but has a flag to
decide whether or not to close fd's</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>dir</code></em> :</span></p></td>
<td> Directory in which child should be executed, or <a
href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL--CAPS"
><code class="literal">NULL</code></a> for current
      directory
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>argc</code></em> :</span></p></td>
<td> Number of arguments
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>argv</code></em> :</span></p></td>
<td> Argument vector to exec child
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>envc</code></em> :</span></p></td>
<td> Number of environment slots
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>envv</code></em> :</span></p></td>
<td> Environment vector
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>close_fds</code></em> :</span></p></td>
<td> If <a
href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#TRUE--CAPS"
><code class="literal">TRUE</code></a> will close all fds but 0,1, and 2
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> the process id, or <code class="literal">-1</code> on error.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="gnome_execute_shell ()">
<a name="gnome-execute-shell"></a><h3>gnome_execute_shell ()</h3>
<pre class="programlisting">int                 gnome_execute_shell                 (const char *dir,
                                                         const char *commandline);</pre>
<p>
Like <a class="link" href="libgnome-gnome-exec.html#gnome-execute-async-with-env" title="gnome_execute_async_with_env ()"><code class="function">gnome_execute_async_with_env()</code></a>, but uses the user's shell
to run the desired program.  Note that the pid of the shell is returned, not
the pid of the user's program.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>dir</code></em> :</span></p></td>
<td> Directory in which child should be executed, or <a
href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL--CAPS"
><code class="literal">NULL</code></a> for current
      directory
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>commandline</code></em> :</span></p></td>
<td> Shell command to execute
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> process id of shell, or <code class="literal">-1</code> on error.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="gnome_execute_shell_fds ()">
<a name="gnome-execute-shell-fds"></a><h3>gnome_execute_shell_fds ()</h3>
<pre class="programlisting">int                 gnome_execute_shell_fds             (const char *dir,
                                                         const char *commandline,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"
>gboolean</a> close_fds);</pre>
<p>
Like <a class="link" href="libgnome-gnome-exec.html#gnome-execute-async-with-env-fds" title="gnome_execute_async_with_env_fds ()"><code class="function">gnome_execute_async_with_env_fds()</code></a>, but uses the user's
shell to run the desired program.  Note that the pid of the shell is
returned, not the pid of the user's program.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>dir</code></em> :</span></p></td>
<td> Directory in which child should be executed, or <a
href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL--CAPS"
><code class="literal">NULL</code></a> for current
      directory
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>commandline</code></em> :</span></p></td>
<td> Shell command to execute
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>close_fds</code></em> :</span></p></td>
<td> Like close_fds in <a class="link" href="libgnome-gnome-exec.html#gnome-execute-async-with-env-fds" title="gnome_execute_async_with_env_fds ()"><code class="function">gnome_execute_async_with_env_fds()</code></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> process id of shell, or <code class="literal">-1</code> on error.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="gnome_prepend_terminal_to_vector ()">
<a name="gnome-prepend-terminal-to-vector"></a><h3>gnome_prepend_terminal_to_vector ()</h3>
<pre class="programlisting">void                gnome_prepend_terminal_to_vector    (int *argc,
                                                         char ***argv);</pre>
<p>
Prepends a terminal (either the one configured as default in
the user's GNOME setup, or one of the common xterm emulators) to the passed
in vector, modifying it in the process.  The vector should be allocated with
<a
href="/usr/share/gtk-doc/html/glib/glib-Memory-Allocation.html#g-malloc"
><span class="type">g_malloc</span></a>, as this will <a
href="/usr/share/gtk-doc/html/glib/glib-Memory-Allocation.html#g-free"
><span class="type">g_free</span></a> the original vector.  Also all elements must
have been allocated separately.  That is the standard glib/GNOME way of
doing vectors however.  If the integer that <em class="parameter"><code>argc</code></em> points to is negative, the
size will first be computed.  Also note that passing in pointers to a vector
that is empty, will just create a new vector for you.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>argc</code></em> :</span></p></td>
<td> a pointer to the vector size
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>argv</code></em> :</span></p></td>
<td> a pointer to the vector
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="gnome_execute_terminal_shell ()">
<a name="gnome-execute-terminal-shell"></a><h3>gnome_execute_terminal_shell ()</h3>
<pre class="programlisting">int                 gnome_execute_terminal_shell        (const char *dir,
                                                         const char *commandline);</pre>
<p>
Like <a class="link" href="libgnome-gnome-exec.html#gnome-execute-async" title="gnome_execute_async ()"><span class="type">gnome_execute_async</span></a>, except that it runs the
terminal as well.  Note that the pid of the terminal is
returned, not the pid of the user's program.
If commandline is <a
href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL--CAPS"
><code class="literal">NULL</code></a>, just the shell is run.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>dir</code></em> :</span></p></td>
<td> Directory in which child should be executed, or NULL for current
      directory
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>commandline</code></em> :</span></p></td>
<td> Shell command to execute
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> process id of terminal, or <code class="literal">-1</code> on error.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="gnome_execute_terminal_shell_fds ()">
<a name="gnome-execute-terminal-shell-fds"></a><h3>gnome_execute_terminal_shell_fds ()</h3>
<pre class="programlisting">int                 gnome_execute_terminal_shell_fds    (const char *dir,
                                                         const char *commandline,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"
>gboolean</a> close_fds);</pre>
<p>
Like <a class="link" href="libgnome-gnome-exec.html#gnome-execute-shell-fds" title="gnome_execute_shell_fds ()"><code class="function">gnome_execute_shell_fds()</code></a>, except that it runs the
terminal as well.  Note that the pid of the terminal is
returned, not the pid of the user's program.
If commandline is <a
href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL--CAPS"
><code class="literal">NULL</code></a>, just the shell is run.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>dir</code></em> :</span></p></td>
<td> Directory in which child should be executed, or <a
href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#NULL--CAPS"
><code class="literal">NULL</code></a> for current
      directory
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>commandline</code></em> :</span></p></td>
<td> Shell command to execute
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>close_fds</code></em> :</span></p></td>
<td> Like close_fds in <a class="link" href="libgnome-gnome-exec.html#gnome-execute-async-with-env-fds" title="gnome_execute_async_with_env_fds ()"><code class="function">gnome_execute_async_with_env_fds()</code></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> process id of terminal, or <code class="literal">-1</code> on error.
</td>
</tr>
</tbody>
</table></div>
</div>
</div>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.11</div>
</body>
</html>
