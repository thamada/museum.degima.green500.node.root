<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % DISTRO_SPECIFICS SYSTEM "distro-specifics.ent">
<!ENTITY DISTRO_MAINMENU '<guimenu>the main menu on the panel (the menu with the "f" icon)</guimenu>'>
<!ENTITY % SYSTEM_CONFIG_SAMBA_DISTRO_SPECIFICS SYSTEM "system-config-samba-distro-specifics.ent">
<!ENTITY SYSTEM_CONFIG_SAMBA_TOOL "Samba Server Configuration Tool">
<!ENTITY SYSTEM_CONFIG_SAMBA_INVOCATION '
    <indexterm significance="normal">
        <primary><command>system-config-samba</command>
        </primary>
        <see>&SYSTEM_CONFIG_SAMBA_TOOL;</see>
    </indexterm>

    <para>
        You must be running the <application>X</application> Window System and have root privileges to use the &SYSTEM_CONFIG_SAMBA_TOOL;. To start the application on the desktop, go to <menuchoice>&DISTRO_MAINMENU;<guisubmenu>System</guisubmenu><guisubmenu>Administration</guisubmenu><guimenuitem>Samba</guimenuitem></menuchoice>.
    </para>
'>
<!ENTITY SYSTEM_CONFIG_SAMBA_ABSTRACT SYSTEM "system-config-samba-abstract.xml">
<!ENTITY SYSTEM_CONFIG_SAMBA_CONTENT SYSTEM "system-config-samba-content.xml">
]>
<article lang="ja"><title>Samba サーバーの設定</title><articleinfo><revhistory><revision><revnumber>1.0</revnumber><date>2008年 1月21日</date></revision><revision><revnumber>1.0.1</revnumber><date>2008年 3月12日</date></revision></revhistory><abstract role="description"><para><application>Samba サーバー設定ツール</application> は、ファイルやプリンターを他のコンピューターと共用できる Samba サーバーの設定に使われます。</para>
</abstract><authorgroup><corpauthor role="maintainer"><trademark class="registered">レッドハット</trademark>社</corpauthor></authorgroup><copyright><year>2002,2003.</year><holder>James Hashida (khashida@redhat.com)</holder></copyright><copyright><year>2004.</year><holder>上鍵 忠志 (fedora@elf.no-ip.org)</holder></copyright><copyright><year>2004, 2007.</year><holder>水本 紀子 (noriko@redhat.com)</holder></copyright><copyright><year>2005.</year><holder>斉藤 博文 (hi_saito@yk.rim.or.jp)</holder></copyright><copyright><year>2007, 2009.</year><holder>日向原 龍一 (hyu_gabaru@yahoo.co.jp)</holder></copyright><copyright><year>2008.</year><holder>橋田 喜代人 (khashida@redhat.com)</holder></copyright></articleinfo>    <para><application>Samba サーバー設定ツール</application> は、ファイルやプリンターを他のコンピューターと共用できる Samba サーバーの設定に使われます。</para>


    <indexterm significance="normal"><primary><command>system-config-samba</command>
        </primary><see>Samba サーバーの設定ツール</see></indexterm><para>Samba サーバー設定ツールを使うには、<application>X</application> Window システムを実行中で、root 権限を持っている必要があります。デスクトップでアプリケーションを起動するには、<menuchoice><guimenu>パネル上の主メニュー ("f" アイコンのメニュー)</guimenu><guisubmenu>システム</guisubmenu><guisubmenu>管理</guisubmenu><guimenuitem>Samba</guimenuitem></menuchoice>へ行きます。</para>


	<para><application>Samba サーバー設定ツール</application>は Samba の共有や、利用者、基本サーバー設定を管理するためのグラフィカルインターフェースです。<filename>/etc/samba/</filename>ディレクトリーの設定ファイルを変更します。これらのファイルへの、アプリケーションを使わずに行った他の変更はそのまま保存されます。</para>
	<para>このアプリケーションを使うには、X Window システムを実行中で、root 権限を 持っている必要があります。デスクトップから<application>Samba サーバー設定ツール</application>を起動するには、<menuchoice><guimenu>パネル上の主メニュー("f"アイコンのメニュー)</guimenu><guisubmenu>システム</guisubmenu><guisubmenu>管理</guisubmenu><guimenuitem>Samba</guimenuitem></menuchoice>へ行くか、シェルプロンプト(例えば XTerm や GNOME 端末)でコマンド<command>system-config-samba</command>とタイプします。</para>
	<figure float="0" id="fig-s-c-samba"><title><application>Samba サーバーの設定ツール</application></title><mediaobject><imageobject><imagedata fileref="images/system-config-samba.png" format="PNG"/></imageobject><textobject><para>
					<application>Samba サーバーの設定ツール</application>
				</para></textobject></mediaobject></figure>
	<note><title>注意</title><para><application>Samba サーバー設定ツール</application>は利用者に Samba サーバー上の自分のホームディレクトリーを見せるデフォルトの連や、共有プリンターを表示しません。</para></note>
	<section id="s3-samba-gui-server-settings"><title>サーバー設定</title><indexterm significance="normal"><primary>Samba</primary><secondary>グラフィカル設定</secondary><tertiary>サーバー設定</tertiary></indexterm><para>Samba サーバー設定の第一歩は、サーバーの基本と、セキュリティーを設定することです。アプリケーション起動後、プルダウンメニューから<menuchoice><guimenu>好み</guimenu><guimenu>サーバー設定item&gt;</guimenu></menuchoice></para><figure float="0" id="fig-samba-basic"><title>基本サーバー設定</title><mediaobject><imageobject><imagedata fileref="images/system-config-samba-server-settings-basic.png" format="PNG"/></imageobject><textobject><para>基本サーバー設定</para></textobject></mediaobject></figure><para><guilabel>基本</guilabel>タブでは、どのワークグループにコンピューターが属するかと、コンピューターの簡単な記述を指定します。<filename>smb.conf</filename>の<command>workgroup</command>と<command>server string</command>オプションに相当します。</para><figure float="0" id="fig-samba-security"><title>セキュリティーサーバーの設定</title><mediaobject><imageobject><imagedata fileref="images/system-config-samba-server-settings-security.png" format="PNG"/></imageobject><textobject><para>セキュリティーサーバーの設定</para></textobject></mediaobject></figure><para><guilabel>セキュリティー</guilabel>タブは以下のオプションを含みます:</para><itemizedlist><listitem><para><guilabel>認証モード</guilabel> — これは<command>security</command>オプションに相当します。以下の認証タイプから一つを選択します。</para><itemizedlist><listitem><para><guilabel>ADS</guilabel> — Samba サーバーはアクティブディレクトリードメイン (ADS) レルムのドメインメンバーのように振る舞います。このオプションを使うにはサーバー上で kerberos がインストールされて設定されており、<filename>samba-client</filename>パッケージの一部である<command>net</command>を使ってSamba が ADS レルムのメンバーになっていなければなりません。詳細については<command>net</command>の man ページを参照してください。このオプションは Samba を ADS コントローラーとしては設定しません。<guilabel>Kerberos レルム</guilabel>領域の Kerberos サーバーのレルムを指定してください。</para><note><title>注意</title><para><guilabel>Kerberos レルム</guilabel>領域は<command>EXAMPLE.COM</command>のように全て大文字で指定してください。</para><para>Samba サーバーを ADS レルムのドメインメンバーとして使用することは、<filename>/etc/krb5.conf</filename>ファイルを含めて正しい Kerberos 設定が行われているとみなしています。</para></note></listitem><listitem><para><guilabel>ドメイン</guilabel> — Samba サーバーは利用者を検証するのに Windows NT 主又はバックアップドメインコントローラーに依存します。サーバーは利用者名とパスワードをコントローラーに渡し、返事を待ちます。<guilabel>認証サーバー</guilabel>領域に主又はバックアップドメインコントローラーの NetBIOS 名を指定してください。</para><para><guilabel>暗号化パスワード</guilabel> オプションを選択するのならば<guilabel>はい</guilabel> に設定してください。</para></listitem><listitem><para><guilabel>サーバー</guilabel> — Samba サーバーは利用者名とパスワードを他の Samba サーバーに渡すことで検証しようとします。できなければ利用者認証モードで検証使用とします。<guilabel>認証サーバー</guilabel>領域に他の Samba サーバーの NetBIOS 名を指定してください。</para></listitem><listitem><para><guilabel>共有</guilabel> — Samba 利用者は利用者名とパスワードを Samba サーバー毎に入力する必要はありません。特定の共有ディレクトリーに接続しようとするまでは Samba サーバーから利用者名とパスワードを要求されることはありません。</para></listitem><listitem><para><guilabel>利用者</guilabel> — (デフォルト) Samba 利用者は Samba サーバー毎に有効な利用者名とパスワードを与える必要があります。<guilabel>Windows 利用者名</guilabel>オプションが働くようにするにはこのオプションを選択してください。詳細については<xref linkend="s3-samba-gui-users"/> を参照してください。</para></listitem></itemizedlist></listitem><listitem><para><guilabel>暗号化パスワード</guilabel> — クライアントが Windows 98や、Windows NT サービスパック3、他の Microsoft Windows のもっと最近のバージョンから接続場合は、このオプションを有効にしてください。パスワードが傍受可能な平文ではなく、暗号化されてサーバーとクライアント間で転送されます。これは<command>encrypted password</command>オプションに対応します。</para></listitem><listitem><para><guilabel>ゲストアカウント</guilabel> — Samba サーバーに利用者やゲスト利用者がログインするには、サーバー上の正当な利用者に対応づけされなければなりません。ゲスト Samba アカウントとする、システム上の既存の利用者名を選択してください。ゲストが Samba サーバーにログインした際、この利用者と同じ権限を持ちます。これは<command>guest account</command>オプションに対応します。</para></listitem></itemizedlist><para><guibutton>OK</guibutton>をクリックすると、変更は設定ファイルに書き込まれ、デーモンが再起動されます。このようにして変更は直ちに有効になります。</para></section>
	
	<section id="s3-samba-gui-users"><title>Samba ユーザーの管理</title><indexterm significance="normal"><primary>Samba</primary><secondary>グラフィカル設定</secondary><tertiary>Samba ユーザーの管理</tertiary></indexterm><para><application>Samba サーバー設定ツール</application>は、Samba 利用者が追加できる前に Samba サーバーとして動作するシステム上で既存の利用者アカウントがアクティブであることを必要とします。</para><figure float="0" id="fig-samba-users"><title>Samba ユーザーの管理</title><mediaobject><imageobject><imagedata fileref="images/system-config-samba-users.png" format="PNG"/></imageobject><textobject><para>Samba ユーザーの管理</para></textobject></mediaobject></figure><para>Samba 利用者を追加するには、プルダウンメニューから<menuchoice><guimenu>好み</guimenu><guimenuitem>Samba 利用者</guimenuitem></menuchoice>を選択し、<guibutton>利用者の追加</guibutton>ボタンをクリックします。<guilabel>新しい Samba 利用者を作成する</guilabel>ウィンドウでローカルシステム上の既存の利用者の一覧から<guilabel>Unix 利用者名</guilabel>を選択します。</para><para>利用者が Windows マシン上で異なる利用者名を持っており、Windows マシンからログインする必要がある場合には、<guilabel>Windows 利用者名</guilabel>領域にWindows の利用者名を指定します。<guilabel>サーバー設定</guilabel>の<guilabel>セキュリティー</guilabel>タブの<guilabel>認証モード</guilabel>好みは、このオプションが動作するように<guilabel>利用者</guilabel>に設定しなければなりません。</para><para>また、Samba 利用者用の<guilabel>Sambaパスワード</guilabel>を設定し、再入力することで確認します。Samba 用に暗号化パスワードを選択したとしても、Samba パスワードはシステムのパスワードとは異なることを推奨します。</para><para>既存の利用者を編集するには、一覧から利用者を選択し、<guibutton>Edit User</guibutton>をクリックします。既存の Samba 利用者を削除するには、その利用者を選択し、<guibutton>Delete User</guibutton>をクリックします。Samba 利用者を削除してもその利用者のアカウントを削除するわけではありません。</para><para>利用者は<guibutton>OK</guibutton>ボタンを押すと直ちに修正されます。</para></section>
	
	<section id="s3-samba-gui-add-share"><title>共有を追加</title><indexterm significance="normal"><primary>Samba</primary><secondary>グラフィカル設定</secondary><tertiary>共有を追加</tertiary></indexterm><para>Samba の共有を作成するには、Samba の主設定ウィンドウで<guibutton>Add</guibutton>ボタンをクリックします。</para><figure float="0" id="fig-samba-add-share"><title>共有を追加</title><mediaobject><imageobject><imagedata fileref="images/system-config-samba-create-share.png" format="PNG"/></imageobject><textobject><para>Samba 共有を追加</para></textobject></mediaobject></figure><para><guilabel>Basic</guilabel>タブで以下のオプションを設定します:</para><itemizedlist><listitem><para><guilabel>Directory</guilabel> — Samba 経由でディレクトリーの共有。ディレクトリーはここに入れる前に存在しなければなりません。</para></listitem><listitem><para><guilabel>Share name</guilabel> — リモートマシンから見える共有の実名。デフォルトでは<guilabel>Directory</guilabel>と同じ値だが設定可能。</para></listitem><listitem><para><guilabel>Descriptions</guilabel> — 共有の短い説明。</para></listitem><listitem><para><guilabel>Writable</guilabel> —  共有ディレクトリーに利用者が読み書きできるようにする</para></listitem><listitem><para><guilabel>Visible</guilabel> — 共有ディレクトリーににして利用者に読込み権限を与える。</para></listitem></itemizedlist><para><guilabel>Access</guilabel>タブでは、共有に対して指定した利用者しかアクセスを認めないか、全 Samba 利用者にアクセスを認めるかを選択します。指定した利用者しかアクセスを認めないを選択した場合、利用可能な Samba 利用者の一覧から利用者を選択してください。</para><para>共有は<guibutton>OK</guibutton>のクリック直後から追加されます。</para></section>
</article>
