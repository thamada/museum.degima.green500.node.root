<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % DISTRO_SPECIFICS SYSTEM "distro-specifics.ent">
<!ENTITY DISTRO_MAINMENU '<guimenu>the main menu on the panel (the menu with the "f" icon)</guimenu>'>
<!ENTITY % SYSTEM_CONFIG_SAMBA_DISTRO_SPECIFICS SYSTEM "system-config-samba-distro-specifics.ent">
<!ENTITY SYSTEM_CONFIG_SAMBA_TOOL "Samba Server Configuration Tool">
<!ENTITY SYSTEM_CONFIG_SAMBA_INVOCATION '
    <indexterm significance="normal">
        <primary><command>system-config-samba</command>
        </primary>
        <see>&SYSTEM_CONFIG_SAMBA_TOOL;</see>
    </indexterm>

    <para>
        You must be running the <application>X</application> Window System and have root privileges to use the &SYSTEM_CONFIG_SAMBA_TOOL;. To start the application on the desktop, go to <menuchoice>&DISTRO_MAINMENU;<guisubmenu>System</guisubmenu><guisubmenu>Administration</guisubmenu><guimenuitem>Samba</guimenuitem></menuchoice>.
    </para>
'>
<!ENTITY SYSTEM_CONFIG_SAMBA_ABSTRACT SYSTEM "system-config-samba-abstract.xml">
<!ENTITY SYSTEM_CONFIG_SAMBA_CONTENT SYSTEM "system-config-samba-content.xml">
]>
<article lang="ru"><title>Настройка сервера SAMBA</title><articleinfo><revhistory><revision><revnumber>1.0</revnumber><date>2008-01-21</date></revision><revision><revnumber>1.0.1</revnumber><date>2008-03-12</date></revision></revhistory><abstract role="description"><para><application>Утилита настройки сервера Samba</application> используется для настройки сервера Samba. Если вы хотите открыть доступ к файлам или принтерам своего компьютера для других компьютеров в сети, вы можете сделать это с помощью данной утилиты.</para>
</abstract><authorgroup><corpauthor role="maintainer"><trademark class="registered">Red Hat</trademark>, Inc.</corpauthor></authorgroup><copyright><year>2009.</year><holder>Sergey Nikolaevich Raspopov (qwerty3456@mail.ru)</holder></copyright></articleinfo>    <para><application>Утилита настройки сервера Samba</application> используется для настройки сервера Samba. Если вы хотите открыть доступ к файлам или принтерам своего компьютера для других компьютеров в сети, вы можете сделать это с помощью данной утилиты.</para>


    <indexterm significance="normal"><primary><command>system-config-samba</command>
        </primary><see>Утилита настройки сервера Samba</see></indexterm><para>Вы должны запустить <application>X</application> Window System и иметь привилегии root, что бы использовать утилиту для настройки сервера Samba. Для запуска утилиты используйте <menuchoice><guimenu>Главное меню на панели задач (меню с синим значком "f")</guimenu><guisubmenu>Система</guisubmenu><guisubmenu>Администрирование</guisubmenu><guimenuitem>Samba</guimenuitem></menuchoice>.</para>


	<para><application>Утилита настройки сервера Samba</application> это графический интерфейс для управления ресурсами и пользователями Samba, и его основной настройки. Утилита изменяет конфигурационные файлы в каталоге <filename>/etc/samba/</filename>. Все изменения сделанные не с помощью утилиты сохраняются.</para>
	<para>Чтобы использовать приложение, вы должны запустить X Window System и иметь привилегии root. Для запуска приложения <application>Утилита настройки сервера Samba</application> выберите <menuchoice><guimenu>Главное меню на панели задач (меню с синим значком "f")</guimenu><guisubmenu>Система</guisubmenu><guisubmenu>Администрирование</guisubmenu><guimenuitem>Samba</guimenuitem></menuchoice> или выполните команду <command>system-config-samba</command> в командной строке (например в терминале GNOME или XTerm).</para>
	<figure float="0" id="fig-s-c-samba"><title><application>Утилита настройки сервера Samba</application></title><mediaobject><imageobject><imagedata fileref="images/system-config-samba.png" format="PNG"/></imageobject><textobject><para>
					<application>Утилита настройки сервера Samba</application>
				</para></textobject></mediaobject></figure>
	<note><title>Замечание</title><para><application>Утилита настройки сервера Samba</application> не отображает принтеры с общим доступом или стансы, которые позволяют пользователям просматривать свои домашние каталоги на сервере Samba.</para></note>
	<section id="s3-samba-gui-server-settings"><title>Настройка сервера</title><indexterm significance="normal"><primary>Samba</primary><secondary>Графический конфигуратор</secondary><tertiary>настройка сервера</tertiary></indexterm><para>Первый шаг в настройке сервера Samba состоит в указании базовых параметров и нескольких параметров безопасности. После старта приложения выберите <menuchoice><guimenu>Настройки</guimenu><guimenuitem>Параметры сервера</guimenuitem></menuchoice> из выпадающего меню. Закладка <guilabel>Основные</guilabel> показана ниже (<xref linkend="fig-samba-basic"/>).</para><figure float="0" id="fig-samba-basic"><title>Основные настройки сервера Samba</title><mediaobject><imageobject><imagedata fileref="images/system-config-samba-server-settings-basic.png" format="PNG"/></imageobject><textobject><para>Основные настройки сервера Samba</para></textobject></mediaobject></figure><para>На закладке <guilabel>Основное</guilabel> следует указать рабочую группу компьютера, а также краткое описание компьютера. Эти поля соответствуют директивам <command>workgroup</command> и <command>server string</command> в файле <filename>smb.conf</filename>.</para><figure float="0" id="fig-samba-security"><title>Настройки безопасности сервера</title><mediaobject><imageobject><imagedata fileref="images/system-config-samba-server-settings-security.png" format="PNG"/></imageobject><textobject><para>Настройки безопасности сервера</para></textobject></mediaobject></figure><para>Закладка <guilabel>Безопастность</guilabel> содержит опции:</para><itemizedlist><listitem><para><guilabel>Режим аутентификации</guilabel> — Этот параметр соответствует директиве <command>security</command>. Выберите один из представленных типов аутентификации.</para><itemizedlist><listitem><para><guilabel>ADS</guilabel> — Сервер Samba является членом домена Active Directory (ADS). Для работы требуется установленный и настроенный Kerberos, сервер Samba должен быть зарегистрирован в ADS с помощью утилиты <command>net</command>, которая является частью пакета <filename>samba-client</filename>. Прочитайте man для утилиты <command>net</command>, чтобы узнать подробности. Этот параметр не настраивает Samba как контроллер домена ADS.</para><note><title>Замечание</title><para>Поле <guilabel>Домен Kerberos</guilabel> должно содержать в себе имя домена только заглавными буквами, например <command>EXAMPLE.COM</command>.</para><para>Используя Samba сервер как член домена, ADS предполагает правильно настроенный Kerberos с помощью файла <filename>/etc/krb5.conf</filename>.</para></note></listitem><listitem><para><guilabel>Domain</guilabel> — Samba сервер предполагает наличие Windows NT Primary или Backup Domain Controller в сети для аутентификации пользователей. Сервер передаёт имя пользователя и пароль контроллеру и ждёт его ответа. Укажите NetBIOS имя Primary или Backup Domain Controller в поле <guilabel>Сервер аутентификации</guilabel>.</para><para>Укажите нужный параметр в меню <guilabel>Шифровать пароли</guilabel> <guilabel>Yes</guilabel>, если нужно шифрование.</para></listitem><listitem><para><guilabel>Сервер</guilabel> — Samba сервер попытается передать имя пользователя и пароль другому серверу Samba для проверки. Если это не удаётся, сервер проверяет данные, используя метод локальной аутентификации пользователя. Укажите имя NetBIOS другого сервера Samba в поле <guilabel>Сервер аутентификации</guilabel>.</para></listitem><listitem><para><guilabel>Ресурс</guilabel> — пользователям Samba не нужно имя пользователя и пароль для сервера Samba. Пока пользователи подключаются к определённым ресурсам, им не нужно вводить пару логин-пароль.</para></listitem><listitem><para><guilabel>Пользователь</guilabel> — (По умолчанию) Сервер samba должен проверить правильность имени пользователя и пароля на каждом сервере Samba. При выборе этой опции нужно будет настроить параметр <guilabel>Пользователи Windows</guilabel>. <xref linkend="s3-samba-gui-users"/> содержит более подробную информацию.</para></listitem></itemizedlist></listitem><listitem><para><guilabel>Шифровать пароли</guilabel> — Этот параметр должен быть включён если клиент соединяется с системами Windows 98, Windows NT 4.0 с Service Pack 3 или других более новых версий Microsoft Windows. Пароль будет передаваться между сервером и клиентом по сети в зашифрованном формате, а не простым текстом, что препятствует перехвату пароля. Соответствует директиве <command>encrypted passwords</command>.</para></listitem><listitem><para><guilabel>Гостевая учётная запись</guilabel> — Когда пользователь или гость подключается к серверу Samba, он должен быть сопоставлен существующему пользователю в системе. Выберите пользователя системы, чтобы указать гостевую учётную запись, которую будет использовать сервер Samba. Пользователь с учётной записью гостя будет иметь привилегии этого пользователя в системе. Параметр соответствует директиве <command>guest account</command>.</para></listitem></itemizedlist><para>После щелчка на кнопке <guibutton>OK</guibutton> изменения будут сохранены в конфигурационный файл, демон будет перезапущен с целью их применения.</para></section>
	
	<section id="s3-samba-gui-users"><title>Управление пользователями Samba</title><indexterm significance="normal"><primary>Samba</primary><secondary>Графический конфигуратор</secondary><tertiary>управление пользователями Samba</tertiary></indexterm><para><application>Утилита настройки сервера Samba</application> требует, чтобы нужные учётные записи пользователей существовали в системе, прежде чем можно будет добавить пользователя Samba. Пользователи Samba соответствуют существующим пользователям в системе.</para><figure float="0" id="fig-samba-users"><title>Управление пользователями Samba</title><mediaobject><imageobject><imagedata fileref="images/system-config-samba-users.png" format="PNG"/></imageobject><textobject><para>Управление пользователями Samba</para></textobject></mediaobject></figure><para>Чтобы добавить пользователя Samba, выберите <menuchoice><guimenu>Настройка</guimenu><guimenuitem>Пользователи Samba</guimenuitem></menuchoice> из выпадающего меню и нажмите кнопку <guibutton>Добавить пользователя</guibutton>.  В окне <guilabel>Добавить нового пользователя</guilabel> выберите <guilabel>Имя пользователя Unix</guilabel> из списка существующих пользователей локальной системы.</para><para>Если пользователь отличается от имени пользователя в системе Windows и должен входить на сервера Samba с машины под управлением Windows, пропишите нужное имя пользователя в поле <guilabel>Имя пользователя Windows</guilabel>.Для работы этой опции пункт <guilabel>Метод аутентификации</guilabel> на закладке <guilabel>Безопасность</guilabel> в окне <guilabel>Настройка сервера</guilabel> должен быть в режиме <guilabel>Пользователь</guilabel>.</para><para>Введите <guilabel>Пароль Samba</guilabel> для пользователя samba и повторите его в соответствующем поле. Даже если вы решили использовать зашифрованные пароли для Samba, рекомендуется использовать различные пароли для пользователей Samba и системных пользователей.</para><para>Для редактирования существующих пользователей выберите пользователя из списка и щёлкните на кнопке <guibutton>Редактирование пользователя</guibutton>. Чтобы удалить существующего пользователя, выберите его из списка и щёлкните на кнопке <guibutton>Удалить пользователя</guibutton>. Удаление пользователя Samba не приводит к удалению системного пользователя.</para><para>Пользовательские настройки применяются непосредственно после щелчка на кнопке <guibutton>OK</guibutton>.</para></section>
	
	<section id="s3-samba-gui-add-share"><title>Добавление ресурса</title><indexterm significance="normal"><primary>Samba</primary><secondary>Графический конфигуратор</secondary><tertiary>Добавление ресурса</tertiary></indexterm><para>Чтобы создать общий ресурс Samba, нажмите кнопку <guibutton>Добавить</guibutton> в основном окне настройки сервера Samba.</para><figure float="0" id="fig-samba-add-share"><title>Добавление ресурса</title><mediaobject><imageobject><imagedata fileref="images/system-config-samba-create-share.png" format="PNG"/></imageobject><textobject><para>Добавление ресурсов Samba</para></textobject></mediaobject></figure><para>Закладка <guilabel>Основной</guilabel> содержит следующие параметры:</para><itemizedlist><listitem><para><guilabel>Каталог</guilabel> — Абсолютный путь к существующему каталогу, соответствующему общему ресурсу Samba.</para></listitem><listitem><para><guilabel>Имя ресурса</guilabel> — Имя ресурса, под которым он будет виден другим компьютерам в сети. По умолчанию соответствует параметру <guilabel>Каталог</guilabel>, но может быть изменён.</para></listitem><listitem><para><guilabel>Описание</guilabel> — Краткое описание общего ресурса.</para></listitem><listitem><para><guilabel>Запись разрешена</guilabel> — Разрешить пользователям читать и записывать изменения в каталог.</para></listitem><listitem><para><guilabel>Виден</guilabel> — Разрешение на чтение для пользователей ресурса.</para></listitem></itemizedlist><para>На закладке <guilabel>Доступ</guilabel> выберите определённых пользователей или укажите доступ всем пользователям на данный ресурс. Если вы разрешили доступ только определённым пользователям, отметьте их в списке доступных пользователей Samba.</para><para>Чтобы сразу добавить ресурс, нажмите кнопку <guibutton>OK</guibutton>.</para></section>
</article>
