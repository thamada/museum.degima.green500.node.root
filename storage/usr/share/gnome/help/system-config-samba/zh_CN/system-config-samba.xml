<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % DISTRO_SPECIFICS SYSTEM "distro-specifics.ent">
<!ENTITY DISTRO_MAINMENU '<guimenu>the main menu on the panel (the menu with the "f" icon)</guimenu>'>
<!ENTITY % SYSTEM_CONFIG_SAMBA_DISTRO_SPECIFICS SYSTEM "system-config-samba-distro-specifics.ent">
<!ENTITY SYSTEM_CONFIG_SAMBA_TOOL "Samba Server Configuration Tool">
<!ENTITY SYSTEM_CONFIG_SAMBA_INVOCATION '
    <indexterm significance="normal">
        <primary><command>system-config-samba</command>
        </primary>
        <see>&SYSTEM_CONFIG_SAMBA_TOOL;</see>
    </indexterm>

    <para>
        You must be running the <application>X</application> Window System and have root privileges to use the &SYSTEM_CONFIG_SAMBA_TOOL;. To start the application on the desktop, go to <menuchoice>&DISTRO_MAINMENU;<guisubmenu>System</guisubmenu><guisubmenu>Administration</guisubmenu><guimenuitem>Samba</guimenuitem></menuchoice>.
    </para>
'>
<!ENTITY SYSTEM_CONFIG_SAMBA_ABSTRACT SYSTEM "system-config-samba-abstract.xml">
<!ENTITY SYSTEM_CONFIG_SAMBA_CONTENT SYSTEM "system-config-samba-content.xml">
]>
<article lang="zh_CN"><title>SAMBA服务器配置</title><articleinfo><revhistory><revision><revnumber>1.0</revnumber><date>2008-01-21</date></revision><revision><revnumber>1.0.1</revnumber><date>2008-03-12</date></revision></revhistory><abstract role="description"><para><application>Samba服务器配置工具</application>用来配置Samba服务器，它可让您与其它计算机共享文件和/或打印机。</para>
</abstract><authorgroup><corpauthor role="maintainer"><trademark class="registered">Red Hat</trademark>, Inc.</corpauthor></authorgroup></articleinfo>    <para><application>Samba服务器配置工具</application>用来配置Samba服务器，它可让您与其它计算机共享文件和/或打印机。</para>


    <indexterm significance="normal"><primary><command>system-config-samba</command>
        </primary><see>Samba服务器配置工具</see></indexterm><para>您必须运行<application>X</application>窗口系统并具有root权限才可以使用Samba服务器配置工具。要从桌面上启动该程序，点<menuchoice><guimenu>面板主菜单(带"f"图标的那个)</guimenu><guisubmenu>系统</guisubmenu><guisubmenu>管理</guisubmenu><guimenuitem>Samba</guimenuitem></menuchoice>。</para>


	<para><application>Samba服务器配置工具</application>是个用来管理Samba共享，Samba用户和基本共享服务器设置的图形化界面程序。它修改<filename>/etc/samba/</filename>目录下的配置文件。非该程序所做的修改也被保留。</para>
	<para>要运行该程序，您处于<application>X</application>图形环境并具有root权限。要从桌面启动<application>Samba服务器配置工具</application>，点<menuchoice><guimenu>面板主菜单(带"f"图标的那个)</guimenu><guisubmenu>系统</guisubmenu><guisubmenu>管理</guisubmenu><guimenuitem>Samba</guimenuitem></menuchoice>，或者在shell(例如在XTerm或者GNOME terminal)中输入命令<command>system-config-samba</command>。</para>
	<figure float="0" id="fig-s-c-samba"><title><application>Samba服务器配置工具</application></title><mediaobject><imageobject><imagedata fileref="images/system-config-samba.png" format="PNG"/></imageobject><textobject><para>
					<application>Samba服务器配置工具</application>
				</para></textobject></mediaobject></figure>
	<note><title>注意</title><para><application>Samba服务器配置工具</application>不显示共享的打印机或默认的允许用户通过Samba服务器浏览他们自身主目录的节。</para></note>
	<section id="s3-samba-gui-server-settings"><title>配置服务器设置</title><indexterm significance="normal"><primary>Samba</primary><secondary>图形化配置</secondary><tertiary>配置服务器设置</tertiary></indexterm><para>配置Samba服务器首先要为服务器做基本设置和一些安全选择。启动程序后，从下拉菜单中选择<menuchoice><guimenu>偏好设置</guimenu><guimenuitem>服务器设置</guimenuitem></menuchoice>。像<xref linkend="fig-samba-basic"/>中一样的<guilabel>基本</guilabel>选项卡会出现。</para><figure float="0" id="fig-samba-basic"><title>配置基本服务器设置</title><mediaobject><imageobject><imagedata fileref="images/system-config-samba-server-settings-basic.png" format="PNG"/></imageobject><textobject><para>配置基本服务器设置</para></textobject></mediaobject></figure><para>在<guilabel>基本</guilabel>选项中，为计算机指定工作组并为计算机做简单描述。这与<filename>smb.conf</filename>文件中的<command>workgroup</command>和<command>server string</command>相对应。</para><figure float="0" id="fig-samba-security"><title>配置安全设置</title><mediaobject><imageobject><imagedata fileref="images/system-config-samba-server-settings-security.png" format="PNG"/></imageobject><textobject><para>配置安全设置</para></textobject></mediaobject></figure><para><guilabel>安全</guilabel>选项卡包括以下选项：</para><itemizedlist><listitem><para><guilabel>验证方式</guilabel> — 这与<command>安全</command>选项卡对应。从以下验证方式中选择一种。</para><itemizedlist><listitem><para><guilabel>ADS</guilabel> — Samba服务器是活动目录域(ADS)中的域成员。对于此选项，必须安装并配置了Kerberos，且使用<command>net</command>工具使Samba必须成为ADS域的一员，该工具是<filename>samba-client</filename>包的一部分。参考<command>net</command>的man手册页了解详情。此选项并不会把Samba配置为ADS控制器。在<guilabel>Kerberos Realm</guilabel>中指定Kerberos服务器的域。</para><note><title>注意</title><para><guilabel>Kerberos Realm</guilabel>必须使用大写字母，例如<command>EXAMPLE.COM</command>。</para><para>将Samba服务器做为ADS域的成员会认为已经配置好了Kerberos，以及<filename>/etc/krb5.conf</filename>文件。</para></note></listitem><listitem><para><guilabel>域</guilabel> — Samba服务器依靠Windows NT Primary或Backup域控制器来验证用户。服务器将用户名和密码传至控制器并等待回复。在<guilabel>验证服务器</guilabel>中指定Primary或Backup域控制器的NetBIOS名称。</para><para>若选择此项，则<guilabel>密码加密</guilabel>必须设置为<guilabel>是</guilabel>。</para></listitem><listitem><para><guilabel>服务器</guilabel> — Samba服务器尝试通过把用户名和密码组合传给其它Samba服务器来验证它们。如果无法验证，服务器尝试使用用户验证方式进行验证。在<guilabel>验证服务器</guilabel>中指定其它Samba服务器的NetBIOS名称。</para></listitem><listitem><para><guilabel>共享</guilabel> — 用户不必输入用户名和密码就可以访问Samba共享。除非他们试图访问特定的共享，否则并不会提示他们输入用户名和密码。</para></listitem><listitem><para><guilabel>用户</guilabel> — (默认) 用户必须为访问的Samba共享提供一个合法用户名和密码。如果您想要开启<guilabel>Windows用户名</guilabel>选项，请选择此选项。参考<xref linkend="s3-samba-gui-users"/>了解更多信息。</para></listitem></itemizedlist></listitem><listitem><para><guilabel>加密密码</guilabel> — 如果客户端来自Windows 98，Windows NT 4.0 SP3或者Microsoft Windows 一些新版本的系统，则必须启用此选项。密码在服务器和客户端间以加密的形式传送，而不是可截取的纯文本形式。这与<command>加密密码</command>选项对应。</para></listitem><listitem><para><guilabel>Guest账户</guilabel> — 当用户或guest用户登录Samba服务器时，必须将他们映射为服务器上的有效用户。从系统中已有的用户名中为guest Samba账户选择一个用户名。这样当guest登录到Samba服务器时，他们的权限就与该用户相同。这与<command>guest account</command>选项对应。</para></listitem></itemizedlist><para>点击<guibutton>OK</guibutton>后，更改将写入配置文件，守护进程重新启动；因此变更会立即生效。</para></section>
	
	<section id="s3-samba-gui-users"><title>管理Samba用户</title><indexterm significance="normal"><primary>Samba</primary><secondary>图形化配置</secondary><tertiary>管理Samba用户</tertiary></indexterm><para>在Samba用户可被添加之前，<application>Samba服务器配置工具</application>需要系统中一个激活的用户账户做为Samba服务账户。Samba用户与已有用户账户关联。</para><figure float="0" id="fig-samba-users"><title>管理Samba用户</title><mediaobject><imageobject><imagedata fileref="images/system-config-samba-users.png" format="PNG"/></imageobject><textobject><para>管理Samba用户</para></textobject></mediaobject></figure><para>要添加Samba用户，从下拉菜单中选择<menuchoice><guimenu>偏好设置</guimenu><guimenuitem>Samba用户</guimenuitem></menuchoice>，然后点<guibutton>添加用户</guibutton>按钮。在<guilabel>创建新的Samba用户</guilabel>窗口中，从系统已有用户列表中选择一个<guilabel>Unix用户名</guilabel>。</para><para>如果用户在Windows计算机上使用了不同的用户名并希望使用Windows登录Samba服务器，那么需要在<guilabel>Windows用户名</guilabel>内指定那个Windows用户名。<guilabel>服务器设置</guilabel>下<guilabel>安全</guilabel>选项中的<guilabel>验证模式</guilabel>必须设置为<guilabel>用户</guilabel>才能让此设置工作。</para><para>同时为Samba用户设置<guilabel>Samba密码</guilabel>，再次输入后确认。就算您选择使用加密密码，我们仍建议您不要为Samba用户使用与他们系统密码相同的密码。</para><para>要编辑已有用户，从列表中选择用户，然后点<guibutton>编辑用户</guibutton>。要删除已有的Samba用户，选择该用户，然后点<guibutton>删除用户</guibutton>按钮。删除Samba用户并不会删除关联的系统用户帐户。</para><para>点击<guibutton>OK</guibutton>按钮后用户将立即更改。</para></section>
	
	<section id="s3-samba-gui-add-share"><title>添加共享</title><indexterm significance="normal"><primary>Samba</primary><secondary>图形化配置</secondary><tertiary>添加共享</tertiary></indexterm><para>在Samba配置主窗口中点<guibutton>添加</guibutton>按钮来创建Samba共享。</para><figure float="0" id="fig-samba-add-share"><title>添加共享</title><mediaobject><imageobject><imagedata fileref="images/system-config-samba-create-share.png" format="PNG"/></imageobject><textobject><para>添加Samba共享</para></textobject></mediaobject></figure><para><guilabel>基本</guilabel>选项卡如下选项：</para><itemizedlist><listitem><para><guilabel>目录</guilabel> — 经Samba共享的目录。在此处输入前目录必须已存在。</para></listitem><listitem><para><guilabel>共享名称</guilabel> — 远程计算机看到的实际共享名。默认与<guilabel>目录</guilabel>相同，但可以修改。</para></listitem><listitem><para><guilabel>描述</guilabel> — 共享的简要描述。</para></listitem><listitem><para><guilabel>可写</guilabel> — 为共享目录启用用户读写权限。</para></listitem><listitem><para><guilabel>可见</guilabel> — 为共享目录指定用户只读权限。</para></listitem></itemizedlist><para>在<guilabel>访问</guilabel>选项下，选择是否允许指定用户访问共享或者是否允许所有Samba用户访问。如果选择允许指定用户访问，请从可选Samba用户列表中选择要允许的用户。</para><para>点<guibutton>OK</guibutton>后共享将立即添加。</para></section>
</article>
