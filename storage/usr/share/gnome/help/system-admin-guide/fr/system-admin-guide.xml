<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN" "http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd" [
<!ENTITY gnomeversion "2.14">
<!ENTITY manrevision "2.4">
<!ENTITY date "March 2004">
<!ENTITY LEGAL SYSTEM "legal.xml">
<!ENTITY gconf SYSTEM "gconf.xml">
<!ENTITY menustructure SYSTEM "menustructure.xml">
<!ENTITY themes SYSTEM "themes.xml">
<!ENTITY fontconfig SYSTEM "fontconfig.xml">
<!ENTITY mimetypes SYSTEM "mimetypes.xml">
<!ENTITY screensavers SYSTEM "screensavers.xml">
<!ENTITY sessions SYSTEM "sessions.xml">
<!ENTITY help SYSTEM "help.xml">
<!ENTITY performance SYSTEM "performance.xml">
<!ENTITY lockdown SYSTEM "lockdown.xml">
<!ENTITY appendixa SYSTEM "appendixa.xml">
<!ENTITY appendixb SYSTEM "appendixb.xml">
<!ENTITY gloss SYSTEM "glossary.xml">
]>
<book id="index" lang="fr"> 
  <title>Guide d'administration système du bureau GNOME</title> 
  <bookinfo> 
    <abstract role="description">
    <para>Le guide d'administration système de GNOME fournit des informations aux administrateurs sur la manière de configurer et de gérer différents aspects de l'environnement de bureau pour les utilisateurs.</para>
    </abstract>
	 <copyright> 
		<year>2006</year> 
		<holder>Brent Smith</holder> 
	 </copyright>
	 <copyright> 
		<year>2005</year> 
		<holder>Brent Smith</holder> 
	 </copyright>
	 <copyright> 
		<year>2004</year> 
		<holder>Sun Microsystems</holder> 
	 </copyright>
	 <copyright> 
		<year>2003</year> 
		<holder>Sun Microsystems</holder> 
	 </copyright><copyright><year>2006-2009</year><holder>Claude Paroz (claude@2xlibre.net)</holder></copyright>

<!-- translators: uncomment this:
  <copyright>
   <year>2002</year>
   <holder>ME-THE-TRANSLATOR (Latin translation)</holder>
  </copyright>
-->
	 <publisher role="maintainer"> 
		<publishername>Projet de documentation GNOME</publishername> 
	 </publisher>   <legalnotice id="legalnotice">
	<para>Permission vous est donnée de copier, distribuer et/ou modifier ce document selon les termes de la Licence GNU Free Documentation License, Version 1.1 ou ultérieure publiée par la Free Software Foundation sans section inaltérable, sans texte de première page de couverture ni texte de dernière page de couverture. Vous trouverez un exemplaire de cette licence en suivant ce <ulink type="help" url="ghelp:fdl">lien</ulink> ou dans le fichier COPYING-DOCS fourni avec le présent manuel.</para>
         <para>Ce manuel fait partie de la collection de manuels GNOME distribués selon les termes de la licence de documentation libre GNU. Si vous souhaitez distribuer ce manuel indépendamment de la collection, vous devez joindre un exemplaire de la licence au document, comme indiqué dans la section 6 de celle-ci.</para>

	<para>La plupart des noms utilisés par les entreprises pour distinguer leurs produits et services sont des marques déposées. Lorsque ces noms apparaissent dans la documentation GNOME et que les membres du projet de Documentation GNOME sont informés de l'existence de ces marques déposées, soit ces noms entiers, soit leur première lettre est en majuscule.</para>

	<para>LE PRÉSENT DOCUMENT ET SES VERSIONS MODIFIÉES SONT FOURNIS SELON LES TERMES DE LA LICENCE DE DOCUMENTATION LIBRE GNU SACHANT QUE : <orderedlist>
		<listitem>
		  <para>LE PRÉSENT DOCUMENT EST FOURNI « TEL QUEL », SANS AUCUNE GARANTIE, EXPRESSE OU IMPLICITE, Y COMPRIS, ET SANS LIMITATION, LES GARANTIES DE MARCHANDABILITÉ, D'ADÉQUATION À UN OBJECTIF PARTICULIER OU DE NON INFRACTION DU DOCUMENT OU DE SA VERSION MODIFIÉE. L'UTILISATEUR ASSUME TOUT RISQUE RELATIF À LA QUALITÉ, À LA PERTINENCE ET À LA PERFORMANCE DU DOCUMENT OU DE SA VERSION DE MISE À JOUR. SI LE DOCUMENT OU SA VERSION MODIFIÉE S'AVÉRAIT DÉFECTUEUSE, L'UTILISATEUR (ET NON LE RÉDACTEUR INITIAL, L'AUTEUR, NI TOUT AUTRE PARTICIPANT) ENDOSSERA LES COÛTS DE TOUTE INTERVENTION, RÉPARATION OU CORRECTION NÉCESSAIRE. CETTE DÉNÉGATION DE RESPONSABILITÉ CONSTITUE UNE PARTIE ESSENTIELLE DE CETTE LICENCE. AUCUNE UTILISATION DE CE DOCUMENT OU DE SA VERSION MODIFIÉE N'EST AUTORISÉE AUX TERMES DU PRÉSENT ACCORD, EXCEPTÉ SOUS CETTE DÉNÉGATION DE RESPONSABILITÉ ; </para>
		</listitem>
		<listitem>
		  <para>EN AUCUNE CIRCONSTANCE ET SOUS AUCUNE INTERPRÉTATION DE LA LOI, QU'IL S'AGISSE D'UN DÉLIT CIVIL (Y COMPRIS LA NÉGLIGENCE), CONTRACTUEL OU AUTRE, L'AUTEUR, LE RÉDACTEUR INITIAL, TOUT PARTICIPANT OU TOUT DISTRIBUTEUR DE CE DOCUMENT OU DE SA VERSION MODIFIÉE, OU TOUT FOURNISSEUR DE L'UNE DE CES PARTIES NE POURRA ÊTRE TENU RESPONSABLE À L'ÉGARD DE QUICONQUE POUR TOUT DOMMAGE DIRECT, INDIRECT, PARTICULIER, OU ACCIDENTEL DE TOUT TYPE Y COMPRIS, SANS LIMITATION, LES DOMMAGES LIÉS À LA PERTE DE CLIENTÈLE, À UN ARRÊT DE TRAVAIL, À UNE DÉFAILLANCE OU UN MAUVAIS FONCTIONNEMENT INFORMATIQUE, OU À TOUT AUTRE DOMMAGE OU PERTE LIÉE À L'UTILISATION DU DOCUMENT ET DE SES VERSIONS MODIFIÉES, MÊME SI LADITE PARTIE A ÉTÉ INFORMÉE DE L'ÉVENTUALITÉ DE TELS DOMMAGES.</para>
		</listitem>
	  </orderedlist></para>
  </legalnotice>

 

	 <authorgroup> 
		<author>
                  <firstname>Brent</firstname>
		  <surname>Smith</surname> 
		  <affiliation> 
			 <orgname>Projet de documentation GNOME</orgname> 
		  </affiliation> 
		</author> 
		<author> 
		  <firstname>Sun</firstname> 
		  <surname>Équipe de documentation GNOME</surname> 
		  <affiliation> 
			 <orgname>Sun Microsystems</orgname> 
		  </affiliation> 
		</author> 
	 </authorgroup>

	 <revhistory>
		<revision> 
		  <revnumber>Guide d'administration système du bureau GNOME 2.14 V2.4</revnumber> 
		  <date>Mars 2004</date> 
		  <revdescription> 
			 <para role="author">Projet de documentation GNOME</para> 
			 <para role="publisher">Projet de documentation GNOME</para> 
		  </revdescription> 
		</revision> 
		<revision> 
		  <revnumber>Guide d'administration système du bureau GNOME 2.6 V2.3</revnumber> 
		  <date>Mars 2004</date> 
		  <revdescription> 
			 <para role="author">Sun Microsystems</para> 
			 <para role="publisher">Projet de documentation GNOME</para> 
		  </revdescription> 
		</revision> 
		<revision> 
		  <revnumber>Guide d'administration système du bureau GNOME 2.4 V2.2</revnumber> 
		  <date>Septembre 2003</date> 
		  <revdescription> 
			 <para role="author">Sun Microsystems</para> 
			 <para role="publisher">Projet de documentation GNOME</para> 
		  </revdescription> 
		</revision> 
		<revision> 
		  <revnumber>Guide d'administration système du bureau GNOME 2.2 V2.1</revnumber> 
		  <date>Janvier 2003</date> 
		  <revdescription> 
			 <para role="author">Sun Microsystems</para> 
			 <para role="publisher">Projet de documentation GNOME</para> 
		  </revdescription> 
		</revision> 
		<revision> 
		  <revnumber>Guide d'administration système du bureau GNOME 2.0 V2.0</revnumber> 
		  <date>Décembre 2002</date> 
		  <revdescription> 
			 <para role="author">Sun Microsystems</para> 
			 <para role="publisher">Projet de documentation GNOME</para> 
		  </revdescription> 
		</revision> 
	 </revhistory> 
	 <releaseinfo>Ce manuel documente la version 2.14 du bureau GNOME.</releaseinfo> 
	 <legalnotice> 
		<title>Votre avis</title> 
		<para>Pour rapporter une anomalie ou faire une suggestion concernant le bureau GNOME ou ce manuel, suivez les indications de la <ulink url="ghelp:user-guide?feedback" type="help">Page de réactions sur GNOME</ulink>.</para>
	 </legalnotice> 
  </bookinfo>
<chapter id="gconf-0">
  <title>Utilisation de GConf</title>
  <highlights>
    <para>L'information de ce chapitre décrit la façon d'utiliser <application>GConf</application> pour gérer les préférences des utilisateurs.</para>
  </highlights>
  <sect1 id="gconf-1">
    <title>Introduction à GConf</title>
    <indexterm>
      <primary>GConf</primary>
      <secondary>introduction</secondary>
    </indexterm>
    <para><application>GConf</application> simplifie l'administration des préférences des utilisateurs du bureau GNOME. <application>GConf</application> permet aux administrateurs système de réaliser les points suivants :</para>
    <itemizedlist>
      <listitem>
        <para>Définir des valeurs obligatoires pour certaines préférences et pour tous les utilisateurs. De cette manière, les administrateurs système peuvent contrôler la possibilité de mise à jour de certaines préférences par les utilisateurs.</para>
      </listitem>
      <listitem>
        <para>Définir des valeurs par défaut pour certaines préférences et pour tous les utilisateurs.</para>
      </listitem>
      <listitem>
        <para>Utiliser des valeurs de préférences suggérées par des fichiers de définition pour les préférences.</para>
      </listitem>
      <listitem>
        <para>Lire de la documentation sur chaque préférence.</para>
      </listitem>
    </itemizedlist>
    <para><application>GConf</application> avertit aussi les applications lorsqu'une valeur de préférence est modifiée, localement ou par le réseau. De cette manière, lors de la modification d'une préférence, toutes les applications utilisant cette préférence sont immédiatement mises à jour.</para>
    <para><application>GConf</application> possède les composants suivants :</para>
    <itemizedlist>
      <listitem>
        <para>Un référentiel de préférences utilisateurs.</para>
      </listitem>
      <listitem>
        <para>Un démon, <command>gconfd-2</command>.</para>
      </listitem>
      <listitem>
        <para>Un outil en ligne de commande, <command>gconftool-2</command>.</para>
      </listitem>
    </itemizedlist>
  </sect1>
  <sect1 id="gconf-24">
    <title>Référentiel GConf</title>
    <indexterm>
      <primary>GConf</primary>
      <secondary>référentiel</secondary>
    </indexterm>
    <para>Chaque préférence du référentiel <application>GConf</application> est énoncée sous forme de couple clé-valeur. Une <firstterm>clé de préférence GConf</firstterm> est un élément du référentiel correspondant à une préférence d'application. Par exemple, la clé de préférence <systemitem>/apps/gnome-session/options/show_splash_screen</systemitem> correspond à l'option <guilabel>Afficher l'écran d'accueil à la connexion</guilabel> dans le panneau de préférences <application>Sessions</application>. L'interface utilisateur du bureau GNOME ne contient pas toutes les clés de préférences du référentiel <application>GConf</application>. Par exemple, le panneau de préférences <application>Tableau de bord</application> ne contient pas d'option correspondant à la clé <systemitem>/apps/panel/global/tooltips_enabled</systemitem>.</para>
    <para>Le référentiel est structuré comme un simple système de fichiers hiérarchisé. Il contient les éléments suivants :</para>
    <itemizedlist>
      <listitem>
        <para>Des répertoires correspondant aux applications qui utilisent le référentiel <application>GConf</application>. Par exemple, le système de fichiers contient le répertoire <systemitem>/apps/metacity</systemitem>.</para>
      </listitem>
      <listitem>
        <para>Des sous-répertoires correspondant à des catégories de préférences. Par exemple, le système de fichiers contient le répertoire <systemitem>/apps/metacity/general</systemitem>.</para>
      </listitem>
      <listitem>
        <para>Des fichiers spéciaux qui énumèrent les clés de préférences dans un répertoire et qui contiennent des informations sur les clés. Par exemple, un fichier contenant des informations sur les clés en relation avec les préférences du proxy HTTP se trouve dans le répertoire <systemitem>/system/http_proxy</systemitem>.</para>
      </listitem>
      <listitem>
        <para>Un répertoire <systemitem>/schemas</systemitem> contenant des fichiers qui décrivent toutes les clés de préférences.</para>
      </listitem>
    </itemizedlist>
    <para>Les clés de préférences sont habituellement formées de valeurs simples, telles que des chaînes de caractères, des nombres entiers ou des listes de chaînes de caractères et de nombres entiers. Le format des clés de préférences dans le référentiel dépend du module d'arrière-plan utilisé pour lire le référentiel. L'exemple ci-après expose la clé de préférence <systemitem>/desktop/gnome/interface/font_name</systemitem> telle qu'elle apparaît lorsque le référentiel est lu au moyen d'un module d'arrière-plan XML (Extensible Markup Language) :</para>
    <programlisting><![CDATA[<entry name="font_name" mtime="1038323555" muser="user123" type="string">
<stringvalue>Sans 10</stringvalue></entry>]]></programlisting>
    <note>
      <para>Lorsque ce guide se réfère à une clé de préférence, le chemin vers la clé est concaténé avec le nom de la clé. Par exemple, la clé de préférence <systemitem>font_name</systemitem> du sous-répertoire <systemitem>/desktop/gnome/interface</systemitem> est citée comme <systemitem>/desktop/gnome/interface/font_name</systemitem>.</para>
    </note>
    <sect2 id="gconf-26">
      <title>Source de configuration GConf</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>sources de configuration</secondary>
      </indexterm>
      <para>Le référentiel <application>GConf</application> contient une série d'emplacements de stockage appelés des <firstterm>sources de configuration</firstterm>. Ces sources sont énumérées dans le <firstterm>fichier des chemins</firstterm> GConf. L'emplacement de ce fichier est <systemitem>/etc/gconf/<replaceable>numéro-version-gconf</replaceable>/path</systemitem>. Chaque utilisateur possède un fichier de chemins. Pour chaque source de configuration, le fichier des chemins spécifie les informations suivantes :</para>
      <itemizedlist>
        <listitem>
          <para>Le module d'arrière-plan utilisé pour lire le référentiel.</para>
        </listitem>
        <listitem>
          <para>Les permissions sur le référentiel.</para>
        </listitem>
        <listitem>
          <para>L'emplacement du référentiel.</para>
        </listitem>
      </itemizedlist>
      <para>Le fichier des chemins <application>GConf</application> contient également des instructions <systemitem>include</systemitem>. Par défaut, le contenu du fichier des chemins <application>GConf</application> correspond à ceci :</para>
      <programlisting>xml:readonly:/etc/gconf/gconf.xml.mandatory
include /etc/gconf/2/local-mandatory.path
include "$(HOME)/.gconf.path"
include /etc/gconf/2/local-defaults.path
xml:readwrite:$(HOME)/.gconf
xml:readonly:/etc/gconf/gconf.xml.defaults</programlisting>
      <para>Lorsque <application>GConf</application> recherche une valeur de préférence, il lit les sources de configuration dans l'ordre défini dans le fichier des chemins. Le tableau ci-après décrit les sources de configuration dans le fichier des chemins :</para>
      <informaltable frame="topbot">
        <tgroup cols="2" colsep="0" rowsep="0">
          <colspec colwidth="31.29*"/>
          <colspec colwidth="68.71*"/>
          <thead>
            <row rowsep="1">
              <entry>
                <para>Source de configuration</para>
              </entry>
              <entry>
                <para>Description</para>
              </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry valign="top">
                <para>Mandatory (Forced settings)</para>
              </entry>
              <entry valign="top">
                <para>Les permissions sur cette source de configuration sont placées en lecture seule. Les utilisateurs ne peuvent pas modifier les valeurs de cette source, ce qui rend ces préférences obligatoires.</para>
              </entry>
            </row>
            <row>
              <entry valign="top">
                <para>User</para>
              </entry>
              <entry valign="top">
                <para>Cette source de configuration est stockée dans le répertoire <filename>.gconf</filename> du dossier personnel de l'utilisateur. Lorsque celui-ci définit une préférence, la nouvelle information de préférence s'inscrit à cet emplacement.</para>
                <para>Vous pouvez modifier la source de configuration utilisateur avec l'<application>Éditeur de configuration</application>.</para>
              </entry>
            </row>
            <row>
              <entry valign="top">
                <para>Default</para>
              </entry>
              <entry valign="top">
                <para>Cette source de configuration contient les réglages de préférences par défaut.</para>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
      <para>L'ordre d'apparition des sources de configuration dans le fichier des chemins assure que les paramètres obligatoires ont priorité sur les paramètres des utilisateurs. Cela assure également que les préférences des utilisateurs ont priorité sur les paramètres par défaut. Cela signifie que <application>GConf</application> applique les préférences dans l'ordre de priorité suivant :</para>
      <orderedlist>
        <listitem>
          <para>Préférences obligatoires</para>
        </listitem>
        <listitem>
          <para>Préférences définies par les utilisateurs</para>
        </listitem>
        <listitem>
          <para>Préférences par défaut</para>
        </listitem>
      </orderedlist>
      <para>Les instructions <systemitem>include</systemitem> dans le fichier des chemins <application>GConf</application> permet aux administrateurs système de définir d'autres sources de configuration.</para>
      <informaltable frame="topbot">
        <tgroup cols="2" colsep="0" rowsep="0">
          <colspec colwidth="50*"/>
          <colspec colwidth="50*"/>
          <thead>
            <row rowsep="1">
              <entry>
                <para>Source de configuration inclue</para>
              </entry>
              <entry>
                <para>Description</para>
              </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry valign="top">
                <para>
                  <filename>/etc/gconf/2/local-mandatory.path</filename>
                </para>
              </entry>
              <entry valign="top">
                <para>Cette source de configuration permet de sauvegarder des valeurs de préférences obligatoires pour un ordinateur particulier.</para>
              </entry>
            </row>
            <row>
              <entry valign="top">
                <para>
                  <filename>$(HOME)/.gconf.path</filename>
                </para>
              </entry>
              <entry valign="top">
                <para>L'utilisateur définit l'emplacement de la source de configuration dans le dossier personnel, dans un fichier nommé <filename>.gconf.path</filename>.</para>
              </entry>
            </row>
            <row>
              <entry valign="top">
                <para>
                  <filename>/etc/gconf/2/local-defaults.path</filename>
                </para>
              </entry>
              <entry valign="top">
                <para>Cette source de configuration permet de sauvegarder des valeurs de préférences par défaut pour un ordinateur particulier.</para>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </sect2>
    <sect2 id="gconf-27">
      <title>Schémas GConf</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>schémas</secondary>
      </indexterm>
      <indexterm>
        <primary>GConf</primary>
        <secondary>clés de schéma</secondary>
      </indexterm>
      <indexterm>
        <primary>GConf</primary>
        <secondary>objets de schéma</secondary>
      </indexterm>
      <indexterm>
        <primary>schémas</primary>
        <secondary>description</secondary>
      </indexterm>
      <indexterm>
        <primary>schémas</primary>
        <secondary>clés de schéma</secondary>
      </indexterm>
      <indexterm>
        <primary>schémas</primary>
        <secondary>objets de schéma</secondary>
      </indexterm>
      <para>Un <firstterm>schéma GConf</firstterm> est un terme englobant une <firstterm>clé de schéma GConf</firstterm> et un <firstterm>objet de schéma GConf</firstterm>. Le tableau ci-après décrit les clés de schéma et les objets de schéma ainsi que les relations entre ces éléments et les clés de préférences :</para>
      <informaltable frame="topbot">
        <tgroup cols="2" colsep="0" rowsep="0">
          <colspec colname="colspec0" colwidth="24.31*"/>
          <colspec colname="colspec1" colwidth="75.69*"/>
          <thead>
            <row rowsep="1">
              <entry>
                <para>Élément</para>
              </entry>
              <entry>
                <para>Description</para>
              </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry colname="colspec0" valign="top">
                <para>Clé de préférence</para>
              </entry>
              <entry colname="colspec1" valign="top">
                <para>Un élément dans le référentiel <application>GConf</application> correspondant à une préférence d'application.</para>
              </entry>
            </row>
            <row>
              <entry valign="top">
                <para>Clé de schéma</para>
              </entry>
              <entry valign="top">
                <para>Une clé contenant un objet de schéma pour une clé de préférence.</para>
              </entry>
            </row>
            <row>
              <entry valign="top">
                <para>Objet de schéma</para>
              </entry>
              <entry valign="top">
                <para>Un élément dans une source de configuration contenant des informations sur une clé de préférence, comme par exemple :</para>
                <itemizedlist>
                  <listitem>
                    <para>Le nom de l'application qui utilise cette clé de préférence.</para>
                  </listitem>
                  <listitem>
                    <para>Le type de valeur requis pour la clé de préférence, par exemple un nombre entier, une valeur booléenne, etc.</para>
                  </listitem>
                  <listitem>
                    <para>Une valeur par défaut pour la clé de préférence.</para>
                  </listitem>
                  <listitem>
                    <para>Une courte documentation sur la clé de préférence.</para>
                  </listitem>
                </itemizedlist>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
      <para>Le tableau suivant donne des exemples d'une clé de préférence, d'une clé de schéma et d'un objet de schéma :</para>
      <informaltable frame="topbot">
        <tgroup cols="2" colsep="0" rowsep="0">
          <colspec colname="colspec0" colwidth="24.31*"/>
          <colspec colname="colspec1" colwidth="75.69*"/>
          <thead>
            <row rowsep="1">
              <entry>
                <para>Élément</para>
              </entry>
              <entry>
                <para>Exemple</para>
              </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry colname="colspec0" valign="top">
                <para>Clé de préférence</para>
              </entry>
              <entry colname="colspec1" valign="top">
                <para>
                  <systemitem>/desktop/gnome/interface/font_name</systemitem>
                </para>
              </entry>
            </row>
            <row>
              <entry colname="colspec0" valign="top">
                <para>Clé de schéma</para>
              </entry>
              <entry colname="colspec1" valign="top">
                <para>
                  <systemitem>/schemas/desktop/gnome/interface/font_name</systemitem>
                </para>
              </entry>
            </row>
            <row>
              <entry valign="top">
                <para>Objet de schéma</para>
              </entry>
              <entry valign="top">
                <programlisting><![CDATA[<schema>
  <applyto>/desktop/gnome/interface/font_name</applyto>
  <key>/schemas/desktop/gnome/interface/font_name</key>
  <owner>gnome</owner>
  <type>string</type>
  <default>Sans 10</default>
  <locale name="C">
    <short>Default font</short>
      <long>Name of the default font used by gtk+.</long>
  </locale>
</schema>]]></programlisting>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
      <para>Vous pouvez associer une clé de schéma avec une clé de préférence. Par exemple, la clé <systemitem>/desktop/gnome/interface/font_name</systemitem> contient une clé de schéma :</para>
      <programlisting><![CDATA[<entry name="font_name" mtime="1034873859"
schema="/schemas/desktop/gnome/interface/font_name"/>]]></programlisting>
      <para>Lorsque vous associez une clé de schéma à une clé de préférence, la préférence utilise la valeur suggérée dans l'objet de schéma de la clé de schéma. Cette valeur est contenue dans l'élément <sgmltag>&lt;default&gt;</sgmltag> de l'objet de schéma. Par défaut, toutes les clés de préférences dans la source de configuration par défaut sont associées à des clés de schéma.</para>
      <para>En règle générale, les schémas sont stockés dans la source de configuration par défaut.</para>
    </sect2>
    <sect2 id="gconf-2">
      <title>Fichiers de définition de schémas GConf</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>fichiers de définition de schémas</secondary>
        <tertiary>introduction</tertiary>
      </indexterm>
      <indexterm>
        <primary>schémas</primary>
        <secondary>fichiers de définition de schémas</secondary>
        <tertiary>introduction</tertiary>
      </indexterm>
      <para>Les schémas sont générés à partir de <firstterm>fichiers de définition de schémas</firstterm>. Un fichier de définition de schémas définit les caractéristiques de toutes les clés d'une application particulière. Ces fichiers possèdent une extension <filename>.schemas</filename>.</para>
      <para>Les fichiers de définition de schémas se trouvent dans le répertoire <filename>/etc/gconf/schemas</filename>. Ces fichiers permettent de créer une nouvelle source de configuration.</para>
      <para>Certains fichiers de définition de schémas correspondent précisément à une partie de l'interface utilisateur du bureau GNOME. Par exemple, <filename>system_http_proxy.schemas</filename> correspond au panneau de préférences <application>Proxy réseau</application>. D'autres fichiers de définition de schémas contiennent des clés de préférences inaccessibles dans l'interface utilisateur du bureau GNOME. Par exemple, la clé <systemitem>/apps/panel/global/tooltips_enabled</systemitem> ne peut pas être définie dans l'interface utilisateur.</para>
      <para>Certaines partie de l'interface utilisateur du bureau GNOME contiennent des préférences provenant de plusieurs fichiers de définition de schémas. Par exemple, le panneau de préférences <application>Raccourcis clavier</application> contient des préférences correspondant à des clés contenues dans les fichiers <filename>panel-global-config.schemas</filename> et <filename>metacity.schemas</filename>.</para>
    </sect2>
  </sect1>
  <sect1 id="gconf-25">
    <title>Démon GConf</title>
    <indexterm>
      <primary>gconfd</primary>
      <see>démon GConf</see>
    </indexterm>
    <indexterm>
      <primary>GConf</primary>
      <secondary>démon</secondary>
    </indexterm>
    <para>Le démon <application>GConf</application> se nomme <command>gconfd-2</command>. Il se charge d'avertir les applications lorsqu'une valeur de préférence change. Par exemple, il se peut que vous choisissiez de n'afficher que les icônes dans les barres d'outils, dans le panneau de préférences <application>Menus et barres d'outils</application>. Lorsque vous sélectionnez cette option dans le panneau de préférences, les barres d'outils de toutes les applications ouvertes sont instantanément mises à jour. Le démon <application>GConf</application> fonctionne aussi bien localement qu'à travers le réseau.</para>
    <para>Une instance du démon <application>GConf</application> est lancée pour chaque utilisateur. Il ne se préoccupe pas de problèmes complexes tels que l'authentification ou la sécurité des données. Lorsqu'il démarre, le démon <application>GConf</application> charge le fichier des chemins <application>GConf</application>. Il gère tous les accès entre les applications et les sources de configuration.</para>
    <para>Lorsqu'une application lui demande la valeur d'une clé de préférence, le démon recherche parmi les sources de configuration de la manière suivante :</para>
    <orderedlist>
      <listitem>
        <para>Recherche de la valeur de la clé de préférence dans chaque source de configuration, dans l'ordre spécifié dans le fichier des chemins. Si la valeur est trouvée, il renvoie celle-ci.</para>
      </listitem>
      <listitem>
        <para>Si aucune valeur n'est trouvée, il recherche la clé de schéma correspondant à la clé de préférence dans chaque source de configuration, dans l'ordre spécifié dans le fichier des chemins.</para>
      </listitem>
      <listitem>
        <para>Si la clé de schéma est trouvée, il vérifie la valeur de la clé de schéma.</para>
      </listitem>
      <listitem>
        <para>Si la valeur de la clé de schéma est un objet de schéma, il renvoie la valeur suggérée dans l'élément <sgmltag>&lt;default&gt;</sgmltag> de l'objet.</para>
      </listitem>
    </orderedlist>
    <para>Le démon <application>GConf</application> met aussi en cache les valeurs des clés de préférences. Toutes les applications utilisent ce cache, ce qui leur permet de n'accéder qu'une seule fois aux sources de configuration.</para>
    <para>Pour arrêter le démon <application>GConf</application>, exécutez la commande suivante :</para>
    <screen><userinput>gconftool-2 --shutdown</userinput></screen>
  </sect1>
  <sect1 id="gconf-6">
    <title>Outil en ligne de commande GConf</title>
    <anchor id="gconf-TBL-7"/>
    <indexterm>
      <primary>gconftool-2</primary>
      <see>Outil en ligne de commande GConf</see>
    </indexterm>
    <indexterm>
      <primary>GConf</primary>
      <secondary>outil en ligne de commande</secondary>
    </indexterm>
    <para><application>GConf</application> contient un outil en ligne de commande, <command>gconftool-2</command>. Cette commande permet d'effectuer les tâches suivantes :</para>
    <itemizedlist>
      <listitem>
        <para>Définir des valeurs de clés.</para>
      </listitem>
      <listitem>
        <para>Afficher des valeurs de clés.</para>
      </listitem>
      <listitem>
        <para>Installer des schémas à partir de fichiers de définition de schémas lors de l'installation d'une application.</para>
      </listitem>
    </itemizedlist>
    <para>Par exemple, la commande ci-après affiche les valeurs de toutes les clés du répertoire et des sous-répertoires de <systemitem>/desktop/gnome</systemitem>.</para>
    <screen><userinput>gconftool-2 --recursive-list /desktop/gnome</userinput></screen>
    <para>Vous trouverez ci-dessous quelques options utilisables avec la commande <command>gconftool-2</command>. Pour plus de détails sur les options de ligne de commande, veuillez consulter <ulink url="man:gconftool-2(1)">man:gconftool-2(1)</ulink>.</para>
    <variablelist>
      <title>Options de la commande gconftool-2</title>
      <varlistentry>
        <term>
            <option>--all-dirs</option>
        </term>
        <listitem>
          <para>Énumère tous les sous-répertoires d'un répertoire spécifié.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--all-entries</option>
        </term>
        <listitem>
          <para>Affiche les valeurs de toutes les clés d'un répertoire spécifié.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--config-source=<replaceable>source-de-configuration</replaceable></option>
        </term>
        <listitem>
          <para>Utilisez cette option avec l'option <option>--direct</option> pour spécifier l'utilisation d'une source de configuration. Sans indication de source de configuration, cette commande traite toutes les sources de configuration du fichier des chemins.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--direct</option>
        </term>
        <listitem>
          <para>Utilisez cette option avec l'option <option>--config-source</option> pour accéder directement à une source de configuration. Avec cette option, <application>GConf</application> court-circuite le serveur. Assurez-vous préalablement que le démon <application>GConf</application>, <command>gconfd-2</command>, n'est pas en cours de fonctionnement.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--dump</option>
        </term>
        <listitem>
          <para>Génère une liste contenant toutes les clés de préférences dans un répertoire spécifié du référentiel <application>GConf</application>. La liste contient des descriptions XML de toutes les clés. Elle est contenue dans un élément <sgmltag>&lt;gconfentryfile&gt;</sgmltag>.</para>
          <para>Par exemple, vous pouvez rediriger la sortie de cette option pour produire un fichier énumérant toutes les clés en liaison avec la configuration des tableaux de bord. Vous pouvez ensuite utiliser l'option <option>--load</option> avec ce fichier.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--get</option>
        </term>
        <listitem>
          <para>Affiche la valeur de la clé de préférence spécifiée. Affiche également les valeurs des éléments de l'objet de schéma de la clé de schéma spécifiée.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--help</option>
        </term>
        <listitem>
          <para>Affiche un message d'aide sur la commande <command>gconftool-2</command> et ses options.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--load=<replaceable>nom_de_fichier</replaceable></option>
        </term>
        <listitem>
          <para>Cette option permet de définir les valeurs des clés de préférences dans le répertoire courant d'une source de configuration à partir des valeurs contenues dans le fichier spécifié. Ce fichier doit contenir des descriptions XML des clés, dans un élément <literal>&lt;gconfentryfile&gt;</literal>.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--long-desc=<replaceable>description</replaceable></option>
        </term>
        <listitem>
          <para>Cette option peut être utilisée avec l'option <option>--set-schema</option> pour attribuer une longue description à une clé de schéma.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--makefile-install-rule</option>
        </term>
        <listitem>
          <para>Installe des fichiers de définition de schémas pour des applications.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--owner=<replaceable>propriétaire</replaceable></option>
        </term>
        <listitem>
          <para>Cette option peut être utilisée avec l'option <option>--set-schema</option> pour spécifier un propriétaire pour la clé de schéma.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--recursive-list</option>
        </term>
        <listitem>
          <para>Affiche les valeurs de toutes les clés de préférences dans tous les sous-répertoires d'un répertoire spécifié.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--recursive-unset</option>
        </term>
        <listitem>
          <para>Réinitialise les valeurs de toutes les clés de préférences aux réglages par défaut de la source de configuration, dans tous les sous-répertoires d'un répertoire.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--set</option>
        </term>
        <listitem>
          <para>Définit la valeur d'une clé de préférence et écrit la valeur dans la source de configuration de l'utilisateur. Combinée avec l'option <option>--type</option>, cette option permet de spécifier le type de donnée de la valeur à définir. Par exemple, la commande ci-après définit la valeur de la clé <systemitem>/apps/gnome-terminal/profiles/Default/background_color</systemitem> dans la source de configuration de l'utilisateur :</para>
          <screen><userinput>gconftool-2 \
  --set "/apps/gnome-terminal/profiles/Default/background_color" \
  --type string "#000000"</userinput></screen>
          <para>Vous pouvez également combiner cette option avec les options <option>--direct</option> et <option>--config-source</option> pour écrire une valeur dans une autre source de configuration.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--set-schema</option>
        </term>
        <listitem>
          <para>Définit la valeur d'un attribut dans une clé de schéma et écrit la valeur dans la source de configuration par défaut.</para>
          <para>Utilisez les options suivantes avec l'option <option>--set-schema</option> pour spécifier l'attribut à mettre à jour :</para>
          <itemizedlist>
            <listitem>
              <para>
                <option>--type</option>
              </para>
            </listitem>
            <listitem>
              <para>
                <option>--short-desc</option>
              </para>
            </listitem>
            <listitem>
              <para>
                <option>--long-desc</option>
              </para>
            </listitem>
            <listitem>
              <para>
                <option>--owner</option>
              </para>
            </listitem>
          </itemizedlist>
          <para>Par exemple, la commande ci-après définit la description courte de la clé de schéma pour la clé <systemitem>/apps/gnome-terminal/profiles/Default/background_color</systemitem> :</para>
          <screen><userinput>gconftool-2 \
  --set-schema  "/schemas/apps/gnome-terminal/profiles/Default/background_color" \
  --short-desc "Couleur d'arrière-plan par défaut du terminal"</userinput></screen>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--short-desc=<replaceable>description</replaceable></option>
        </term>
        <listitem>
          <para>Utilisez cette option avec l'option <option>--set-schema</option> pour spécifier une courte description d'une clé de schéma.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--shutdown</option>
        </term>
        <listitem>
          <para>Arrête le démon <application>GConf</application>.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--type=<replaceable>type_de_donnée</replaceable></option>
        </term>
        <listitem>
          <para>Utilisez cette option pour spécifier le type de donnée au moment de définir une valeur d'une clé de préférence. Cette option est aussi valable lors de la définition d'une valeur d'un attribut d'une clé de schéma. Voici une liste de types de donnée valides :</para>
          <itemizedlist>
            <listitem>
              <para>
                <type>bool</type>
              </para>
            </listitem>
            <listitem>
              <para>
                <type>float</type>
              </para>
            </listitem>
            <listitem>
              <para>
                <type>int</type>
              </para>
            </listitem>
            <listitem>
              <para>
                <type>list</type>
              </para>
            </listitem>
            <listitem>
              <para>
                <type>pair</type>
              </para>
            </listitem>
            <listitem>
              <para>
                <type>string</type>
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--unset</option>
        </term>
        <listitem>
          <para>Réinitialise la valeur d'une clé de préférence au réglage de la source de configuration par défaut.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--usage</option>
        </term>
        <listitem>
          <para>Affiche un court message d'aide à propos de la commande <command>gconftool-2</command> et de ses options.</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect1>
  <sect1 id="gconf-7">
    <title>Définition de valeurs de préférences</title>
    <indexterm>
      <primary>GConf</primary>
      <secondary>valeurs de préférences, réglage</secondary>
    </indexterm>
    <indexterm>
      <primary>valeurs de préférences</primary>
      <secondary>réglage avec GConf</secondary>
    </indexterm>
    <para>Il est possible de définir une valeur obligatoire ou une valeur par défaut pour une clé de préférence. Avant de changer une de ces valeurs, vous devez vous assurer que le démon <application>GConf</application> n'est pas en cours d'exécution pour aucun utilisateur. Tous les utilisateurs doivent être déconnectés avant de modifier des valeurs de préférences les concernant.</para>
    <para>Pour définir une valeur obligatoire ou une valeur par défaut pour une clé de préférence, utilisez la commande <command>gconftool-2</command> comme suit :</para>
    <screen><userinput>gconftool-2 --direct \
  --config-source <replaceable>source-de-configuration</replaceable> \
  --type <replaceable>type_de_donnée</replaceable> \
  --set <replaceable>clé_de_préférence</replaceable> <replaceable>valeur</replaceable></userinput></screen>
    <para>Par exemple, pour définir <literal>wwwproxy.xyz.com</literal> comme proxy HTTP obligatoire, exécutez la commande suivante :</para>
    <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.mandatory \
  --type string \
  --set /system/http_proxy/host wwwproxy.xyz.com</userinput></screen>
    <para>L'utilisateur ne peut pas modifier cette valeur de préférence.</para>
    <para>Vous pouvez également utiliser la commande <command>gconftool-2</command> pour définir des valeurs par défaut. Par exemple, pour définir le nombre d'espaces de travail par défaut à cinq, exécutez la commande suivante :</para>
    <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.defaults \
  --type int \
  --set /apps/metacity/general/num_workspaces 5</userinput></screen>
    <para>L'utilisateur peut modifier cette valeur de préférence.</para>
    <caution>
      <para>Avant de modifier des valeurs de préférences obligatoires ou par défaut pour les utilisateurs, vous devez vous assurer que tous les utilisateurs soient déconnectés.</para>
    </caution>
  </sect1>
  <sect1 id="gconf-8">
    <title>Réglage de préférences générales</title>
    <para>Les sections suivantes décrivent la manière d'attribuer des valeurs obligatoires ou par défaut à des préférences générales.</para>
    <sect2 id="gconf-10">
      <title>Configuration des préférences du proxy HTTP</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>proxy HTTP, configuration</secondary>
      </indexterm>
      <indexterm>
        <primary>proxy HTTP</primary>
        <secondary>réglage avec GConf</secondary>
      </indexterm>
      <para>Pour configurer les préférences du proxy HTTP, il vous faut modifier les valeurs des clés de préférences à l'emplacement <systemitem>/system/http_proxy/</systemitem>. Par exemple, pour définir une valeur obligatoire pour le serveur proxy HTTP, exécutez la commande suivante :</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.mandatory \
  --type string \
  --set /system/http_proxy/host <replaceable>nom_du_proxy</replaceable></userinput></screen>
      <para>Pour définir une valeur par défaut pour le serveur proxy HTTP, exécutez la commande suivante :</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.defaults \
  --type string \
  --set /system/http_proxy/host <replaceable>nom_du_proxy</replaceable></userinput></screen>
      <para>Vous pouvez aussi configurer d'autres préférences en relation avec le proxy HTTP. Pour des informations supplémentaires à ce sujet, consultez le fichier de définition de schémas <filename>system_http_proxy.schemas</filename>.</para>
    </sect2>
    <sect2 id="gconf-11">
      <title>Configuration des préférences du gestionnaire d'impression</title>
      <para>Pour configurer les préférences du gestionnaire d'impression, il s'agit de modifier les valeurs des préférences à l'emplacement <systemitem>/apps/gnome-print-manager</systemitem>. Par exemple, si vous ne voulez pas que les utilisateurs puissent voir les travaux d'impression d'autres personnes, définissez une valeur obligatoire comme suit :</para>
      <indexterm>
        <primary>GConf</primary>
        <secondary>gestionnaire d'impression, configuration</secondary>
      </indexterm>
      <indexterm>
        <primary>gestionnaire d'impression</primary>
        <secondary>réglage avec GConf</secondary>
      </indexterm>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.mandatory \
  --type bool \
  --set /apps/gnome-print-manager/show_all_jobs false</userinput></screen>
      <para>Pour définir une valeur par défaut pour cette préférence, exécutez la commande suivante :</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.defaults \
  --type bool \
  --set /apps/gnome-print-manager/show_all_jobs false</userinput></screen>
      <para>Il est aussi possible de définir d'autres préférences du gestionnaire d'impression. Pour plus d'informations sur ces préférences, consultez le fichier de définition de schémas <filename>gnome-print-manager.schemas</filename>.</para>
<!--gnome-print-manager isn't in Mercury. Is there a replacement?-->
    </sect2>
    <sect2 id="gconf-12">
      <title>Définition du nombre d'espaces de travail</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>nombre d'espaces de travail, définition</secondary>
      </indexterm>
      <indexterm>
        <primary>espaces de travail</primary>
        <secondary>définition du nombre avec GConf</secondary>
      </indexterm>
      <para>Pour définir un nombre fixe et non modifiable d'espaces de travail, exécutez la commande suivante :</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.mandatory \
  --type int \
  --set /apps/metacity/general/num_workspaces <replaceable>nombre_entier</replaceable></userinput></screen>
      <para>Pour définir un nombre d'espaces de travail par défaut, exécutez la commande suivante :</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.defaults \
  --type int \
  --set /apps/metacity/general/num_workspaces <replaceable>nombre_entier</replaceable></userinput></screen>
      <para>Il est aussi possible de définir d'autres préférences du gestionnaire de fenêtres. Pour plus d'informations sur ces préférences, consultez le fichier de définition de schémas <filename>metacity.schemas</filename>.</para>
    </sect2>
    <sect2 id="gconf-16">
      <title>Configuration des préférences d'accessibilité du clavier</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>accessibilité du clavier, configuration</secondary>
      </indexterm>
      <indexterm>
        <primary>clavier</primary>
        <secondary>configuration des préférences d'accessibilité avec GConf</secondary>
      </indexterm>
      <para>Pour configurer les préférences d'accessibilité du clavier, il s'agit de modifier les valeurs des clés de préférences à l'emplacement <systemitem>/desktop/gnome/accessibility/keyboard</systemitem>. Par exemple, si vous voulez définir une valeur obligatoire afin d'activer les fonctions d'accessibilité du clavier, exécutez la commande suivante :</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.mandatory \
  --type bool \
  --set /desktop/gnome/accessibility/keyboard/enable true</userinput></screen>
      <para>Pour définir une valeur par défaut pour cette préférence, exécutez la commande suivante :</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.defaults \
  --type bool \
  --set /desktop/gnome/accessibility/keyboard/enable false</userinput></screen>
      <para>Il est aussi possible de définir d'autres préférences d'accessibilité du clavier. Pour plus d'informations sur ces préférences, consultez le fichier de définition de schémas <filename>desktop_gnome_accessibility_keyboard.schemas</filename>.</para>
    </sect2>
    <sect2 id="gconf-18">
      <title>Configuration des préférences des raccourcis clavier</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>raccourcis clavier, configuration</secondary>
      </indexterm>
      <indexterm>
        <primary>clavier</primary>
        <secondary>configuration des raccourcis clavier avec GConf</secondary>
      </indexterm>
      <para>Pour configurer les préférences des raccourcis clavier, il s'agit de modifier les valeurs des clés de préférences à l'emplacement <systemitem>/apps/metacity/global_keybindings</systemitem>. Par exemple, si vous souhaitez que les utilisateurs ne puissent ouvrir la boîte de dialogue <guilabel>Lancer une application</guilabel> uniquement avec le raccourci clavier <keycombo><keycap>Alt</keycap><keycap>F3</keycap></keycombo>, exécutez la commande suivante :</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.mandatory \
  --type string \
  --set /apps/metacity/global_keybindings/panel_run_dialog '&lt;Alt&gt;F3'</userinput></screen>
      <para>Il est aussi possible de définir d'autres préférences des raccourcis clavier. Pour plus d'informations sur ces préférences, consultez le fichier de définition de schémas <filename>metacity.schemas</filename>.</para>
    </sect2>
    <sect2 id="gconf-14">
      <title>Configuration des préférences des tableaux de bord et de leurs objets</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>préférences des objets de tableaux de bord, configuration</secondary>
      </indexterm>
      <indexterm>
        <primary>GConf</primary>
        <secondary>préférences des tableaux de bord, configuration individuelle</secondary>
      </indexterm>
      <indexterm>
        <primary>tableaux de bord</primary>
        <secondary>préférences, individuelles, configuration avec GConf</secondary>
      </indexterm>
      <para>Le fichier <filename>panel-default-setup.entries</filename> définit les aspects suivants des tableaux de bord du bureau GNOME :</para>
      <itemizedlist>
        <listitem>
          <para>Nombre de tableaux de bord</para>
        </listitem>
        <listitem>
          <para>Types des tableaux de bord</para>
        </listitem>
        <listitem>
          <para>Propriétés des tableaux de bord</para>
        </listitem>
        <listitem>
          <para>Contenu des tableaux de bord</para>
        </listitem>
      </itemizedlist>
      <para>La configuration individuelle de tableaux de bord et d'objets de tableaux de bord est une tâche complexe. Pour cela, vous devez d'abord comprendre la structure du fichier <filename>panel-default-setup.entries</filename>. Pour plus d'informations sur ce fichier, consultez la section suivante.</para>
      <para>Pour configurer les préférences des tableaux de bord et de leurs objets de manière individuelle, vous devez définir les valeurs de nombreuses préférences dans une source de configuration. La manière la plus simple de définir ces valeurs est d'utiliser la commande <command>gconftool-2</command> avec les options <option>--dump</option> et <option>--load</option>. Pour plus d'informations sur la définition de préférences pour les tableaux de bord et leurs objets, consultez <xref linkend="gconf-3"/>.</para>
      <sect3 id="gconf-23">
        <title>Détermination individuelle de tableaux de bord et d'objets de tableaux de bord</title>
        <indexterm>
          <primary>GConf</primary>
          <secondary>fichiers de définition de schémas</secondary>
          <tertiary>tableau de bord et objet de tableau de bord</tertiary>
        </indexterm>
        <indexterm>
          <primary>schémas</primary>
          <secondary>fichiers de définition de schémas</secondary>
          <tertiary>tableau de bord et objet de tableau de bord</tertiary>
        </indexterm>
        <para>Le fichier <filename>panel-default-setup.entries</filename> contient des sections définissant les tableaux de bord et leur contenu. Il indique des valeurs pour les clés de schéma. Ce fichier se trouve dans le répertoire <filename>/etc/gconf/schemas</filename>.</para>
        <para>Le fichier <filename>panel-default-setup.entries</filename> est structuré de la manière suivante :</para>
        <orderedlist>
          <listitem>
            <para>Des clés définissant la structure générale des tableaux de bord, des applets et des autres objets de tableau de bord du bureau GNOME. Les clés ci-après définissent le nombre de tableaux de bord, d'objets de tableaux de bord et d'applets qui apparaissent dans le bureau GNOME :</para>
            <itemizedlist>
              <listitem>
                <para>
                  <systemitem>/apps/panel/default_setup/general/toplevel_id_list</systemitem>
                </para>
              </listitem>
              <listitem>
                <para>
                  <systemitem>/apps/panel/default_setup/general/object_id_list</systemitem>
                </para>
              </listitem>
              <listitem>
                <para>
                  <systemitem>/apps/panel/default_setup/general/applet_id_list</systemitem>
                </para>
              </listitem>
            </itemizedlist>
            <para>Les clés attribuent aussi des identifiants à chaque tableau de bord, objet de tableau de bord ou applet. Par exemple, l'extrait suivant de <filename>panel-default-setup.entries</filename> indique qu'un tableau de bord apparaît dans le bureau GNOME :</para>
            <programlisting><![CDATA[<entry>
  <key>toplevel_id_list</key>
  <schema_key>/schemas/apps/panel/general/toplevel_id_list</schema_key>
  <value>
    <list type="string">
      <value>
        <string>bottom_panel</string>
      </value>
    </list>
  </value>
</entry>]]></programlisting>
            <para>Dans le fichier <filename>panel-default-setup.entries</filename>, l'identifiant <systemitem>bottom_panel</systemitem> désigne le tableau de bord inférieur.</para>
          </listitem>
          <listitem>
            <para>Des clés définissant les propriétés des tableaux de bord. Les clés des propriétés des tableaux de bord sont structurées de la manière suivante :</para>
            <programlisting>/apps/panel/default_setup/toplevels/<replaceable>nom_du_tableau_de_bord</replaceable>/<replaceable>clé_de_propriété_du_tdb</replaceable></programlisting>
            <para>Par exemple, la clé <systemitem>/apps/panel/default_setup/toplevels/bottom_panel/size</systemitem> définit la taille du tableau de bord inférieur.</para>
          </listitem>
          <listitem>
            <para>Des clés définissant les objets de tableaux de bord, leurs propriétés et les tableaux de bord auxquels ils appartiennent. Par exemple, l'extrait de <filename>panel-default-setup.entries</filename> ci-après définit un objet <guimenu>Menu principal</guimenu> placé à gauche du tableau de bord inférieur :</para>
            <programlisting><![CDATA[<entrylist base="/apps/panel/default_setup/objects/main_menu">
  <entry>
    <key>object_type</key>
    <schema_key>/schemas/apps/panel/objects/object_type</schema_key>
    <value>
      <string>menu-object</string>
    </value>
  </entry>
  <entry>
    <key>toplevel_id</key>
    <schema_key>/schemas/apps/panel/objects/toplevel_id</schema_key>
    <value>
      <string>bottom_panel</string>
    </value>
  </entry>
  <entry>
    <key>position</key>
    <schema_key>/schemas/apps/panel/objects/position</schema_key>
    <value>
      <int>0</int>
    </value>
  </entry>
  <!-- Possibly more entry elements -->
</entrylist>]]></programlisting>
          </listitem>
          <listitem>
            <para>Des clés définissant les applets, leurs préférences et les tableaux de bord auxquels ils appartiennent. Par exemple, l'extrait de <filename>panel-default-setup.entries</filename> ci-après définit une applet <application>Liste des fenêtres</application> dans le tableau de bord inférieur :</para>
            <programlisting><![CDATA[<entrylist base="/apps/panel/default_setup/applets/window_list">
  <entry>
    <key>object_type</key>
    <schema_key>/schemas/apps/panel/objects/object_type</schema_key>
    <value>
      <string>bonobo-applet</string>
    </value>
  </entry>
  <entry>
    <key>toplevel_id</key>
    <schema_key>/schemas/apps/panel/objects/toplevel_id</schema_key>
    <value>
      <string>bottom_panel</string>
    </value>
  </entry>
  <entry>
    <key>position</key>
    <schema_key>/schemas/apps/panel/objects/position</schema_key>
    <value>
      <int>2</int>
    </value>
  </entry>
  <!-- Possibly more entry elements -->
  <entry>
    <key>bonobo_iid</key>
    <schema_key>/schemas/apps/panel/objects/bonobo_iid_type</schema_key>
    <value>
      <string>OAFIID:GNOME_WindowListApplet</string>
    </value>
  </entry>
</entrylist>]]></programlisting>
            <para>Un OAFIID est un identifiant unique d'une applet. Pour trouver l'OAFIID d'une applet particulière, consultez le fichier <filename>.server</filename> correspondant à l'applet dans le répertoire <filename>/usr/lib/bonobo/servers</filename>. Par exemple, l'extrait du fichier <filename>GNOME_Wncklet_Factory.server</filename> ci-après indique l'OAFIID de l'applet <application>Liste des fenêtres</application> :</para>
            <programlisting><![CDATA[<oaf_server iid="OAFIID:GNOME_WindowListApplet" 
type="factory" location="OAFIID:GNOME_Wncklet_Factory">]]></programlisting>
          </listitem>
        </orderedlist>
      </sect3>
      <sect3 id="gconf-3">
        <title>Configuration de préférences individuelles pour les tableaux de bord et leurs objets</title>
        <para>Pour configurer les préférences d'un tableau de bord et de ses objets, effectuez les opérations suivantes :</para>
        <orderedlist>
          <listitem>
            <para>Connectez-vous dans une session GNOME et configurez les tableaux de bord à votre convenance.</para>
          </listitem>
          <listitem>
            <para>Utilisez l'option <option>--dump</option> avec l'outil en ligne de commande <command>gconftool-2</command> pour générer un fichier contenant une description XML de la configuration de vos tableaux de bord. L'option <option>--dump</option> génère une liste contenant toutes les clés de préférences du répertoire spécifié du référentiel <application>GConf</application>.</para>
            <para>Par exemple, la commande ci-après crée une description XML de la configuration par défaut des tableaux de bord dans un fichier nommé <filename>my-panel-setup.entries</filename> :</para>
            <screen><userinput>gconftool-2 --dump /apps/panel &gt; my-panel-setup.entries</userinput></screen>
          </listitem>
          <listitem>
            <para>Ouvrez le fichier <filename>my-panel-setup.entries</filename> dans un éditeur de texte et modifiez-le selon vos besoins.</para>
            <para>Imaginons par exemple que vous souhaitiez modifier l'emplacement du fichier des entrées de menu. Voici un extrait d'un fichier généré avec l'option <option>--dump</option> :</para>
            <programlisting><![CDATA[<entry>
  <key>objects/object_16/launcher_location</key>
  <schema_key>/schemas/apps/panel/objects/launcher_location</schema_key>
  <value>
    <string>hadjaha-00adce02f7.desktop</string>
  </value>
</entry>]]></programlisting>
            <para>Dans l'extrait ci-dessus, il s'agira alors de modifier la référence à <filename>hadjaha-00adce02f7.desktop</filename> vers un autre fichier d'entrées de menu accessible par tous les utilisateurs.</para>
            <para>Lorsque vous générez une configuration de tableaux de bord avec l'option <option>--dump</option>, les positions des objets de tableau de bord sont absolues. Il est parfois souhaitable de transformer ces positions absolues d'objets de tableau de bord en positions relatives. L'objet à l'extrême gauche d'un tableau de bord possède la <systemitem>position</systemitem> <literal>0</literal>. L'objet suivant aura la <systemitem>position</systemitem> <literal>1</literal> et ainsi de suite. Si vous souhaitez placer des objets en position relative à la droite d'un tableau de bord, réglez la valeur de la clé <systemitem>right_stick</systemitem> à <literal>true</literal>.</para>
<!--Give full key name for position.-->
          </listitem>
          <listitem>
            <para>Utilisez l'option <option>--load</option> avec l'outil en ligne de commande <command>gconftool-2</command> pour définir les valeurs de la source de configuration par défaut avec les valeurs du fichier <filename>my-panel-setup.entries</filename>. Par exemple, la commande ci-après définit les valeurs de la source de configuration par défaut avec les valeurs des clés correspondantes dans <filename>my-panel-setup.entries</filename> :</para>
            <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.defaults \
  --load my-panel-setup.entries</userinput></screen>
          </listitem>
        </orderedlist>
      </sect3>
    </sect2>
  </sect1>
  <sect1 id="gconf-9">
    <title>Configuration des préférences d'apparence</title>
    <para>Les sections suivantes expliquent comment attribuer des valeurs obligatoires ou par défaut à des préférences d'apparence.</para>
    <sect2 id="gconf-19">
      <title>Configuration des préférences de polices</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>polices, configuration</secondary>
      </indexterm>
      <indexterm>
        <primary>polices</primary>
        <secondary>réglage avec GConf</secondary>
      </indexterm>
      <para>Pour configurer des préférences de polices, il s'agit de modifier les valeurs de deux clés de préférences. Le tableau suivant montre les clés à modifier et les parties de l'interface utilisateur qu'elles concernent :</para>
      <informaltable frame="topbot">
        <tgroup cols="2" colsep="0" rowsep="0">
          <colspec colwidth="50*"/>
          <colspec colwidth="50*"/>
          <thead>
            <row rowsep="1">
              <entry>
                <para>Emplacement GConf</para>
              </entry>
              <entry>
                <para>Composant d'interface utilisateur</para>
              </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry valign="top">
                <para>/desktop/gnome/interface/font_name</para>
              </entry>
              <entry valign="top">
                <para>Panneau de préférences <application>Polices</application>, option <guilabel>Police des applications</guilabel></para>
              </entry>
            </row>
            <row>
              <entry valign="top">
                <para>/apps/nautilus/preferences/desktop_font</para>
              </entry>
              <entry valign="top">
                <para>Panneau de préférences <application>Polices</application>, option <guilabel>Police du bureau</guilabel></para>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
      <para>Par exemple, pour définir la police des applications obligatoire <literal>Sans 12</literal>, exécutez la commande suivante :</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.mandatory \
  --type string \
  --set /desktop/gnome/interface/font_name "Sans 12"</userinput></screen>
      <para><indexterm><primary>bureau</primary><secondary>préférences de polices, configuration avec GConf</secondary></indexterm>Pour définir la police du bureau par défaut <literal>Palatino 12</literal>, exécutez la commande suivante :</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.defaults \
  --type string \
  --set /apps/nautilus/preferences/desktop_font "palatino 12"</userinput></screen>
    </sect2>
    <sect2 id="gconf-20">
      <title>Configuration des préférences d'arrière-plan</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>arrière-plan, configuration</secondary>
      </indexterm>
      <indexterm>
        <primary>arrière-plan</primary>
        <secondary>préférences, configuration avec GConf</secondary>
      </indexterm>
      <para>Pour configurer les préférences de l'arrière-plan du bureau, il s'agit de modifier les valeurs des clés de préférences à l'emplacement <systemitem>/desktop/gnome/background</systemitem>. Par exemple, pour définir une image obligatoire pour l'arrière-plan, exécutez la commande suivante :</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.mandatory \
  --type string \
  --set /desktop/gnome/background/picture_filename <replaceable>nom_de_fichier.png</replaceable></userinput></screen>
      <para>Pour définir une valeur par défaut pour cette préférence, exécutez la commande suivante :</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.defaults \
  --type string \
  --set /desktop/gnome/background/picture_filename <replaceable>nom_de_fichier.png</replaceable></userinput></screen>
      <para>Il est aussi possible de configurer d'autres préférences d'arrière-plan. Pour plus d'informations à ce sujet, consultez le fichier de définitions de schéma <filename>desktop_gnome_background.schemas</filename>.</para>
    </sect2>
    <sect2 id="gconf-21">
      <title>Configuration des préférences de l'écran de démarrage</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>écran de démarrage, configuration</secondary>
      </indexterm>
      <indexterm>
        <primary>écran de démarrage</primary>
        <secondary>image, configuration avec GConf</secondary>
      </indexterm>
      <para>Pour configurer les préférences de l'image apparaissant à l'ouverture de la connexion, il s'agit de modifier la valeur des clés de préférences à l'emplacement <systemitem>/apps/gnome-session/options/</systemitem>. Par exemple, si vous ne souhaitez pas qu'une image apparaisse au démarrage, définissez une valeur obligatoire comme suit :</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.mandatory \
  --type bool \
  --set /apps/gnome-session/options/show_splash_screen false</userinput></screen>
      <para>Pour définir une valeur par défaut pour cette préférence, exécutez la commande suivante :</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.defaults \
  --type bool \
  --set /apps/gnome-session/options/show_splash_screen false</userinput></screen>
      <para>Il est aussi possible de configurer d'autres préférences de l'écran de démarrage. Pour plus d'informations à ce sujet, consultez le fichier de définitions de schéma <filename>gnome-session.schemas</filename>.</para>
    </sect2>
  </sect1>
  <sect1 id="gconf-28">
    <title>Restauration des valeurs de préférences par défaut</title>
    <indexterm>
      <primary>GConf</primary>
      <secondary>restauration des valeurs de préférences par défaut</secondary>
    </indexterm>
    <indexterm>
      <primary>valeurs de préférences</primary>
      <secondary>restauration des valeurs par défaut avec GConf</secondary>
    </indexterm>
    <para>Pour restaurer les valeurs de préférences par défaut pour un utilisateur, exécutez la commande suivante :</para>
    <screen><userinput>gconftool-2 --direct \
  --config-source <replaceable>source_de_configuration_utilisateur</replaceable> \
  --recursive-unset</userinput></screen>
    <para>Remplacez <replaceable>source_de_configuration_utilisateur</replaceable> par la source de configuration dans le répertoire <filename>.gconf</filename> du dossier personnel de l'utilisateur.</para>
    <para>Cette commande réinitialise toutes les valeurs des clés de préférences aux valeurs par défaut définies dans la source de configuration par défaut, dans tous les sous-répertoires.</para>
  </sect1>
</chapter>


<chapter id="menustructure-0">
  <title>Personnalisation des menus</title>

  <anchor id="menustructure-22"/>

  <anchor id="menustructure-TBL-12"/>

  <anchor id="menustructure-TBL-17"/>

  <highlights>
    <para>L'information de ce chapitre explique comment le bureau GNOME met en oeuvre les menus et comment il est possible de les personnaliser.</para>
  </highlights>

  <sect1 id="menustructure-1">
    <title>Introduction aux menus</title>

    <indexterm>
      <primary>menus</primary>

      <secondary>introduction</secondary>
    </indexterm>

    <para>Le bureau GNOME met en oeuvre les menus en accord avec la <ulink url="http://www.freedesktop.org/wiki/Standards/menu-spec">spécification des menus XDG</ulink>. Par la prise en charge de cette spécification, GNOME permet de :</para>

    <itemizedlist>
      <listitem>
        <para>Personnaliser facilement la hiérarchie des menus, en modifiant un petit nombre de fichiers. Il n'est pas nécessaire de modifier les applications ou de déplacer des fichiers.</para>
      </listitem>

      <listitem>
        <para>Installer facilement des applications. Il n'est pas nécessaire de fournir des informations sur la hiérarchie des menus au moment de l'installation d'applications.</para>
      </listitem>

      <listitem>
        <para>Configurer les menus pour que les utilisateurs ne puissent pas les modifier.</para>
      </listitem>
    </itemizedlist>

    <para>Les menus du bureau GNOME utilisent les composants suivants :</para>

    <itemizedlist>
      <listitem>
        <para>Fichiers de définition de menu</para>
      </listitem>

      <listitem>
        <para>Fichiers .desktop</para>
      </listitem>

      <listitem>
        <para>Fichiers d'entrée de répertoire</para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 id="menustructure-13">
    <title>Fichiers de définition de menu</title>

    <indexterm>
      <primary>fichiers de définition de menu</primary>
    </indexterm>

    <indexterm>
      <primary>fichiers .menu</primary>

      <see>fichiers de définition de menu</see>
    </indexterm>

    <para>Les fichiers menu définissent la hiérarchie de menus utilisée dans la barre de menus de GNOME. Vous pouvez personnaliser les menus en modifiant ces fichiers, soit pour tous les utilisateurs, soit pour un utilisateur particulier, selon le fichier <filename>applications.menu</filename> modifié.</para>

    <para>Les fichiers menu doivent se trouver dans <filename>$XDG_CONFIG_DIRS/menus/applications.menu</filename>. Si <envar>$XDG_CONFIG_DIRS</envar><footnote>
        <para>$XDG_CONFIG_DIRS est la variable d'environnement définie dans la <ulink url="http://www.freedesktop.org/Standards/basedir-spec">spécification des répertoires de base XDG</ulink>.</para>
      </footnote> n'est pas définie, c'est le chemin par défaut <filename>/etc/xdg</filename> qui est utilisé. Cela signifie également qu'une version spécifique à un utilisateur peut se trouver à l'emplacement <filename>$XDG_CONFIG_HOME/menus/applications.menu</filename> qui est recherché en priorité. Si <envar>$XDG_CONFIG_HOME</envar> n'est pas définie, c'est le chemin par défaut <filename>~/.config</filename> qui est utilisé. Les répertoires qui apparaissent en premier dans <envar>$XDG_CONFIG_DIRS</envar> ont priorité lorsqu'il existe plusieurs fichiers <filename>applications.menu</filename>. Le premier fichier trouvé est pris en compte et les autres fichiers sont ignorés.</para>

    <para>Si l'ordre de recherche des chemins ne vous semble pas clair, voici une liste simple qui présente la résolution de l'emplacement de <filename>applications.menu</filename> :</para>

    <orderedlist>
      <listitem>
        <para>Recherche de <filename>menus/applications.menu</filename> dans chaque répertoire de <envar>$XDG_CONFIG_HOME</envar>. Si cette dernière variable n'est pas définie, c'est le répertoire par défaut <filename>~/.config/</filename> qui est utilisé.</para>
      </listitem>

      <listitem>
        <para>Recherche de <filename>menus/applications.menu</filename> dans chaque répertoire de <envar>$XDG_CONFIG_DIRS</envar>. Si cette dernière variable n'est pas définie, c'est le répertoire par défaut <filename>/etc/xdg/</filename> qui est utilisé.</para>
      </listitem>

      <listitem>
        <para>Prise en compte du premier fichier <filename>applications.menu</filename> trouvé.</para>
      </listitem>
    </orderedlist>

    <para>Vous pouvez voir un exemple de fichier <filename>.menu</filename> à l'<xref linkend="example-menu"/>. Dans cet exemple, le menu de premier niveau s'appelle <literal>Applications</literal>, comme l'indique l'élément <literal>&lt;Name&gt;</literal>. Le menu <literal>Applications</literal> contient un seul sous-menu, mais il est possible d'en indiquer plusieurs. Chaque sous-menu peut aussi avoir un élément <literal>&lt;Include&gt;</literal>. Le but de cet élément est de filtrer les entrées de menu disponibles à l'aide de règles de correspondance.</para>

    <para>Par exemple, l'élément <literal>&lt;Category&gt;</literal> est une règle de correspondance élémentaire qui sélectionne une <link linkend="menustructure-desktopentry"><emphasis>entrée de menu</emphasis></link> que si sa clé <link linkend="category-key"><literal>Categories</literal> contient le contenu de l'élément <literal>&lt;Category&gt;</literal>. Dans l'exemple, le menu <literal>Accessories</literal> ne contiendra une <emphasis>entrée de menu</emphasis> que si celle-ci contient <quote>Utility</quote> dans sa clé Categories, mais pas <quote>System</quote>. Pour plus d'informations sur la clé Categories, consultez <xref linkend="menustructure-desktopentry"/>.</link></para>

    <example id="example-menu">
      <title>Exemple d'un fichier <filename>.menu</filename></title>

      <para><programlisting>&lt;!DOCTYPE Menu PUBLIC "-//freedesktop//DTD Menu 1.0//EN"
 "http://www.freedesktop.org/standards/menu-spec/1.0/menu.dtd"&gt;
&lt;Menu&gt;
  &lt;Name&gt;Applications&lt;/Name&gt;
  &lt;Directory&gt;Applications.directory&lt;/Directory&gt;

  &lt;!-- Read standard .directory and .desktop file locations --&gt;
  &lt;DefaultAppDirs/&gt;
  &lt;DefaultDirectoryDirs/&gt;

  &lt;!-- Accessories submenu --&gt;
  &lt;Menu&gt;
    &lt;Name&gt;Accessories&lt;/Name&gt;
    &lt;Directory&gt;Accessories.directory&lt;/Directory&gt;
    &lt;Include&gt;
      &lt;And&gt;
        &lt;Category&gt;Utility&lt;/Category&gt;
        &lt;Not&gt;
          &lt;Category&gt;System&lt;/Category&gt;
        &lt;/Not&gt;
      &lt;/And&gt;
    &lt;/Include&gt;
  &lt;/Menu&gt; &lt;!-- End Accessories --&gt;

  &lt;!-- possibly more submenus --&gt;

&lt;/Menu&gt; &lt;!-- End Applications --&gt;
</programlisting></para>
    </example>

    <para>Le <xref linkend="menustructure-xmlmenu"/> décrit certains éléments des fichiers <filename>.menu</filename>. Pour une description plus détaillée, consultez la <ulink url="http://www.freedesktop.org/wiki/Standards/menu-spec">spécification des menus XDG</ulink>.</para>

    <table frame="topbot" id="menustructure-xmlmenu">
      <title>Éléments du fichier de définition de menu</title>

      <tgroup cols="2" colsep="0" rowsep="0">
        <colspec colname="colspec2" colwidth="33.83*"/>

        <colspec colname="colspec3" colwidth="80.00*"/>

        <thead>
          <row rowsep="1">
            <entry><para>Élément</para></entry>

            <entry><para>Description</para></entry>
          </row>
        </thead>

        <tbody>
          <row>
            <entry colname="colspec2" valign="top"><para><literal>&lt;Menu&gt;</literal> </para></entry>

            <entry colname="colspec3" valign="top"><para>L'élément racine qui peut contenir d'autres éléments <literal>&lt;Menu&gt;</literal> imbriqués définissant des sous-menus. La manière d'imbriquer ces éléments détermine la structure du menu.</para></entry>
          </row>

          <row>
            <entry colname="colspec2" valign="top"><para><literal>&lt;Name&gt;</literal> </para></entry>

            <entry colname="colspec3" valign="top"><para>Spécifie le nom du menu. Chaque élément <literal>&lt;Menu&gt;</literal> doit contenir un élément <literal>&lt;Name&gt;</literal>.</para></entry>
          </row>

          <row>
            <entry colname="colspec2" valign="top"><para><literal>&lt;Directory&gt;</literal>
            </para></entry>

            <entry colname="colspec3" valign="top"><para>Spécifie le nom du fichier d'entrée de répertoire qui définit le nom, le commentaire et l'icône du menu. Si cet élément est absent, c'est l'élément <literal>&lt;Name&gt;</literal> qui est utilisé pour afficher le nom du menu.</para><para>Par défaut, les fichiers <filename>.directory</filename> sont recherchés à l'emplacement <filename>$XDG_DATA_DIRS/desktop-directories/</filename> comme le préconise la <citetitle>spécification des menus XDG</citetitle>.</para></entry>
          </row>

          <row>
            <entry colname="colspec2"><literal>&lt;DefaultAppDirs&gt;</literal></entry>

            <entry colname="colspec3">Cette instruction indique que tous les fichiers .desktop se trouvant dans <filename>$XDG_DATA_DIRS/applications/</filename> doivent être parcourus. Si cette instruction est absente, le système ne recherche pas de fichier .desktop à ces emplacements.</entry>
          </row>

          <row>
            <entry colname="colspec2"><literal>&lt;DefaultDirectoryDirs&gt;</literal></entry>

            <entry colname="colspec3">Cette instruction indique que tous les fichiers d'entrée de répertoire se trouvant dans <filename>$XDG_DATA_DIRS/desktop-directories/</filename> doivent être parcourus. Si cette instruction est absente, le système ne recherche pas de fichier d'entrée de répertoire à ces emplacements.</entry>
          </row>

          <row>
            <entry colname="colspec2" valign="top"><para><literal>&lt;Include&gt;</literal></para></entry>

            <entry colname="colspec3">Contient une liste des règles de correspondance utilisées pour générer le contenu d'un menu. Cette directive peut contenir des règles de correspondance <literal>&lt;Filename&gt;</literal>, <literal>&lt;Category&gt;</literal>, <literal>&lt;And&gt;</literal>, <literal>&lt;Or&gt;</literal>, <literal>&lt;Not&gt;</literal> ou <literal>&lt;All&gt;</literal>. Si elle contient plus d'une règle, celles-ci sont combinées par un OU logique afin que les <emphasis>fichiers .desktop</emphasis> correspondant à au moins une règle soient inclus.</entry>
          </row>

          <row>
            <entry colname="colspec2"><literal>&lt;Exclude&gt;</literal></entry>

            <entry colname="colspec3">L'inverse de <literal>&lt;Include&gt;</literal> puisque tous les <emphasis>fichiers .desktop</emphasis> qui correspondent aux règles de cet élément sont exclus de l'ensemble des éléments déjà inclus. C'est pour cette raison que cet élément doit apparaître après l'élément <literal>&lt;Include&gt;</literal>.</entry>
          </row>

          <row>
            <entry colsep="colspec2"><literal>&lt;Filename&gt;</literal></entry>

            <entry colname="colspec3">Une règle de correspondance qui sélectionne un <emphasis>fichier .desktop</emphasis> si son Desktop File-Id correspond au contenu de l'élément <literal>&lt;Filename&gt;</literal>.</entry>
          </row>

          <row>
            <entry colname="colspec2"><literal>&lt;Category&gt;</literal></entry>

            <entry colname="colspec3">Une règle de correspondance qui sélectionne un <emphasis>fichier .desktop</emphasis> si sa clé Categories correspond au contenu de l'élément <literal>&lt;Category&gt;</literal>.</entry>
          </row>

          <row>
            <entry colname="colspec2"><literal>&lt;And&gt;</literal></entry>

            <entry colname="colspec3">Une règle de correspondance qui sélectionne un <emphasis>fichier .desktop</emphasis> s'il correspond à <emphasis>toutes</emphasis> les règles de correspondance imbriquées dans l'élément <literal>&lt;And&gt;</literal>.</entry>
          </row>

          <row>
            <entry colname="colspec2"><literal>&lt;Or&gt;</literal></entry>

            <entry colname="colspec3">Une règle de correspondance qui sélectionne un <emphasis>fichier .desktop</emphasis> s'il correspond à <emphasis>au moins une</emphasis> des règles de correspondance imbriquées dans l'élément <literal>&lt;Or&gt;</literal>.</entry>
          </row>

          <row>
            <entry colname="colspec2"><literal>&lt;Not&gt;</literal></entry>

            <entry colname="colspec3">Une règle de correspondance qui ne sélectionne pas un <emphasis>fichier .desktop</emphasis> s'il correspond à <emphasis>au moins une</emphasis> des règles de correspondance imbriquées dans l'élément <literal>&lt;Not&gt;</literal>.</entry>
          </row>

          <row>
            <entry colname="colspec2"><literal>&lt;All&gt;</literal></entry>

            <entry colname="colspec3">Une règle de correspondance qui sélectionne tous les <emphasis>fichiers .desktop</emphasis>.</entry>
          </row>
        </tbody>
      </tgroup>
    </table>
  </sect1>

  <sect1 id="menustructure-desktopentry">
    <title>Fichiers .desktop</title>

    <anchor id="menustructure-6"/>

    <indexterm>
      <primary>fichiers .desktop</primary>
    </indexterm>

    <indexterm>
      <primary>fichiers .desktop</primary>

      <see>fichiers .desktop</see>
    </indexterm>

    <para>Un <firstterm>fichier .desktop</firstterm> est un fichier de données qui contient des informations sur un élément de menu. Il spécifie les détails d'un élément tel que le nom, une commande à exécuter, une icône, etc. Il contient également des mots-clés qui déterminent l'emplacement de l'élément dans la hiérarchie des menus.</para>

    <para>Les fichiers .desktop doivent se trouver dans le répertoire <filename>$XDG_DATA_DIRS/applications</filename> et doivent posséder l'extension <filename>.desktop</filename>. Si <envar>$XDG_DATA_DIRS</envar><footnote>
        <para>$XDG_DATA_DIRS est la variable d'environnement définie dans la <ulink url="http://www.freedesktop.org/Standards/basedir-spec">spécification des répertoires de base XDG</ulink>.</para>
      </footnote> n'est pas définie, le chemin par défaut <filename>/usr/share</filename> est utilisé. Cela implique aussi que des fichiers .desktop spécifiques à un utilisateur peuvent se trouver dans <filename>$XDG_DATA_HOME/applications</filename> qui est parcouru en premier. Si <envar>$XDG_DATA_HOME</envar> n'est pas définie, le chemin par défaut <filename>~/.local/share</filename> est utilisé. Les fichiers .desktop sont répertoriés à partir de tous les répertoires contenus dans la variable d'environnement <envar>$XDG_DATA_DIRS</envar>. Les répertoires apparaissant en premier dans la variable <envar>$XDG_DATA_DIRS</envar> ont priorité lorsque plusieurs fichiers .desktop ont le même nom.</para>

    <para>Voici un exemple d'un fichier .desktop :</para>

    <programlisting>[Desktop Entry]
Encoding=UTF-8
Name=Calculator
Name[fr]=Calculatrice
...
Comment=Perform calculations
Comment[fr]=Effectue des calculs compliqués
...
Exec=gcalctool
Icon=accessories-calculator
Terminal=false
Type=Application
StartupNotify=true
Categories=GNOME;GTK;Utility;Calculator</programlisting>

    <para>Le <xref linkend="menustructure-TBL-7"/> décrit les clés les plus importantes dans les fichiers .desktop. Pour plus d'informations à ce sujet, consultez la <ulink url="http://www.freedesktop.org/Standards/desktop-entry-spec">spécification des fichiers .desktop XDG</ulink>.</para>

    <table frame="topbot" id="menustructure-TBL-7">
      <title>Clés des fichiers .desktop</title>

      <tgroup cols="2" colsep="0" rowsep="0">
        <colspec colname="colspec0" colwidth="25.25*"/>

        <colspec colname="colspec1" colwidth="74.75*"/>

        <thead>
          <row rowsep="1">
            <entry><para>Clé de fichier .desktop</para></entry>

            <entry><para>Description</para></entry>
          </row>
        </thead>

        <tbody>
          <row>
            <entry colname="colspec0" id="category-key" valign="top"><para>
            <literal>Categories</literal> </para></entry>

            <entry colname="colspec1" valign="top"><para>Spécifie les mots-clés décrivant l'élément. Les mots-clés sont séparés par des points-virgules (;). Pour obtenir une liste des mots-clés de catégorie standard, consultez la spécification des menus à l'adresse <ulink url="http://www.freedesktop.org/Standards/menu-spec"> http://www.freedesktop.org/Standards/menu-spec</ulink>.</para><para>Les <link linkend="menustructure-13">fichiers de définition de menu</link> créent les menus à partir des fichiers .desktop en utilisant des règles de correspondance par rapport à la clé Categories.</para></entry>
          </row>

          <row>
            <entry valign="top"><para> <literal>Comment</literal>
            </para></entry>

            <entry valign="top"><para>Spécifie une courte description de l'élément. Le commentaire est affiché par une infobulle lorsque le pointeur de la souris survole un élément de menu.</para></entry>
          </row>

          <row>
            <entry valign="top"><para> <literal>Encoding</literal>
            </para></entry>

            <entry valign="top"><para>Spécifie le codage du fichier .desktop.</para></entry>
          </row>

          <row>
            <entry valign="top"><para> <literal>Exec</literal> </para></entry>

            <entry valign="top"><para>Spécifie la commande à exécuter lorsque l'élément a été choisi dans le menu.</para></entry>
          </row>

          <row>
            <entry colname="colspec0" valign="top"><para>
            <literal>Icon</literal> </para></entry>

            <entry colname="colspec1" valign="top"><para>Spécifie le nom de fichier d'une icône représentant l'élément. Cette clé n'indique pas le chemin vers le fichier, ni son extension.</para></entry>
          </row>

          <row>
            <entry><literal>MimeType</literal></entry>

            <entry>Spécifie les types MIME que l'application sait gérer.</entry>
          </row>
         
          <row>
            <entry valign="top"><para> <literal>Name</literal> </para></entry>

            <entry valign="top"><para>Spécifie le nom de l'élément. C'est ce nom qui est utilisé comme nom d'élément dans le menu.</para></entry>
          </row>

          <row>
            <entry valign="top"><para> <literal>NoDisplay</literal> </para></entry>

            <entry valign="top"><para>Cette option signifie <quote>Cette application existe, mais il ne faut pas l'afficher dans les menus</quote>.</para></entry>
          </row>

          <row>
            <entry colname="colspec0" valign="top"><para>
            <literal>Terminal</literal> </para></entry>

            <entry colname="colspec1" valign="top"><para>Spécifie si la commande de la clé <literal>Exec</literal> doit être exécutée dans une fenêtre de terminal. Si la valeur est <literal>true</literal>, la commande est exécutée dans une fenêtre de terminal.</para><para>Si la commande ne crée pas de fenêtre dans laquelle s'exécuter, la valeur de cette clé doit être <literal>true</literal>.</para></entry>
          </row>

          <row>
            <entry colname="colspec0" valign="top"><para>
            <literal>Type</literal> </para></entry>

            <entry colname="colspec1" valign="top"><para>Spécifie le type de l'élément. Cette valeur correspond à l'un des termes ci-dessous :</para><itemizedlist>
                <listitem>
                  <para><literal>Application</literal> : un élément qui lance une application.</para>
                </listitem>

                <listitem>
                  <para><literal>Link</literal> : un élément représentant un lien vers un fichier, un dossier ou une ressource distante (comme un site FTP, une page Web, un partage Windows...).</para>
                </listitem>

                <listitem>
                  <para><literal>FSDevice</literal> : un élément correspondant à un périphérique du système de fichiers.</para>
                </listitem>

                <listitem>
                  <para><literal>Directory</literal> : un élément qui correspond à un répertoire.</para>
                </listitem>
              </itemizedlist></entry>
          </row>

        </tbody>
      </tgroup>
    </table>

    <para>Pour plus d'informations sur les clés des fichiers .desktop, consultez la spécification des fichiers .desktop à l'adresse :</para>

    <literallayout>
    <ulink url="http://www.freedesktop.org/Standards/desktop-entry-spec">http://www.freedesktop.org/Standards/desktop-entry-spec</ulink>
    </literallayout>

    <note>
      <para>Les lanceurs de tableau de bord et les objets du bureau utilisent aussi les fichiers .desktop. Les informations contenues dans ces fichiers sont les mêmes que pour les éléments de menu. Par exemple, les fichiers .desktop définissent la commande à exécuter lorsqu'un utilisateur choisit le lanceur ou l'objet.</para>
    </note>
  </sect1>

  <sect1 id="menustructure-14">
    <title>Fichiers d'entrée de répertoire</title>

    <indexterm>
      <primary>fichiers d'entrée de répertoire</primary>
    </indexterm>

    <indexterm>
      <primary>fichiers .directory</primary>

      <see>fichiers d'entrée de répertoire</see>
    </indexterm>

    <para>Un <firstterm>fichier d'entrée de répertoire</firstterm> est un fichier de données qui contient des informations sur un menu. Il définit les détails du menu, tels que le nom, l'infobulle et l'icône. Les fichiers d'entrée de répertoire possèdent une extension <filename>.directory</filename>.</para>

    <para>Les fichiers d'entrée de répertoire doivent se trouver dans le répertoire <filename>$XDG_DATA_DIRS/desktop-directories</filename>. Si <envar>$XDG_DATA_DIRS</envar> n'est pas définie, le chemin par défaut utilisé est <filename>/usr/share</filename>. Cela implique également que des entrées de répertoire spécifiques aux utilisateurs peuvent se trouver dans <filename>$XDG_DATA_HOME/desktop-directories</filename> qui est parcouru en premier. Si <envar>$XDG_DATA_HOME</envar> n'est pas définie, le chemin par défaut utilisé est <filename>~/.local/share</filename>. Les entrées de répertoire sont récupérées dans tous les répertoires contenus dans la variable d'environnement <envar>$XDG_DATA_DIRS</envar>. Ceux qui apparaissent en premier dans <envar>$XDG_DATA_DIRS</envar> reçoivent la priorité lorsque plusieurs fichiers <filename>.directory</filename> ont le même nom.</para>

    <para>Voici un exemple de fichier d'entrée de répertoire :</para>

    <programlisting>[Desktop Entry]
Name=Graphics
Name[fr]=Graphisme
...
Comment=Graphics applications
Comment[fr]=Applications graphiques
...
Icon=gnome-graphics
Type=Directory
Encoding=UTF-8</programlisting>

    <para>Le <xref linkend="menustructure-TBL-15"/> décrit les clés les plus importantes dans les fichiers d'entrée de répertoire.</para>

    <table frame="topbot" id="menustructure-TBL-15">
      <title>Clés d'entrée de répertoire</title>

      <tgroup cols="2" colsep="0" rowsep="0">
        <colspec colname="colspec0" colwidth="27.07*"/>

        <colspec colname="colspec1" colwidth="72.93*"/>

        <thead>
          <row rowsep="1">
            <entry><para>Clé d'entrée de répertoire</para></entry>

            <entry><para>Description</para></entry>
          </row>
        </thead>

        <tbody>
          <row>
            <entry colname="colspec0" valign="top"><para>
            <literal>Name</literal> </para></entry>

            <entry colname="colspec1" valign="top"><para>Spécifie le nom du menu. C'est le nom qui apparaît dans le menu.</para></entry>
          </row>

          <row>
            <entry colname="colspec0" valign="top"><para>
            <literal>Comment</literal> </para></entry>

            <entry colname="colspec1" valign="top"><para>Spécifie une courte description du menu. Le commentaire s'affiche sous la forme d'une infobulle lorsque le pointeur de la souris se trouve sur le menu.</para></entry>
          </row>

          <row>
            <entry colname="colspec0" valign="top"><para>
            <literal>Icon</literal> </para></entry>

            <entry colname="colspec1" valign="top"><para>Spécifie le nom de fichier d'une icône qui représente le menu. Elle ne contient pas le chemin vers le nom de fichier, ni l'extension du fichier.</para></entry>
          </row>

          <row>
            <entry valign="top"><para> <literal>Type</literal> </para></entry>

            <entry valign="top"><para>Spécifie le type du menu. La valeur de cette clé est toujours <literal>Directory</literal>.</para></entry>
          </row>
        </tbody>
      </tgroup>
    </table>
  </sect1>

  <sect1 id="menustructure-2">
    <title>Édition des menus système</title>

    <anchor id="menustructure-23"/>

    <indexterm>
      <primary>menus</primary>

      <secondary>édition</secondary>
    </indexterm>

    <para>Il est possible d'éditer les fichiers de configuration de menus et les fichiers de données de menus afin de personnaliser les menus.</para>

    <sect2 id="menustructure-3">
      <title>Ajout de menus</title>

      <anchor id="menustructure-19"/>

      <anchor id="menustructure-20"/>

      <indexterm>
        <primary>menus</primary>

        <secondary>ajout</secondary>
      </indexterm>

      <para>Pour ajouter un menu pour tous les utilisateurs, effectuez les opérations suivantes :</para>

      <orderedlist>
        <listitem>
          <para>Créez une fichier d'entrée de répertoire pour l'élément à ajouter. Placez ce fichier dans le répertoire <filename>$XDG_DATA_DIRS/desktop-directories</filename>. Pour plus d'informations sur les fichiers d'entrée de répertoire, consultez <xref linkend="menustructure-14"/>.</para>
        </listitem>

        <listitem>
          <para>Situez le fichier <filename>$XDG_CONFIG_DIRS/menus/applications.menu</filename>.</para>
        </listitem>

        <listitem>
          <para>Dans le fichier <filename>.menu</filename>, ajoutez un élément <literal>&lt;Menu&gt;</literal> pour le nouveau menu. Pour plus d'informations sur les fichiers <filename>.menu</filename>, consultez <xref linkend="menustructure-13"/>.</para>
        </listitem>

        <listitem>
          <para>Créez un élément<literal>&lt;Name&gt;</literal> sous <literal>&lt;Menu&gt;</literal>. Le contenu de l'élément devrait contenir le nom du menu.</para>
        </listitem>

        <listitem>
          <para>Créez un élément <literal>&lt;Directory&gt;</literal> sous <literal>&lt;Menu&gt;</literal>. Le contenu de l'élément devrait contenir le nom du fichier d'entrée de répertoire.</para>
        </listitem>

        <listitem>
          <para>Consultez <xref linkend="menustructure-4"/> pour savoir comment ajouter un élément à un menu.</para>
        </listitem>
      </orderedlist>

      <para>À la prochaine connexion d'un utilisateur, le menu devrait apparaître dans la barre de menus.</para>

      <note>
        <title>Menu manquant ?</title>

        <para>Si vous n'avez spécifié aucune règle de correspondance dans l'élément <literal>&lt;Include&gt;</literal> ou si la règle ne correspond à aucun fichier .desktop, il se peut que le menu n'apparaisse pas dans la barre de menus.</para>
      </note>
    </sect2>

    <sect2 id="menustructure-4">
      <title>Ajout d'un élément à un menu</title>

      <indexterm>
        <primary>menus</primary>

        <secondary>ajout d'éléments à</secondary>
      </indexterm>

      <para>Pour ajouter un élément à un menu pour tous les utilisateurs, effectuez les opérations suivantes :</para>

      <orderedlist>
        <listitem>
          <para>Créez un fichier .desktop pour l'élément à ajouter. Pour plus d'informations sur les fichiers .desktop, consultez <xref linkend="menustructure-desktopentry"/>.</para>
        </listitem>

        <listitem>
          <para>Placez le fichier .desktop dans le dossier <filename>$XDG_DATA_DIRS/applications</filename>.</para>
        </listitem>

        <listitem>
          <para>Situez le fichier <filename>$XDG_CONFIG_DIRS/menus/applications.menu</filename>.</para>
        </listitem>

        <listitem>
          <para>Vérifiez qu'un élément <literal>&lt;Menu&gt;</literal> contient un élément <literal>&lt;Include&gt;</literal> avec une règle de correspondance qui sélectionne le fichier .desktop créé à l'étape 1.</para>
        </listitem>
      </orderedlist>

      <para>À la prochaine connexion d'un utilisateur, l'élément de menu doit se trouver à l'emplacement prévu.</para>
    </sect2>

    <sect2 id="menustructure-9">
      <title>Édition des propriétés d'un menu</title>

      <indexterm>
        <primary>menus</primary>

        <secondary>édition des propriétés de</secondary>
      </indexterm>

      <para>Pour éditer les propriétés d'un menu pour tous les utilisateurs, effectuez les opérations suivantes :</para>

      <orderedlist>
        <listitem>
          <para>Situez le fichier <filename>$XDG_CONFIG_DIRS/menus/applications.menu</filename>.</para>
        </listitem>

        <listitem>
          <para>Dans ce fichier, trouvez l'entrée <literal>&lt;Menu&gt;</literal> correspondant au menu que vous voulez modifier. Relevez le nom de fichier de l'entrée de répertoire dans l'élément <literal>&lt;Directory&gt;</literal>.</para>
        </listitem>

        <listitem>
          <para>Situez l'entrée de répertoire pour ce menu. Modifiez son contenu pour changer les propriétés du menu. Pour plus d'informations sur les fichiers <filename>.directory</filename>, consultez <xref linkend="menustructure-14"/>.</para>
        </listitem>
      </orderedlist>
    </sect2>

    <sect2 id="menustructure-10">
      <title>Édition d'un élément de menu</title>

      <indexterm>
        <primary>menus</primary>

        <secondary>édition des éléments de menu</secondary>
      </indexterm>

      <para>Pour éditer un élément de menu, effectuez les opérations suivantes :</para>

      <orderedlist>
        <listitem>
          <para>Situez le fichier .desktop dans le répertoire <filename>$XDG_DATA_DIRS/applications</filename> correspondant à l'élément de menu.</para>
        </listitem>

        <listitem>
          <para>Modifiez ce fichier pour changer les propriétés de l'élément de menu. Pour plus d'informations sur les fichiers .desktop, consultez <xref linkend="menustructure-desktopentry"/>.</para>
        </listitem>
      </orderedlist>
    </sect2>

    <sect2 id="menustructure-11">
      <title>Suppression d'un élément de menu</title>

      <indexterm>
        <primary>menus</primary>

        <secondary>suppression d'éléments de menu</secondary>
      </indexterm>

      <para>Pour supprimer un élément d'un menu pour tous les utilisateurs :</para>

      <orderedlist>
        <listitem>
          <para>Situez le fichier <filename>$XDG_CONFIG_DIRS/menus/applications.menu</filename>.</para>
        </listitem>

        <listitem>
          <para>Dans ce fichier, trouvez l'élément <literal>&lt;Menu&gt;</literal> contenant l'élément .desktop à supprimer.</para>
        </listitem>

        <listitem>
          <para>Insérez un élément <literal>&lt;Exclude&gt;</literal> après la balise fermante de l'élément <literal>&lt;Include&gt;</literal>. Assurez-vous de rester dans le cadre de l'élément <literal>&lt;Menu&gt;</literal> déterminé à l'étape 2.</para>
        </listitem>

        <listitem>
          <para>Insérez la règle de correspondance <literal>&lt;Filename&gt;</literal> en tant que sous-élément de <literal>&lt;Exclude&gt;</literal> pour exclure spécifiquement une entrée de menu.</para>
        </listitem>
      </orderedlist>

      <para>À la prochaine connexion d'un utilisateur, l'élément de menu n'apparaît plus dans le menu. L'<xref linkend="menustructure-deleteitem"/> montre comment on peut faire cela dans le fichier <filename>applications.menu</filename>. L'entrée de menu pour <filename>dasher.desktop</filename> est explicitement exclue dans l'affichage du menu d'accessibilité.</para>

      <example id="menustructure-deleteitem">
        <title>Suppression d'un élément de menu</title>

        <programlisting>&lt;!-- ... --&gt;

  &lt;Menu&gt;
    &lt;Name&gt;Accessibility&lt;/Name&gt;
    &lt;Directory&gt;Accessibility.directory&lt;/Directory&gt;
    &lt;Include&gt;
      &lt;And&gt;
        &lt;Category&gt;Accessibility&lt;/Category&gt;
        &lt;Not&gt;&lt;Category&gt;Settings&lt;/Category&gt;&lt;/Not&gt;
      &lt;/And&gt;
    &lt;/Include&gt;
    &lt;Exclude&gt;
      &lt;Filename&gt;dasher.desktop&lt;/Filename&gt;
    &lt;/Exclude&gt;
  &lt;/Menu&gt;

&lt;!-- ... --&gt;
</programlisting>
      </example>
    </sect2>
  </sect1>

  <sect1 id="menustructure-usermenus">
    <title>Édition de menus par utilisateur et fusion de menus</title>

    <indexterm>
      <primary>menus</primary>

      <secondary>édition de menus par utilisateur</secondary>
    </indexterm>

    <para>Vous pouvez utiliser les applications du bureau GNOME suivantes pour éditer les menus pour les utilisateurs :</para>

    <itemizedlist>
      <listitem>
        <para>Éditeur de menus GNOME</para>
      </listitem>
    </itemizedlist>

    <para>Un éditeur de menus simple est disponible pour que les utilisateurs puissent éditer leurs menus. Pour plus d'informations, consultez <ulink url="ghelp:user-guide?goseditmainmenu-1">Barre de menus</ulink> dans le <ulink url="ghelp:user-guide">Guide d'utilisation du bureau GNOME</ulink>. Il est aussi possible de créer et de modifier directement un fichier menu d'utilisateur.</para>

    <para>Pour créer manuellement un menu personnalisé pour un utilisateur, le fichier <filename>$XDG_CONFIG_HOME/menus/applications.menu</filename> doit exister. Si la variable <envar>$XDG_CONFIG_HOME</envar> n'est pas définie, c'est le répertoire par défaut <filename>~/.config</filename> qui est utilisé. Puisque c'est le premier emplacement parcouru pour chercher le fichier <filename>applications.menu</filename>, il a priorité sur tous les autres fichiers menu.</para>

    <para>Les menus d'utilisateurs peuvent contenir tous les éléments décrits dans <xref linkend="menustructure-13"/>. Pour une liste complète des éléments autorisés, consultez la <ulink url="http://www.freedesktop.org/wiki/Standards/menu-spec">spécification des menus XDG</ulink>.</para>

    <para>Dans la mesure où les fichiers menus des utilisateurs ont priorité sur le fichier menu système, ils remplacent entièrement le menu système sauf s'ils spécifient explicitement une <emphasis>fusion</emphasis> avec le menu système. Les sous-sections suivantes présentent des informations sur la fusion de menus.</para>

    <sect2>
      <title>Fusion du menu système</title>

      <indexterm>
        <primary>menus</primary>

        <secondary>fusion du menu système</secondary>
      </indexterm>

      <para>Il arrive souvent qu'un utilisateur veuille uniquement ajouter ou supprimer des éléments de menu du menu système standard. Afin de permettre ce genre de modifications isolées, il est recommandé que vous utilisiez l'élément <literal>&lt;MergeFile&gt;</literal> avec l'attribut <literal>type="parent"</literal> dans le fichier <filename>applications.menu</filename> de l'utilisateur.</para>

      <para>L'élément <literal>&lt;MergeFile&gt;</literal> permet la fusion d'un menu avec le contenu du fichier menu d'un utilisateur.Lorsque l'attribut <literal>type="parent"</literal> est spécifié, le contenu de l'élément <literal>&lt;MergeFile&gt;</literal> est ignoré et le fichier suivant dans le répertoire <filename>$XDG_CONFIG_DIRS/menus</filename> est utilisé pour la fusion.</para>

      <note>
        <title>Anciennes spécifications</title>

        <para>D'anciennes spécifications ne prenaient pas en compte l'attribut <literal>type</literal> et exigeaient simplement que l'emplacement du fichier menu soit fusionné comme contenu de l'élément <literal>&lt;MergeFile&gt;</literal>. En conséquence, il est possible que vous voyiez encore un emplacement spécifié dans le contenu de <literal>&lt;MergeFile&gt;</literal>, même avec <literal>type="parent"</literal>.</para>
      </note>

      <para>La fusion s'effectue comme suit :</para>

      <itemizedlist>
        <listitem>
          <para>Les enfants de l'élément racine <literal>&lt;Menu&gt;</literal> dans le fichier menu fusionné<footnote>
              <para>Le fichier menu fusionné se réfère au fichier <filename>applications.menu</filename> suivant dans le répertoire <filename>$XDG_CONFIG_DIRS/menus</filename>.</para>
            </footnote> sont substitués par l'élément <literal>&lt;MergeFile&gt;</literal> dans le fichier menu de base.</para>
        </listitem>

        <listitem>
          <para>Tous les éléments <literal>&lt;Menu&gt;</literal> enfants possédant le même nom sont consolidés dans une seul élément <literal>&lt;Menu&gt;</literal>. Ceci est réalisé en concaténant tout élément enfant de chaque élément <literal>&lt;Menu&gt;</literal> ayant le même nom dans la <emphasis>dernière</emphasis> occurrence de l'élément menu.</para>
        </listitem>
      </itemizedlist>

      <para>L'<xref linkend="menustructure-systemmerge"/> montre un exemple d'un fichier menu utilisateur fusionnant explicitement avec le fichier menu système.</para>

      <example id="menustructure-systemmerge">
        <title>Fusion du menu système</title>

        <programlisting>&lt;!DOCTYPE Menu PUBLIC "-//freedesktop//DTD Menu 1.0//EN"
 "http://www.freedesktop.org/standards/menu-spec/menu-1.0.dtd"&gt;

&lt;Menu&gt;
  &lt;Name&gt;Applications&lt;/Name&gt;
  &lt;MergeFile type="parent"&gt;/etc/xdg/menus/applications.menu&lt;/MergeFile&gt;
  &lt;Menu&gt;
    &lt;Name&gt;Accessibility&lt;/Name&gt;
    &lt;Exclude&gt;
      &lt;Filename&gt;dasher.desktop&lt;/Filename&gt;
    &lt;/Exclude&gt;
  &lt;/Menu&gt;
&lt;/Menu&gt;
</programlisting>
      </example>
    </sect2>

    <sect2>
      <title>Fusion avec des menus arbitraires</title>

      <indexterm>
        <primary>menus</primary>

        <secondary>fusion avec des menus arbitraires</secondary>
      </indexterm>

      <para>N'importe quel fichier menu peut être fusionné de la même manière que les menus système. La différence est que l'attribut <literal>type</literal> doit recevoir la valeur <literal>path</literal> ou doit être exclu de l'élément <literal>&lt;MergeFile&gt;</literal> pour pouvoir effectuer ce type de fusion.</para>

      <para>La fusion s'effectue toujours de la même manière, à l'exception de l'emplacement du <emphasis>fichier menu fusionné</emphasis> qui est spécifié dans le contenu de l'élément <literal>&lt;MergeFile&gt;</literal>.</para>
    </sect2>
  </sect1>
</chapter>

<chapter id="themes-0">
  <title>Installation de thèmes</title>
  <highlights>
    <para>Ce chapitre décrit les thèmes, les réglages de thèmes disponibles pour le bureau GNOME, la manière d'installer des options pour les règlages de thèmes et la manière de créer des options personnalisées.</para>
  </highlights>
  <sect1 id="themes-1">
    <title>Introduction aux thèmes</title>
    <indexterm>
      <primary>thèmes</primary>
      <secondary>introduction</secondary>
    </indexterm>
    <para>Un thème est un groupe de réglages coordonnés spécifiant l'apparence visuelle d'une partie du bureau GNOME. Les utilisateurs peuvent choisir des thèmes pour modifier l'apparence de leur bureau.</para>
    <para>Un thème contient des réglages qui influencent différentes parties du bureau GNOME, comme suit :</para>
    <variablelist>
      <varlistentry>
        <term>Contrôles</term>
        <listitem>
          <para><indexterm><primary>thèmes</primary><secondary>options de contrôles</secondary><tertiary>introduction</tertiary></indexterm><indexterm><primary>thèmes GTK+</primary><see>thèmes, options de contrôles</see></indexterm>Les réglages de contrôles d'un thème déterminent l'apparence visuelle des fenêtres, des tableaux de bord et des applets. Ils déterminent également l'apparence des éléments d'interface compatibles GNOME qui apparaissent dans les fenêtres, les tableaux de bord et les applets, tels que les menus, les icônes et les boutons. Certaines options de réglages de contrôles sont conçus pour des besoins particuliers d'accessibilité. Les utilisateurs peuvent choisir une option pour le réglage des contrôles dans l'onglet <guilabel>Contrôles</guilabel> du panneau de préférences <application>Thèmes</application>.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Cadre de fenêtre</term>
        <listitem>
          <para><indexterm><primary>thèmes</primary><secondary>options de bordures de fenêtres</secondary><tertiary>introduction</tertiary></indexterm><indexterm><primary>thèmes Metacity</primary><see>thèmes, options de bordures de fenêtres</see></indexterm>Le réglage des bordures de fenêtres pour un thème détermine l'apparence des bordures uniquement autour des fenêtres. Les utilisateurs peuvent choisir une option pour le réglage des bordures de fenêtres à partir de l'onglet <guilabel>Bordures de fenêtres</guilabel> du panneau de préférences <application>Thèmes</application>.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Icon</term>
        <listitem>
          <para><indexterm><primary>thèmes</primary><secondary>options des icônes</secondary><tertiary>introduction</tertiary></indexterm><indexterm><primary>thèmes d'icônes</primary><see>thèmes, options des icônes</see></indexterm>Le réglage des icônes d'un thème détermine l'apparence des icônes sur les tableaux de bord et sur l'arrière-plan du bureau. Les utilisateurs peuvent choisir une option pour le réglage des icônes à partir de l'onglet <guilabel>Icônes</guilabel> du panneau de préférences <application>Thèmes</application>.</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect1>
  <sect1 id="themes-17">
    <title>Fichier d'index de thème</title>
    <para>Chaque thème dispose d'un fichier d'index définissant les caractéristiques du thème. Le nom de ce fichier d'index est <filename>/usr/share/themes/<replaceable>nom-du-thème</replaceable>/index.theme</filename>.</para>
    <para>Voici un exemple de fichier d'index de thème :</para>
    <programlisting>[Desktop Entry]
Type=X-GNOME-Metatheme
Name=High Contrast Large
Name[fr]=Contraste élevé, grande taille
Comment=Large black-on-white text and icons
Comment[fr]=Grand texte et grandes icônes en noir sur fond blanc
Encoding=UTF-8

[X-GNOME-Metatheme]
GtkTheme=HighContrastLargePrint
IconTheme=HighContrast
MetacityTheme=Atlanta
ApplicationFont=sans 18
</programlisting>
    <para>Le tableau suivant décrit les clés dans les fichiers d'index de thème :</para>
    <table frame="topbot" id="themes-TBL-18">
      <title>Clés dans les fichiers d'index de thème</title>
      <tgroup cols="2" colsep="0" rowsep="0">
        <colspec colname="colspec0" colwidth="33*"/>
        <colspec colname="colspec1" colwidth="67*"/>
        <thead>
          <row rowsep="1">
            <entry>
              <para>Clé de fichier d'index</para>
            </entry>
            <entry>
              <para>Description</para>
            </entry>
          </row>
        </thead>
        <tbody>
          <row>
            <entry colname="colspec0" valign="top">
              <para>
                <literal>Type</literal>
              </para>
            </entry>
            <entry colname="colspec1" valign="top">
              <para>Spécifie que ce thème détermine l'apparence de plusieurs options de thèmes, tels que les contrôles, les bordures de fenêtres et les icônes.</para>
            </entry>
          </row>
          <row>
            <entry colname="colspec0" valign="top">
              <para>
                <literal>Name</literal>
              </para>
            </entry>
            <entry colname="colspec1" valign="top">
              <para>Le nom du thème. C'est le nom de thème qui apparaît dans le panneau de préférences <application>Thèmes</application>.</para>
            </entry>
          </row>
          <row>
            <entry colname="colspec0" valign="top">
              <para>
                <literal>Comment</literal>
              </para>
            </entry>
            <entry colname="colspec1" valign="top">
              <para>Une courte description du thème. C'est le texte qui apparaît au-dessous du nom du thème dans le panneau de préférences <application>Thèmes</application>.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <literal>GtkTheme</literal>
              </para>
            </entry>
            <entry valign="top">
              <para>Correspond aux réglages de contrôles dans le panneau de préférences <application>Thèmes</application>. Spécifie quelles options de réglage de contrôles il faut appliquer aux fenêtres, tableaux de bord et applets.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <literal>IconTheme</literal>
              </para>
            </entry>
            <entry valign="top">
              <para>Correspond aux réglages d'icônes dans le panneau de préférences <application>Thèmes</application>. Spécifie quelles options de réglage d'icônes il faut appliquer aux tableaux de bord et à l'arrière-plan du bureau.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <literal>MetacityTheme</literal>
              </para>
            </entry>
            <entry valign="top">
              <para>Correspond aux réglages de bordures de fenêtres dans le panneau de préférences <application>Thèmes</application>. Spécifie quelles options de réglage de bordures de fenêtres il faut appliquer aux fenêtres.</para>
            </entry>
          </row>
          <row>
            <entry colname="colspec0" valign="top">
              <para>
                <literal>ApplicationFont</literal>
              </para>
            </entry>
            <entry colname="colspec1" valign="top">
              <para>Correspond aux réglages de polices d'applications dans le panneau de préférences <application>Polices</application>.</para>
            </entry>
          </row>
        </tbody>
      </tgroup>
    </table>
  </sect1>
  <sect1 id="themes-3">
    <title>Installation d'une nouvelle option de contrôles</title>
    <indexterm>
      <primary>thèmes</primary>
      <secondary>options de contrôles</secondary>
      <tertiary>installation</tertiary>
    </indexterm>
    <para>Il est possible d'ajouter une nouvelle option pour les réglages de contrôles dans le panneau de préférences <application>Thèmes</application>. Les options de contrôles se trouvent dans le répertoire <filename>/usr/share/themes</filename>. La structure habituelle d'une option de contrôles sur le système de fichiers correspond à ceci :</para>
    <variablelist>
      <varlistentry>
        <term>Fichier d'option</term>
        <listitem>
          <para>
            <filename>/usr/share/themes/<replaceable>nom-d'option</replaceable>/gtk-2.0/gtkrc</filename>
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Fichiers images</term>
        <listitem>
          <para>
            <filename>/usr/share/themes/<replaceable>nom-d'option</replaceable>/pixmaps/*.*</filename>
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <para>Habituellement, une nouvelle option pour des réglages de contrôles est fournie sous la forme d'un fichier <filename>.tar.gz</filename>. Pour installer la nouvelle option, décompressez le fichier <filename>.tar.gz</filename> (unzip et untar) dans le répertoire <filename>/usr/share/themes</filename>.</para>
    <para>Les utilisateurs peuvent installer leurs propres options pour le réglage des contrôles. Dans ce cas, l'option est enregistrée dans le répertoire <filename>$HOME/.themes</filename>.</para>
  </sect1>
  <sect1 id="themes-5">
    <title>Installation d'une nouvelle option de bordures de fenêtres</title>
    <indexterm>
      <primary>thèmes</primary>
      <secondary>options de bordures de fenêtres</secondary>
      <tertiary>installation</tertiary>
    </indexterm>
    <para>Il est possible d'ajouter une nouvelle option pour les réglages de bordures de fenêtres dans le panneau de préférences <application>Thèmes</application>. Les options de bordures de fenêtres se trouvent dans le répertoire <filename>/usr/share/themes/<replaceable>nom-d'option</replaceable>/metacity-1</filename>. La structure habituelle d'une option de bordures de fenêtres sur le système de fichiers correspond à ceci :</para>
    <variablelist>
      <varlistentry>
        <term>Fichier d'option</term>
        <listitem>
          <para>
            <filename>/usr/share/themes/<replaceable>nom-d'option</replaceable>/metacity-1/metacity-theme-1.xml</filename>
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Fichiers images</term>
        <listitem>
          <para>
            <filename>/usr/share/themes/<replaceable>nom-d'option</replaceable>/metacity-1/*.*</filename>
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <para>Habituellement, une nouvelle option pour des réglages de bordures de fenêtres est fournie sous la forme d'un fichier <filename>.tar.gz</filename>. Pour installer la nouvelle option, décompressez le fichier <filename>.tar.gz</filename> (unzip et untar) dans le répertoire <filename>/usr/share/themes</filename>.</para>
    <para>Les utilisateurs peuvent installer leurs propres options pour le réglage des bordures de fenêtres. Dans ce cas, l'option est enregistrée dans le répertoire <filename>$HOME/.themes</filename>.</para>
  </sect1>
  <sect1 id="themes-16">
    <title>Installation d'une nouvelle option d'icônes</title>
    <indexterm>
      <primary>thèmes</primary>
      <secondary>options d'icônes</secondary>
      <tertiary>installation</tertiary>
    </indexterm>
    <para>Il est possible d'ajouter une nouvelle option pour les réglages d'icônes dans le panneau de préférences <application>Thèmes</application>. Les options d'icônes se trouvent dans le répertoire <filename>/usr/share/icons/<replaceable>nom-d'option</replaceable></filename>. La structure habituelle d'une option d'icônes sur le système de fichiers correspond à ceci :</para>
    <variablelist>
      <varlistentry>
        <term>Fichier d'option</term>
        <listitem>
          <para>
            <filename>/usr/share/icons/<replaceable>nom-d'option</replaceable></filename>
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Fichiers images</term>
        <listitem>
          <para>
            <filename>/usr/share/icons/<replaceable>nom-d'option</replaceable>/icons/*.*</filename>
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <para>Habituellement, une nouvelle option pour des réglages d'icônes est fournie sous la forme d'un fichier <filename>.tar.gz</filename>. Pour installer la nouvelle option, décompressez le fichier <filename>.tar.gz</filename> (unzip et untar) dans le répertoire <filename>/usr/share/icons</filename>.</para>
    <para>Les utilisateurs peuvent installer leurs propres options pour le réglage des icônes. Dans ce cas, l'option est enregistrée dans le répertoire <filename>$HOME/.icons/<replaceable>nom-d'option</replaceable></filename>.</para>
  </sect1>
  <sect1 id="themes-11">
    <title>Installation d'icônes pour les thèmes</title>
    <indexterm>
      <primary>thèmes</primary>
      <secondary>installation d'icônes</secondary>
    </indexterm>
    <para>Le bureau GNOME fournit plusieurs thèmes conçus pour des utilisateurs ayant des besoins particuliers en terme de vision. Par exemple, certains thèmes sont conçus pour les utilisateurs mal-voyants. Plusieurs versions des icônes peuvent être nécessaires afin qu'elles s'affichent correctement dans chaque thème.</para>
    <para>Il se peut que vous deviez installer une nouvelle icône pour une application. Lorsque vous installez la nouvelle icône, vous devez en créer plusieurs versions afin que l'icône s'affiche correctement dans les différents thèmes. Vous devez créer plusieurs versions des types d'icônes suivants :</para>
    <itemizedlist>
      <listitem>
        <para>Les icônes utilisées dans les applications du bureau GNOME.</para>
      </listitem>
      <listitem>
        <para>Les icônes utilisées en interne par les applications GTK+ ou les icônes GTK+ de base.</para>
      </listitem>
    </itemizedlist>
    <para>Lorsque vous installez une nouvelle icône, vous devez en créer plusieurs versions afin qu'elle s'affiche correctement dans les thèmes. Vous pouvez créer les icônes dans divers formats, par exemple le format PNG (Portable Network Graphic). La taille suggérée des icônes pour l'environnement de bureau est de 48 par 48 pixels. À cette taille, la plupart des thèmes peuvent redimensionner les icônes.</para>
    <para>Lorsque vous installez une nouvelle icône, créez des versions de 48 par 48 pixels des icônes suivantes :</para>
    <itemizedlist>
      <listitem>
        <para>Icône normale</para>
      </listitem>
      <listitem>
        <para>Icône à faible contraste</para>
      </listitem>
      <listitem>
        <para>Icône à contraste élevé</para>
      </listitem>
      <listitem>
        <para>Icône à contraste élevé inversé</para>
      </listitem>
    </itemizedlist>
    <para>Si possible, créez aussi des versions de 16 par 16 pixels de chacune des icônes ci-dessus, pour les thèmes qui n'ont pas besoin de grande taille d'écriture.</para>
    <para>Installez les icônes à l'emplacement des fichiers images pour les thèmes comme spécifié dans <xref linkend="themes-3"/> ou <xref linkend="themes-5"/>. Par exemple, pour le thème HighContrastLargePrint (contraste élévé, grande taille) ajoutez les icônes dans le répertoire <filename>/usr/share/themes/HighContrastLargePrint/pixmaps</filename>. Ajoutez des références aux icônes dans les fichiers de thème correspondants. Par exemple, pour ajouter des icônes au thème HighContrastLargePrint, placez des références aux icônes dans le fichier <filename>/usr/share/themes/HighContrastLargePrint/gtk-2.0/gtkrc</filename>. Modifiez le fichier <filename>gtkrc</filename> du thème pour associer l'icône avec un identifiant d'icône GTK de base.</para>
    <para>Pour plus d'informations sur la manière de créer des icônes pour les lanceurs d'applications et pour les tableaux de bord, consultez <ulink url="http://www.freedesktop.org/Standards/icon-theme-spec">http://www.freedesktop.org/Standards/icon-theme-spec</ulink>.</para>
  </sect1>
  <sect1 id="themes-15">
    <title>Création d'une option de contrôles personnalisée</title>
    <indexterm>
      <primary>thèmes</primary>
      <secondary>options de contrôles</secondary>
      <tertiary>création personnalisée</tertiary>
    </indexterm>
    <para>Si les options de réglage des contrôles ne conviennent pas aux besoins de vos utilisateurs, vous pouvez créer une option de contrôles personnalisée. Pour cela, effectuez les opérations suivantes :</para>
    <orderedlist>
      <listitem>
        <para>Créez une structure de répertoires pour l'option dans le répertoire <filename>/usr/share/themes</filename>. Utilisez la même structure que pour les autres options. Par exemple, pour créer une option appelée PetiteEcriture, créez les répertoires suivants :</para>
        <itemizedlist>
          <listitem>
            <para>
              <filename>/usr/share/themes/PetiteEcriture</filename>
            </para>
          </listitem>
          <listitem>
            <para>
              <filename>/usr/share/themes/PetiteEcriture/gtk-2.0</filename>
            </para>
          </listitem>
        </itemizedlist>
      </listitem>
      <listitem>
        <para>Situez le fichier <filename>gtkrc</filename> qui s'approche le plus des besoins de vos utilisateurs. Copiez ce fichier dans le répertoire <filename>gtk-2.0</filename> de votre nouvelle option.</para>
      </listitem>
      <listitem>
        <para>Ouvrez le fichier <filename>gtkrc</filename> dans un éditeur de texte et modifiez les attributs des éléments d'interface selon vos souhaits.</para>
      </listitem>
      <listitem>
        <para>Si la nouvelle option contient des images, installez-les dans le répertoire <filename>pixmaps</filename> de votre nouvelle option. Si votre option utilise des images d'une autre option, vous n'avez pas besoin d'effectuer des copies de ces images. Il suffit de vous assurer que la référence à ces images à l'entrée <literal>pixmap_path</literal> du fichier <filename>gtkrc</filename> soit correcte.</para>
      </listitem>
    </orderedlist>
    <para>Les utilisateurs peuvent maintenant choisir la nouvelle option pour le réglage des contrôles.</para>
    <para>Pour plus d'informations sur les fichiers <filename>gtkrc</filename>, consultez <ulink url="http://developer.gnome.org/doc/API/2.0/gtk/index.html">http://developer.gnome.org/doc/API/2.0/gtk/index.html</ulink>.</para>
  </sect1>
</chapter>

<chapter id="fontconfig-0">
  <title>Configuration des polices</title>
  <highlights>
    <para>Ce chapitre explique comment configurer les polices dans le bureau GNOME.</para>
  </highlights>
  <sect1 id="fontconfig-1">
    <title>Introduction à la configuration des polices</title>
    <indexterm>
      <primary>configuration des polices</primary>
      <see>polices</see>
    </indexterm>
    <indexterm>
      <primary>fontconfig</primary>
      <see>polices</see>
    </indexterm>
    <indexterm>
      <primary>polices</primary>
      <secondary>introduction</secondary>
    </indexterm>
    <para>Le bureau GNOME utilise la bibliothèque de configuration et de personnalisation des polices <literal>fontconfig</literal>. Cette bibliothèque peut exploiter toutes sortes de polices, y compris les polices PostScript Type 1 et les polices TrueType.</para>
    <para>La bibliothèque <literal>fontconfig</literal> fournit une liste de toutes les polices disponibles pour le bureau GNOME. Pour créer cette liste, <literal>fontconfig</literal> recherche dans les répertoires mentionnés dans le fichier <filename>/etc/fonts/fonts.conf</filename>. Pour voir toutes les polices disponibles sur un système, accédez à l'emplacement <literal>fonts:///</literal> dans le gestionnaire de fichiers.</para>
    <para>Pour plus d'informations sur la bibliothèque <literal>fontconfig</literal>, consultez l'URL suivant :</para>
    <literallayout>
      <ulink url="http://freedesktop.org/software/fontconfig">http://freedesktop.org/software/fontconfig</ulink>
    </literallayout>
  </sect1>
  <sect1 id="fontconfig-4">
    <title>Substitution de polices</title>
    <indexterm>
      <primary>polices</primary>
      <secondary>substitution</secondary>
    </indexterm>
    <para>La bibliothèque <literal>fontconfig</literal> effectue une substitution de polices dès qu'une police entière ou certains caractères manquent. Si le système doit afficher une police non disponible, <literal>fontconfig</literal> tente d'afficher une autre police semblable. Par exemple, si une page Web demande l'utilisation de la police Verdana et que celle-ci n'est pas installée, <literal>fontconfig</literal> affiche une police similaire, telle que Helvetica. La liste des polices de même style est définie dans le fichier <filename>/etc/fonts/fonts.conf</filename>.</para>
    <para>Si le système doit afficher un caractère qui ne se trouve pas dans la police sélectionnée, <literal>fontconfig</literal> tente d'afficher le caractère dans une police semblable. Par exemple, il se peut que Bitstream Vera Sans soit la police utilisée par l'Éditeur de texte. Cette famille de polices ne contient pas de caractère cyrillique. Si vous ouvrez un document contenant des caractères cyrilliques, l'Éditeur de texte utilise une police similaire qui contient les caractères cyrilliques afin de pouvoir afficher le caractère.</para>
    <para>La bibliothèque <literal>fontconfig</literal> définit également des alias pour les polices. Par exemple, <literal>serif</literal>, <literal>sans-serif</literal> et <literal>monospace</literal>. Lorsque vous sélectionnez l'un des alias d'une police, le système utilise la première police correspondant à cet alias dans le fichier <filename>/etc/fonts/fonts.conf</filename>.</para>
  </sect1>
  <sect1 id="fontconfig-2">
    <title>Ajout d'une police pour tous les utilisateurs</title>
    <indexterm>
      <primary>polices</primary>
      <secondary>ajout pour tous les utilisateurs</secondary>
    </indexterm>
    <para>Pour ajouter une police pour tous les utilisateurs, effectuez les opérations suivantes :</para>
    <orderedlist>
      <listitem>
        <para>Copiez le fichier de la police dans l'un des répertoires indiqués dans le fichier <filename>/etc/fonts/fonts.conf</filename>, Les polices sont généralement stockées dans le répertoire <filename>/usr/share/fonts/</filename>.</para>
      </listitem>
      <listitem>
        <para>La bibliothèque <literal>fontconfig</literal> met à jour automatiquement la liste des polices. Si elle n'est plus à jour, exécutez la commande suivante :</para>
        <screen><userinput>fc-cache <replaceable>nom_de_répertoire</replaceable></userinput></screen>
      </listitem>
    </orderedlist>
  </sect1>
  <sect1 id="fontconfig-3">
    <title>Ajout d'une police pour un seul utilisateur</title>
    <indexterm>
      <primary>polices</primary>
      <secondary>ajout pour un seul utilisateur</secondary>
    </indexterm>
    <para>Pour ajouter une police pour un seul utilisateur, effectuez les opérations suivantes :</para>
    <orderedlist>
      <listitem>
        <para>Copier le fichier de la police dans le répertoire <filename>$HOME/.fonts</filename> de l'utilisateur. Si vous glissez le fichier de police à l'emplacement <literal>fonts:///</literal> dans le gestionnaire de fichiers, il sera automatiquement copié dans le répertoire <filename>$HOME/.fonts</filename>.</para>
      </listitem>
      <listitem>
        <para>La bibliothèque <literal>fontconfig</literal> met à jour automatiquement la liste des polices. Si elle n'est plus à jour, exécutez la commande suivante :</para>
        <screen><userinput>fc-cache <replaceable>nom_de_répertoire</replaceable></userinput></screen>
      </listitem>
    </orderedlist>
  </sect1>
</chapter>


<chapter id="mimetypes-0">
  <title>Types MIME</title>
  <anchor id="mimetypes-TBL-3"/>
  <anchor id="mimetypes-TBL-6"/>
  <anchor id="mimetypes-TBL-8"/>

  <highlights>
    <para>Ce chapitre explique comment les applications détectent les types MIME, comment enregistrer les types MIME et comment ajouter des applications au bureau GNOME.</para>
  </highlights>

  <para>Le but de ce chapitre est de faciliter la compréhension de la configuration des différentes parties de la base de données MIME pour un administrateur et de donner un aperçu général du système MIME. Nous n'entrerons donc <emphasis>pas</emphasis> dans les détails lorsque ce n'est pas indispensable. Si vous voulez approfondir ce sujet, il est recommandé de se référer à la <ulink url="http://www.freedesktop.org/Standards/shared-mime-info-spec">spécification XDG de l'information MIME partagée</ulink>.</para>

  <sect1 id="mimetypes-intro">
    <title>Introduction aux types MIME</title>
    <anchor id="mimetypes-1"/>

    <indexterm>
      <primary>types MIME</primary>

      <secondary>introduction</secondary>
    </indexterm>

    <para>Un type MIME (<firstterm>Multipurpose Internet Mail Extension</firstterm>) identifie le format d'un fichier. Les applications comme les navigateurs Web et les logiciels de messagerie exploitent le type MIME d'un fichier pour décider de l'action à entreprendre. Par exemple, un logiciel de messagerie peut utiliser le type MIME pour détecter le format d'une pièce jointe et choisir le visualiseur approprié, tel que <application>gedit</application> pour l'ouverture d'un fichier texte.</para>

    <para>Comme autre exemple, le gestionnaire de fichiers <application>Nautilus</application> a besoin de connaître le type MIME d'un fichier pour exécuter les tâches suivantes :</para>

    <itemizedlist>
      <listitem>
        <para>Ouvrir le fichier avec la bonne application.</para>
      </listitem>

      <listitem>
        <para>Afficher une description du type du fichier.</para>
      </listitem>

      <listitem>
        <para>Afficher l'icône correspondant au fichier.</para>
      </listitem>

      <listitem>
        <para>Afficher une liste des applications alternatives pour l'ouverture d'un fichier.</para>
      </listitem>
    </itemizedlist>

    <para>À l'origine, les types MIME ont été proposés comme standard pour identifier le corps d'un message électronique. Actuellement, beaucoup de systèmes utilisent les types MIME pour identifier le format de fichiers arbitraires dans un système de fichiers. Ils sont composés d'un <emphasis>type média</emphasis> de premier niveau suivi d'un <emphasis>identifiant de sous-type</emphasis>, séparés par une barre oblique, <quote><literal>/</literal></quote>. Un exemple de type MIME est <literal>image/jpeg</literal>. Dans cet exemple, le type média est <quote><literal>image</literal></quote> et l'identifiant de sous-type est <quote><literal>jpeg</literal></quote>. Le type média de premier niveau est conçu pour donner une idée générale sur le type de contenu du fichier, alors que l'identifiant de sous-type identifie de manière plus précise le format du fichier.</para>

    <para>Il existe huit types média actuellement validés par la <acronym>IANA</acronym> [Internet Assigned Naming Authority]. Ces huit types sont : <simplelist type="inline">
        <member>application</member>

        <member>audio</member>

        <member>image</member>

        <member>message</member>

        <member>model</member>

        <member>multipart</member>

        <member>text</member>

        <member>video</member>
      </simplelist>. De nombreux sous-types existent pour chaque type média ; pour plus d'informations, consultez les <ulink url="http://www.iana.org/assignments/media-types/">Types média MIME</ulink> sur le site Web de la <ulink url="http://www.iana.org/">IANA</ulink>.</para>

    <para>La mise en oeuvre des types MIME dans GNOME suivent la <ulink url="http://www.freedesktop.org/Standards/shared-mime-info-spec">spécification XDG de l'information MIME partagée</ulink>. Cette spécification offre les avantages suivants :</para>

    <itemizedlist>
      <listitem>
        <para>Emplacements standard pour tous les fichiers en relation avec MIME.</para>
      </listitem>

      <listitem>
        <para>Manière standard d'enregistrement d'un nouveau type MIME par les applications.</para>
      </listitem>

      <listitem>
        <para>Manière standard d'interroger un fichier sur son type MIME.</para>
      </listitem>

      <listitem>
        <para>Manière standard de récolter des informations sur un type MIME.</para>
      </listitem>
    </itemizedlist>

    <para>La suite de ce chapitre décrit les fichiers et les répertoires formant la base de données MIME, des détails à propos des fichiers XML sources, comment créer ou modifier des types MIME, comment signaler qu'une application est capable de gérer certains types MIME et pour terminer, comment ajouter une application au bureau GNOME.</para>
  </sect1>

  <sect1 id="mimetypes-database">
    <title>La base de données MIME</title>
    <anchor id="mimetypes-4"/>
    <anchor id="mimetypes-5"/>

    <indexterm>
      <primary>types MIME</primary>

      <secondary>base de données</secondary>
    </indexterm>

    <para>La base de données MIME est un ensemble de fichiers qui déterminent :</para>

    <itemizedlist>
      <listitem>
        <para>L'ensemble des types MIME connus</para>
      </listitem>

      <listitem>
        <para>La méthode pour déterminer le type MIME d'un fichier</para>
      </listitem>

      <listitem>
        <para>Des métadonnées sur les types MIME, telles qu'une description intelligible destinée à l'affichage des fichiers du type concerné.</para>
      </listitem>
    </itemizedlist>

    <sect2 id="mimetypes-location">
      <title>Emplacements</title>

      <para>En tant qu'administrateur, la première étape élémentaire la plus importante pour la compréhension du système MIME est l'apprentissage de l'emplacement des fichiers. Dans la mesure où la <ulink url="http://www.freedesktop.org/Standards/shared-mime-info-spec">spécification XDG de l'information MIME partagée</ulink> a été préparée par le groupe X Desktop, cette spécification fait aussi appel à la <ulink url="http://www.freedesktop.org/wiki/Standards/basedir-spec">spécification XDG des répertoires de base</ulink>. Il est fortement recommandé de se familiariser avec cette dernière, car elle est également importante pour d'autres tâches d'administration système telle que l'édition des menus. Un bref résumé des emplacements des répertoires en lien avec la spécification MIME figure ci-dessous.</para>

      <para>La base de données MIME est créée à partir d'un ensemble de fichiers situés dans les répertoires <filename>$XDG_DATA_HOME/mime</filename> et <filename>$XDG_DATA_DIRS/mime</filename>. Si ces variables d'environnement ne sont pas définies, les valeurs par défaut utilisées sont respectivement <filename>~/.local/share</filename> et <filename>/usr/local/share:/usr/share</filename>. Comme on peut le voir en examinant la valeur par défaut pour <envar>$XDG_DATA_DIRS</envar>, chaque variable d'environnement est composée d'une liste de répertoires séparés par le caractère deux-points. La base de données utilisateur dans <filename>$XDG_DATA_HOME/mime</filename> a priorité sur la base de données système dans <filename>$XDG_DATA_DIRS/mime</filename> lorsque des définitions contradictoires apparaissent. En accord avec la <citetitle>spécification XDG de l'information MIME partagée</citetitle>, nous faisons référence à cet ensemble de répertoires par l'expression <literal>&lt;MIME&gt;</literal> dans la suite de ce document.</para>

      <para>Par exemple, en supposant que les variables d'environnement possèdent les valeurs par défaut, <quote>Charger <filename>&lt;MIME&gt;/text/plain.xml</filename></quote> implique le chargement des fichiers suivants :</para>

      <itemizedlist>
        <listitem>
          <para><filename>~/.local/share/mime/text/plain.xml</filename></para>
        </listitem>

        <listitem>
          <para><filename>/usr/local/share/mime/text/plain.xml</filename></para>
        </listitem>

        <listitem>
          <para><filename>/usr/share/mime/text/plain.xml</filename></para>
        </listitem>
      </itemizedlist>
    </sect2>

    <sect2 id="mimetypes-contents">
      <title>Contenu</title>

      <para>Voici une liste de répertoires et de fichiers se trouvant dans la base de données MIME, accompagnés de brèves descriptions :</para>

      <variablelist>
        <varlistentry>
          <term><filename>&lt;MIME&gt;/packages/</filename></term>

          <listitem>
            <para>Ce répertoire contient un nombre indéfini de fichiers XML décrivant chacun une collection de types MIME. Par défaut, le fichier <filename>freedesktop.org.xml</filename> est installé dans le répertoire <filename>/usr/share/mime/packages</filename>. Il contient tous les types MIME par défaut unanimement employés et reconnus.</para>

            <para>Les applications qui offrent des informations à propos de nouveaux types MIME doivent installer <emphasis>un seul</emphasis> nouveau fichier XML à cet endroit. Selon le préfixe d'installation de l'application, le fichier sera créé dans le sous-répertoire <filename>/mime/package</filename> d'un des répertoires contenus dans <envar>$XDG_DATA_HOME:$XDG_DATA_DIRS</envar>. Par exemple, une application installée dans <filename>/usr/bin</filename> doit installer un nouveau fichier XML source dans le répertoire <filename>/usr/share/mime/packages</filename>. Pour plus d'informations sur les fichiers XML des répertoires <filename>packages</filename>, veuillez consulter <xref linkend="mimetypes-source-xml"/>.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><filename>&lt;MIME&gt;/<replaceable>MÉDIA</replaceable>/<replaceable>SOUS-TYPE</replaceable>.xml</filename></term>

          <listitem>
            <para>Ces répertoires et fichiers sont automatiquement générés par l'application<application>update-mime-database</application> à partir de la collection de fichiers XML sources du sous-répertoire <filename>&lt;MIME&gt;/packages/</filename>. Par exemple, pour chaque élément <literal>mime-type</literal> du fichier <filename>/usr/share/mime/packages/freedesktop.org.xml</filename>, un répertoire est créé dans <filename>/usr/share/mime/</filename> avec le <emphasis>type média</emphasis> correspondant du type MIME. De plus, un fichier XML portant le nom de l'<emphasis>identifiant de sous-type</emphasis> du type MIME est créé dans ce répertoire. Le contenu de ce fichier contient des commentaires (ainsi que leurs traductions), des appellations de sous-classes et des alias.</para>

            <example>
              <title>Exemple : fichier <filename>/usr/share/mime/text/plain.xml</filename></title>

              <para><programlisting>&lt;?xml version='1.0' encoding='utf-8'?&gt;
&lt;mime-type xmlns="http://www.freedesktop.org/standards/shared-mime-info" type="text/plain"&gt;
&lt;!--Created automatically by update-mime-database. DO NOT EDIT!--&gt;
  &lt;comment&gt;plain text document&lt;/comment&gt;
  &lt;!-- possibly more translations --&gt;
  &lt;comment xml:lang="es"&gt;documento de texto sencillo&lt;/comment&gt;
  &lt;comment xml:lang="eu"&gt;testu soileko dokumentua&lt;/comment&gt;
  &lt;comment xml:lang="fi"&gt;perustekstiasiakirja&lt;/comment&gt;
  &lt;comment xml:lang="fr"&gt;document plein texte&lt;/comment&gt;
  &lt;!-- possibly more translations --&gt;
&lt;/mime-type&gt;
</programlisting>Ce fichier est généré par l'application <application>update-mime-database</application> à l'aide du fichier XML source par défaut, <filename>freedesktop.org.xml</filename>.</para>
            </example>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><filename>&lt;MIME&gt;/globs</filename></term>

          <listitem>
            <para>Contient une ligne avec un type MIME et un motif de correspondance, séparé par un deux-points. Les fichiers correspondant au motif sont attribués au type MIME spécifié avant le deux-points. Il existe des règles spéciales sur la manière de faire correspondre les noms de fichiers avec le motif de correspondance ; pour plus de détails, consultez la <citetitle>spécification XDG de l'information MIME partagée</citetitle>.</para>

            <para>Ce fichier est également généré par l'application <application>update-mime-database</application> à l'aide du fichier XML source par défaut, <filename>freedesktop.org.xml</filename>.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><filename>&lt;MIME&gt;/magic</filename></term>

          <listitem>
            <para>Un fichier binaire qui contient des informations sur la manière de résoudre les types MIME en <quote>reniflant</quote> le contenu du fichier. En général, c'est un ensemble d'une ou de plusieurs règles du type <quote>vérifie si la chaîne <literal>%PDF- </literal> se trouve à l'octet 0 du fichier ; si oui, attribue au fichier le type MIME <literal>application/pdf</literal></quote>.</para>

            <para>Ce fichier est également généré par l'application <application>update-mime-database</application>.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><filename>&lt;MIME&gt;/XMLnamespaces</filename></term>

          <listitem>
            <para>Contient une correspondance entre les espaces de nom XML et les types MIME. Chaque ligne comporte trois champs séparés par des espaces, l'espace de nom, le nom local (localName) et le type MIME. Si localName est vide, il y a deux espaces entre l'espace de nom et le type MIME.</para>

            <para>Ce fichier est également généré par l'application <application>update-mime-database</application>.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><filename>&lt;MIME&gt;/aliases</filename></term>

          <listitem>
            <para>Contient une liste d'alias pour chaque type MIME. Un alias est simplement un type MIME qui est parfois connu sous un autre nom. Chaque ligne de ce fichier comporte deux champs séparés par des espaces : le premier champ est le nom de l'alias et le second champ est le type MIME.</para>

            <para>Ce fichier est également généré par l'application <application>update-mime-database</application>.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><filename>&lt;MIME&gt;/subclasses</filename></term>

          <listitem>
            <para>Contient une liste des sous-classes de types MIME avec leur type MIME <quote>parent</quote>. D'après la <citetitle>spécification XDG de l'information MIME partagée</citetitle> :<blockquote>
                <para>Un type est une sous-classe d'un autre type dans le cas où toute instance du premier est aussi une instance du second. Par exemple, tous les fichiers image/svg sont également des fichiers text/xml, text/plain et application/octet-stream. Les sous-classes concernent le format, et non pas la catégorie des données (par exemple, il n'existe pas de classe « feuille de calcul » générique héritée par toutes les feuilles de calcul).</para>
              </blockquote>Le format de ce fichier est semblable au fichier <filename>aliases</filename>. Chaque ligne comporte deux champs séparés par des espaces, le premier étant le type MIME sous-classe et le second le type MIME parent.</para>

            <para>Ce fichier est également généré par l'application <application>update-mime-database</application>.</para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect2>

    <sect2 id="mimetypes-refresh">
      <title>Réactualisation de la base de données MIME</title>

      <para>Il est important que les administrateurs souhaitant ajouter de nouveaux types MIME à un système ou modifier l'information d'un type MIME comprennent la manière de réactualiser la base de données MIME. L'application <application>update-mime-database</application> est conçue pour cela.</para>

      <para>Par exemple, si une application installe de l'information sur un nouveau type MIME dans <filename>/usr/share/mime/packages/diff.xml</filename>, <application>update-mime-database</application> doit être lancé avec le paramètre <filename>/usr/share/mime</filename>.</para>

      <screen><prompt>#</prompt> <userinput>update-mime-database /usr/share/mime</userinput>
<computeroutput>***
* Mise à jour de la base de données MIME dans /usr/share/mime...
***
</computeroutput></screen>

      <para>La base de données MIME est réactualisée en analysant tous les fichiers XML source dans le répertoire <filename>&lt;MIME&gt;/packages</filename>.</para>
    </sect2>
  </sect1>

  <sect1 id="mimetypes-source-xml">
    <title>Fichiers XML source</title>
    <anchor id="mimetypes-11"/>
    <anchor id="mimetypes-12"/>
    <anchor id="mimetypes-2"/>

    <indexterm>
      <primary>types MIME</primary>

      <secondary>fichiers XML source</secondary>
    </indexterm>

    <para>Situés dans le répertoire <filename>&lt;MIME&gt;/packages</filename>, ces fichiers XML comprennent toutes les informations concernant les types MIME installés dans la base de données par l'application <application>update-mime-database</application>. Il existe quelques règles à propos du fichier XML lui-même :</para>

    <itemizedlist>
      <listitem>
        <para>Il doit spécifier l'espace de nom comme <quote><literal>http://www.freedesktop.org/standards/shared-mime-info</literal></quote></para>
      </listitem>

      <listitem>
        <para>L'élément racine doit être <literal>mime-info</literal></para>
      </listitem>

      <listitem>
        <para>Zéro ou plus d'éléments <literal>mime-type</literal> peuvent figurer comme enfants de l'élément <literal>mime-info</literal>. L'attribut <literal>type</literal> permet de spécifier le type MIME en cours de définition.</para>
      </listitem>
    </itemizedlist>

    <para>Par défaut, le fichier <filename>freedesktop.org.xml</filename> est installé dans le répertoire <filename>packages</filename> dans l'un des chemins <filename>&lt;MIME&gt;</filename> (généralement <filename>/usr/share/mime/packages</filename>).</para>

    <para><xref linkend="mimetypes-mimeinfo-elements"/> donne une courte description de chaque élément pouvant représenter un enfant de l'élément <literal>mime-type</literal>.</para>

    <table frame="topbot" id="mimetypes-mimeinfo-elements">
      <title>Éléments enfants de <literal>&lt;mime-type&gt;</literal></title>

      <tgroup cols="2" colsep="0" rowsep="0">
        <colspec colwidth="44.90*"/>

        <colspec colwidth="59.10*"/>

        <thead>
          <row rowsep="1">
            <entry>Élément (et attributs)</entry>

            <entry>Description</entry>
          </row>
        </thead>

        <tbody>
          <row>
            <entry><literal>&lt;glob pattern="<replaceable>*.xyz</replaceable>"&gt;</literal></entry>

            <entry>Cet élément spécifie un motif de correspondance de noms de fichier. Si le nom de fichier correspond, il reçoit alors le type MIME de l'élément <literal>mime-type</literal> parent. L'attribut <literal>pattern</literal> est obligatoire.</entry>
          </row>

          <row>
            <entry><literal>&lt;magic priority="<replaceable>50</replaceable>"&gt;</literal></entry>

            <entry>Cet élément contient une liste d'éléments <literal>match</literal> comme enfants. L'attribut <literal>priority</literal> est facultatif et spécifie une priorité entre 0 et 100, 100 étant la plus haute priorité de correspondance. Chaque élément <literal>match</literal> enfant contient trois attributs requis : <simplelist type="inline">
                <member><literal>type</literal></member>

                <member><literal>offset</literal></member>

                <member><literal>valeur</literal></member>
              </simplelist> et un quatrième attribut facultatif, <literal>mask</literal>. Pour plus de détails sur ces attributs, consultez la <ulink url="http://www.freedesktop.org/Standards/shared-mime-info-spec">spécification XDG de l'information MIME partagée</ulink>.</entry>
          </row>

          <row>
            <entry><literal>&lt;alias type="<replaceable>média</replaceable>/<replaceable>sous-type</replaceable>"&gt;</literal></entry>

            <entry>Cet élément définit un alias pour l'élément <literal>mime-type</literal> parent. Un alias est simplement un type MIME parfois connu sous le nom d'un autre type. Par exemple, <literal>application/x-pdf</literal> est un alias pour le type MIME <literal>application/pdf</literal>.</entry>
          </row>

          <row>
            <entry><literal>&lt;sub-class-of type="<replaceable>média</replaceable>/<replaceable>sous-type</replaceable>"&gt;</literal></entry>

            <entry>Cet élément définit l'élément <literal>mime-type</literal> parent comme une sous-classe du type MIME spécifié dans l'attribut <literal>type</literal>. Par exemple, <literal>image/svg</literal> est une sous-classe des types MIME <literal>text/xml</literal>, <literal>text/plain</literal> et <literal>application/octet-stream</literal>.</entry>
          </row>

          <row>
            <entry><literal>&lt;comment xml:lang="<replaceable>locale</replaceable>"&gt;</literal></entry>

            <entry>Cet élément fournit une description intelligible du type MIME. Cet élément peut apparaître zéro ou plusieurs fois pour autant que chaque occurrence contienne une valeur unique de l'attribut <literal>xml:lang</literal>.</entry>
          </row>

          <row>
            <entry><literal>&lt;root-XML namespaceURI="<replaceable>espace_de_nom</replaceable>" localName=""&gt;</literal></entry>

            <entry>Si un fichier est identifié comme fichier XML, cet élément aide à préciser sa nature au moyen des attributs <literal>namespaceURI</literal> et <literal>localName</literal>, obligatoires les deux. L'attribut <literal>namespaceURI</literal> est l'espace de nom du document et <literal>localName</literal> le nom de l'élément racine. Si <literal>localName</literal> est présent mais que sa valeur est vide, l'élément racine peut porter n'importe quel nom, mais l'espace de nom doit toujours correspondre.</entry>
          </row>
        </tbody>
      </tgroup>
    </table>

    <para>La façon la plus simple de comprendre est d'examiner un exemple. Emprunté à la <citetitle>spécification XDG de l'information MIME partagée</citetitle>, l'<xref linkend="mimetypes-source-xml-example"/> montre le contenu d'un fichier XML source appelé <filename>diff.xml</filename>. Cet exemple, définit le type MIME <literal>text/x-diff</literal>. Plusieurs éléments <literal>comment</literal> donnent au type MIME un nom compréhensible en plusieurs langues. Ce type MIME possède à la fois des règles de correspondance sur la base de modèles et d'autres se basant sur le <quote>reniflage</quote> (mieux connues sous le nom de règles <filename>magic</filename>). Tout fichier doté des extensions <literal>.diff</literal> ou <filename>.patch</filename> correspondra à ce type MIME. De plus, tout fichier dont le contenu commence par les caractères contenus dans les attributs <literal>value</literal> de l'élément <literal>match</literal> sera identifié du type MIME <literal>text/x-diff</literal>.</para>

    <para>L'ordre d'applications des règles de correspondance et des règles « magic » dépasse l'objectif de ce document. Pour des détails à ce sujet, consultez la <ulink url="http://www.freedesktop.org/Standards/shared-mime-info-spec">spécification XDG de l'information MIME partagée</ulink>.</para>

    <example id="mimetypes-source-xml-example">
      <title>Exemple d'un fichier XML source : <filename>diff.xml</filename></title>

      <programlisting>&lt;?xml version='1.0'?&gt;
&lt;mime-info xmlns='http://www.freedesktop.org/standards/shared-mime-info'&gt;
  &lt;mime-type type="text/x-diff"&gt;
    &lt;comment&gt;Differences between files&lt;/comment&gt;
    &lt;comment xml:lang="af"&gt;verskille tussen lêers&lt;/comment&gt;
    &lt;!-- more translated comment elements --&gt;
    &lt;magic priority="50"&gt;
      &lt;match type="string" offset="0" value="diff\t"/&gt;
      &lt;match type="string" offset="0" value="***\t"/&gt;
      &lt;match type="string" offset="0" value="Common subdirectories: "/&gt;
    &lt;/magic&gt;
    &lt;glob pattern="*.diff"/&gt;
    &lt;glob pattern="*.patch"/&gt;
  &lt;/mime-type&gt;
&lt;/mime-info&gt;</programlisting>
    </example>
  </sect1>

  <sect1 id="mimetypes-modifying">
    <title>Modification des types MIME</title>

    <indexterm>
      <primary>types MIME</primary>

      <secondary>vérification des modifications</secondary>
    </indexterm>

    <indexterm>
      <primary>types MIME</primary>

      <secondary>modification</secondary>
    </indexterm>

    <para>Il ne faudrait jamais modifier directement les fichiers XML source installés par les applications dans le répertoire <filename>&lt;MIME&gt;/packages</filename>. Modifiez plutôt le fichier <filename>Overrides.xml</filename>. Ce fichier a priorité sur tout autre fichier XML source installé dans le même répertoire <filename>packages</filename>. Si vous êtes auteur d'application, cette règle ne s'applique pas. Dans ce cas, vous devez créer un nouveau fichier XML source et le placer dans le répertoire <filename>&lt;MIME&gt;/packages</filename> adéquat (par le moyen du <filename>Makefile</filename>, naturellement).</para>

    <para>Vous pouvez modifier la base de données MIME pour tous les utilisateurs ou pour un seul selon l'emplacement du fichier que vous modifiez. Pour affecter tous les utilisateurs, éditez le fichier <filename>Overrides.xml</filename> du répertoire <filename>$XDG_DATA_DIRS/mime/packages</filename>. Si vous ne voulez modifier la base de données que pour un seul utilisateur, éditez le fichier <filename>Overrides.xml</filename> du répertoire <filename>$XDG_DATA_HOME/mime/packages</filename>.</para>

    <para>Après tout changement de ces fichiers, il est indispensable d'exécuter l'application <application>update-mime-database</application> avec en premier paramètre l'emplacement du répertoire de la base de données MIME.</para>

    <sect2 id="mimetypes-addmodify">
      <title>Ajout ou modification de types MIME</title>

      <para>Pour ajouter un ou plusieurs types MIME pour tous les utilisateurs :</para>

      <orderedlist>
        <listitem>
          <para>Créez ou modifiez un fichier XML source <filename>Overrides.xml</filename> contenant les définitions des types MIME. Pour plus d'informations, consultez <xref linkend="mimetypes-source-xml"/>.</para>
        </listitem>

        <listitem>
          <para>Placez le fichier <filename>Overrides.xml</filename> dans le répertoire <filename>/usr/share/mime/packages</filename>.</para>
        </listitem>

        <listitem>
          <para>Mettez à jour la base de données MIME en exécutant <application>update-mime-database</application> avec un compte administrateur.<screen><userinput>update-mime-database /usr/share/mime</userinput></screen></para>
        </listitem>
      </orderedlist>

      <para>Pour ajouter un ou plusieurs types MIME pour un seul utilisateur, effectuez les mêmes opérations à l'exception de l'emplacement du fichier <filename>Overrides.xml</filename> qui doit se trouver dans le répertoire <filename>~/.local/share/mime/packages</filename>. De plus, exécutez <application>update-mime-database</application> avec <filename>~/.local/share/mime/packages</filename> comme premier paramètre.</para>
    </sect2>

    <sect2 id="mimetypes-verifying">
      <title>Vérification des modifications</title>
      <anchor id="mimetypes-10"/>

      <para>Après avoir modifié la base de données MIME et réactualisé son contenu, vous pouvez vérifier la prise en compte des modifications en utilisant l'application <application>gnomevfs-info</application>. Celle-ci affiche le type MIME et d'autres informations utiles à propos d'un fichier.</para>

      <para>En lançant <application>gnomevfs-info</application> pour un fichier SVG, vous obtiendrez le résultat affiché ci-dessous. Vous pouvez remarquer que l'application par défaut de ce type MIME est <filename>eog.desktop</filename>. Les applications par défaut seront abordées dans <xref linkend="mimetypes-registering"/>.</para>

      <screen><prompt>$</prompt> <userinput>gnomevfs-info mime-diagram.svg</userinput>
<computeroutput>Name              : mime-diagram.svg
Type              : Regular
MIME type         : image/svg+xml
Default app       : eog.desktop
Size              : 14869
Blocks            : 32
I/O block size    : 4096
Local             : YES
SUID              : NO
SGID              : NO
Sticky            : NO
Permissions       : 600644
Link count        : 1
UID               : 1000
GID               : 100
Access time       : Wed Feb 22 18:24:47 2006
Modification time : Wed Feb 22 18:24:42 2006
Change time       : Wed Feb 22 18:24:42 2006
Device #          : 775
Inode #           : 297252
Readable          : YES
Writable          : YES
Executable        : NO</computeroutput>
<prompt>$</prompt>
</screen>

      <para><xref linkend="mimetypes-newtype-example"/> décrit les opérations nécessaires à la création d'un nouveau type MIME et à la vérification des modifications à l'aide de <application>gnomevfs-info</application>.</para>
    </sect2>

    <sect2 id="mimetypes-newtype-example">
      <title>Exemple <literal>application/x-nouveautype</literal></title>

      <para>Pour créer (ou redéfinir) un type MIME et vérifier les changements :</para>

      <orderedlist>
        <listitem>
          <para>Créez un nouveau fichier vide appelé <filename>test.xyz</filename> dans votre dossier personnel.</para>
        </listitem>

        <listitem>
          <para>Pour connaître le type MIME du fichier, lancez <application>gnomevfs-info</application> avec le fichier en paramètre. Dans ce cas, ce devrait être <literal>text/plain</literal> puisqu'aucun modèle ni règle « magic » ne correspondra<footnote>
              <para>Lorsqu'un fichier ne correspond à aucun modèle ou aucune règle « magic », son type MIME est défini comme <literal>text/plain</literal> s'il contient des données textuelles ou <literal>application/octet-stream</literal> s'il contient des données binaires. Si le fichier est vide, son type MIME par défaut est <literal>text/plain</literal>.</para>
            </footnote>.</para>
        </listitem>

        <listitem>
          <para>Créez (ou modifiez) le fichier <filename>Overrides.xml</filename>, selon les explications de la <xref linkend="mimetypes-addmodify"/>, avec le contenu de l'<xref linkend="mimetypes-overrides-xml"/> ci-dessous.</para>
        </listitem>

        <listitem>
          <para>Réactualisez la base de données avec <application>update-mime-database</application>.</para>
        </listitem>

        <listitem>
          <para>Utilisez <application>gnomevfs-info</application> pour vérifier que les modifications ont été prises en compte. Vous devriez voir apparaître <literal>application/x-nouveautype</literal> comme type MIME du fichier <filename>test.xyz</filename>.</para>

          <screen><prompt>$</prompt> <userinput>gnomevfs-info test.xyz | grep MIME
</userinput><computeroutput>MIME type         : application/x-nouveautype
</computeroutput><prompt>$</prompt></screen>
        </listitem>
      </orderedlist>

      <example id="mimetypes-overrides-xml">
        <title>Fichier <filename>Overrides.xml</filename></title>

        <programlisting>&lt;?xml version='1.0' encoding='utf-8'?&gt;
&lt;mime-info xmlns="http://www.freedesktop.org/standards/shared-mime-info"&gt;
  &lt;mime-type type="application/x-nouveautype"&gt;&lt;comment&gt;nouveau type MIME&lt;/comment&gt;&lt;glob pattern="*.xyz"/&gt;&lt;/mime-type&gt;
&lt;/mime-info&gt;</programlisting>
      </example>
    </sect2>
  </sect1>

  <sect1 id="mimetypes-registering">
    <title>Enregistrement d'applications pour les types MIME</title>

    <anchor id="mimetypes-7"/>

    <indexterm>
      <primary>types MIME</primary>

      <secondary>enregistrement d'applications pour</secondary>
    </indexterm>

    <indexterm>
      <primary>applications</primary>

      <secondary>registre</secondary>
    </indexterm>

    <para>L'enregistrement d'applications capables de gérer des types MIME est relativement simple. Les applications sont enregistrées par la création d'une clé <literal>MimeType</literal> dans leur fichier .desktop, avec une liste de types MIME séparés par un deux-points. La clé <literal>MimeType</literal> devrait être utilisée uniquement pour les fichiers <filename>.desktop</filename> dont la clé <literal>Type</literal> possède la valeur <quote><literal>Application</literal></quote>. Pour plus d'informations sur les fichiers <filename>.desktop</filename>, consultez <xref linkend="menustructure-desktopentry"/>.</para>

    <para>Après la création ou la modification d'un fichier <filename>.desktop</filename>, vous devez mettre à jour la base de données des applications avec la commande <application>update-desktop-database</application> (très semblable à <application>update-mime-database</application>, mais ne prend aucun paramètre). Cela va créer un fichier <filename>mimeinfo.cache</filename> dans le sous-répertoire <filename>applications</filename> de chaque répertoire énuméré dans <filename>$XDG_DATA_HOME:$XDG_DATA_DIRS</filename>. Ce fichier cache est nécessaire afin d'éviter que tous les fichiers <filename>.desktop</filename> ne doivent être parcourus uniquement pour la clé <literal>MimeType</literal>, car cela produirait des accès disque inutiles.</para>

    <para>Les applications par défaut correspondant à un type MIME spécifique devraient figurer dans un fichier nommé <filename>defaults.list</filename>. Ce fichier se trouve dans le sous-répertoire <filename>applications</filename> de chaque répertoire énuméré dans <envar>$XDG_DATA_HOME</envar> et <envar>$XDG_DATA_DIRS</envar>. Le format de ce fichier est constitué par le type MIME, le symbole <literal>=</literal> et l'identifiant de fichier .desktop (qui correspond au nom du fichier .desktop). <xref linkend="mimetypes-registering-example"/> est un court exemple d'un fichier <filename>defaults.list</filename> dans le répertoire <filename>~/.local/share/applications</filename> d'un utilisateur.</para>

    <example id="mimetypes-registering-example">
      <title>Fichier <filename>defaults.list</filename> d'un utilisateur</title>

      <programlisting>[Default Applications]
application/pdf=evince.desktop
text/html=epiphany.desktop
text/plain=gedit.desktop
image/jpeg=eog.desktop
image/png=eog.desktop
text/xml=gedit.desktop
</programlisting>
    </example>

    <note>
      <title>Spécification XDG des fichiers desktop</title>

      <para>La procédure d'enregistrement des types MIME par les applications fait partie de la <ulink url="http://www.freedesktop.org/wiki/Standards/desktop-entry-spec">spécification XDG des fichiers desktop</ulink> et non pas de la <ulink url="http://www.freedesktop.org/Standards/shared-mime-info-spec">spécification XDG de l'information MIME partagée</ulink>.</para>
    </note>
  </sect1>

  <sect1 id="mimetypes-9">
    <title>Ajout d'une application au bureau GNOME</title>

    <indexterm>
      <primary>types MIME</primary>

      <secondary>ajout d'applications</secondary>
    </indexterm>

    <indexterm>
      <primary>applications</primary>

      <secondary>ajout</secondary>
    </indexterm>

    <para>Pour ajouter une application au bureau GNOME, effectuez les opérations suivantes :</para>

    <orderedlist>
      <listitem>
        <para>Ajoutez un élément de menu pour l'application. Pour plus d'informations sur la façon d'ajouter un élément à un menu, consultez <xref linkend="menustructure-2"/>.</para>
      </listitem>

      <listitem>
        <para>Ajoutez une icône pour l'application dans <filename>/usr/share/icons/<replaceable>nom_de_thème</replaceable>/<replaceable>taille_icône</replaceable>/apps</filename>. Pour plus d'informations sur les icônes et les thèmes, consultez <xref linkend="themes-11"/>.</para>
      </listitem>

      <listitem>
        <para>Si l'application utilise un nouveau type MIME, ajoutez un fichier XML source à la base de données MIME. Pour plus d'informations, consultez <xref linkend="mimetypes-modifying"/>.</para>
      </listitem>

      <listitem>
        <para>Si l'application utilise un nouveau type MIME, ajoutez une icône pour le type MIME dans <filename>/usr/share/icons/<replaceable>nom_de_thème</replaceable>/<replaceable>taille_icône</replaceable>/mimetypes</filename>. Pour plus d'informations sur les icônes et les thèmes, consultez <xref linkend="themes-0"/>.</para>
      </listitem>

      <listitem>
        <para>Pour associer l'application à un type MIME, insérez une clé <literal>MimeType</literal> dans votre fichier <filename>.desktop</filename>. Pour plus d'informations, consultez <xref linkend="mimetypes-registering"/>.</para>
      </listitem>
    </orderedlist>
  </sect1>
</chapter>

<chapter id="screensavers-0">
  <title>Configuration de l'économiseur d'écran</title>
  <highlights>
    <para>Ce chapitre explique comment configurer les préférences de l'économiseur d'écran. Il donne également des informations sur la façon de modifier les affichages disponibles de l'économiseur d'écran.</para>
  </highlights>
  <sect1 id="screensavers-1">
    <title>Introduction aux économiseurs d'écran</title>
    <indexterm>
      <primary>économiseurs d'écran</primary>
      <secondary>introduction</secondary>
    </indexterm>
    <indexterm>
      <primary>gnome-screensaver</primary>
      <see>économiseurs d'écran</see>
    </indexterm>
    <para>Un <firstterm>économiseur d'écran</firstterm> est une application qui remplace l'image de l'écran lorsque celui-ci n'est pas utilisé. L'économiseur d'écran du bureau GNOME s'appelle <application>gnome-screensaver</application>. Les sections suivantes expliquent comment configurer les préférences de l'application <application>gnome-screensaver</application> et comment modifier les thèmes disponibles.</para>
  </sect1>
  <sect1 id="screensavers-2">
    <title>Configuration des préférences de l'économiseur d'écran</title>
    <indexterm>
      <primary>économiseurs d'écran</primary>
      <secondary>configuration des préférences</secondary>
    </indexterm>
    <para>Toutes les préférences et tous les réglages de l'économiseur d'écran sont stockés dans <application>GConf</application>.</para>
    <para>Pour modifier les préférences de l'économiseur d'écran, les utilisateurs ont la possibilité d'utiliser le panneau de préférences <application>Économiseur d'écran</application>. Pour plus d'informations sur les préférences de l'économiseur d'écran, consultez le <citetitle>guide d'utilisation du bureau GNOME</citetitle>.</para>
    <para>Les utilisateurs peuvent aussi exécuter la commande <command>/usr/bin/gnome-screensaver-preferences</command> afin d'ouvrir la boîte de dialogue des <guilabel>préférences de l'économiseur d'écran</guilabel>.</para>
    <para>Pour définir la configuration et la stratégie d'économiseur d'écran pour tous les utilisateurs, modifiez la configuration d'économiseur d'écran dans la source de configuration par défaut de GConf.</para>
    <para>Pour définir la configuration et la stratégie d'économiseur d'écran obligatoires pour tous les utilisateurs, modifiez la configuration d'économiseur d'écran dans la source de configuration obligatoire de GConf.</para>
  </sect1>
  <sect1 id="screensavers-3">
    <title>Modification des thèmes d'économiseur d'écran</title>
    <indexterm>
      <primary>économiseurs d'écran</primary>
      <secondary>modification des thèmes d'économiseur d'écran</secondary>
    </indexterm>
    <para>L'économiseur d'écran offre un certain choix de <firstterm>thèmes d'économiseur d'écran</firstterm>. Ce sont en fait des applications qui affichent des images à l'écran lorsque celui-ci n'est pas utilisé. Les thèmes d'économiseur d'écran disponibles sont affichés sous forme de liste dans le panneau de préférences <application>Économiseur d'écran</application>.</para>
    <para>Pour ajouter un nouveau thème d'économiseur d'écran, copiez le fichier exécutable du <firstterm>moteur de thème d'économiseur d'écran</firstterm> quelque part dans votre PATH ou dans le répertoire des moteurs de thème d'économiseur d'écran. Vous pouvez découvrir l'emplacement de ce répertoire sur votre système en exécutant la commande suivante : <screen><userinput>pkg-config --variable=privlibexecdir gnome-screensaver</userinput></screen> Ensuite, ajoutez un fichier <filename>.desktop</filename> pour ce thème dans le répertoire des thèmes d'économiseur d'écran. Vous pouvez découvrir l'emplacement de ce répertoire sur votre système en exécutant la commande suivante : <screen><userinput>pkg-config --variable=themesdir gnome-screensaver</userinput></screen> Placez dans le champ Exec du fichier <filename>.desktop</filename> tout argument nécessaire pour faire fonctionner le thème en plein écran, plutôt que dans une fenêtre. Par exemple, certains moteurs de thème d'économiseur d'écran peuvent exiger la présence d'une option <literal>-root</literal> afin que l'économiseur d'écran puisse apparaître en plein écran.</para>
    <para>L'infrastructure de l'<application>économiseur d'écran</application> met en oeuvre les thèmes en accord avec la <ulink url="http://www.freedesktop.org/wiki/Standards/menu-spec">spécification XDG des menus</ulink>. Par la prise en charge de cette spécification, GNOME permet de  :</para>

    <itemizedlist>
      <listitem>
        <para>Personnaliser facilement les thèmes. L'édition d'un petit nombre de fichiers suffit pour personnaliser les thèmes disponibles. Il n'est pas nécessaire de modifier des applications ou de déplacer des fichiers.</para>
      </listitem>

      <listitem>
        <para>Installer facilement des thèmes. Il n'est pas nécessaire de fournir des informations sur le système lors de l'installation de thèmes.</para>
      </listitem>

      <listitem>
        <para>Configurer le système afin que les utilisateurs ne puissent pas modifier les thèmes.</para>
      </listitem>
    </itemizedlist>

  <para>Pour plus d'informations, consultez <xref linkend="menustructure-0"/>.</para>

  </sect1>
</chapter>

<chapter id="sessions-0">
  <title>Gestion des sessions</title>
  <highlights>
    <para>Ce chapitre présente une introduction à la gestion des sessions et décrit la manière de définir les valeurs par défaut des sessions. Il contient également des informations sur les sessions et les scripts de connexion.</para>
  </highlights>
  <sect1 id="sessions-1">
    <title>Introduction aux sessions</title>
    <indexterm>
      <primary>sessions</primary>
      <secondary>introduction</secondary>
    </indexterm>
    <para>Une session démarre au moment de la connexion d'un utilisateur au bureau GNOME et se termine lorsque cet utilisateur se déconnecte. Le gestionnaire de sessions démarre dès que le <application>gestionnaire de connexions</application> a authentifié l'utilisateur. Le gestionnaire de sessions permet à l'utilisateur de gérer sa session. Par exemple, un utilisateur peut enregistrer l'état de sa session et retrouver celle-ci lors de sa prochaine connexion.</para>
    <para>Au minimum, les applications suivantes fonctionnent lors d'une session :</para>
    <itemizedlist>
      <listitem>
        <para>Le gestionnaire de sessions, <command>gnome-session</command>.</para>
      </listitem>
      <listitem>
        <para>Le démon de configuration X <application>GConf</application>, <command>gnome-settings-daemon</command>.</para>
      </listitem>
      <listitem>
        <para>L'application <application>gnome-panel</application> qui gère les tableaux de bord du bureau GNOME.</para>
      </listitem>
      <listitem>
        <para>Le gestionnaire de fenêtres <application>Metacity</application>.</para>
      </listitem>
    </itemizedlist>
  </sect1>
  <sect1 id="sessions-3">
    <title>Valeurs par défaut des sessions</title>
    <indexterm>
      <primary>sessions</primary>
      <secondary>configuration des valeurs par défaut</secondary>
    </indexterm>
    <para>Le tableau ci-après énumère les fichiers contenant les informations par défaut des sessions :</para>
    <informaltable frame="topbot">
      <tgroup cols="2" colsep="0" rowsep="0">
        <colspec colwidth="51.80*"/>
        <colspec colwidth="48.20*"/>
        <thead>
          <row rowsep="1">
            <entry>
              <para>Fichier</para>
            </entry>
            <entry>
              <para>Description</para>
            </entry>
          </row>
        </thead>
        <tbody>
          <row>
            <entry valign="top">
              <para>
                <filename>/usr/share/gnome/default.session</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Fichier de session par défaut. Les détails de session par défaut sont enregistrés dans ce fichier.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>$HOME/.gnome2/session</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Fichier de session utilisateur. Lorsqu'un utilisateur modifie sa session, les détails sont enregistrés dans ce fichier.</para>
            </entry>
          </row>
        </tbody>
      </tgroup>
    </informaltable>
<!--The last row does not appear to be true in Mercury - check.-->
    <para>Pour définir les détails de session par défaut pour tous les utilisateurs, modifiez le fichier de session par défaut.</para>
    <para>Pour restaurer les réglages de session d'un utilisateur aux valeurs par défaut, supprimez le fichier de session du dossier personnel de l'utilisateur. Lorsque ce fichier est absent, les valeurs par défaut sont prises dans le fichier <filename>/usr/share/gnome/default.session</filename>.</para>
    <para>Pour enregistrer la session actuelle comme session par défaut, les utilisateurs peuvent exécuter la commande <command>gnome-session-save</command>.</para>
  </sect1>
</chapter>

<chapter id="help-0">
  <title>Système d'aide</title>
  <highlights>
    <para>Ce chapitre décrit le système d'aide du bureau GNOME.</para>
  </highlights>
  <sect1 id="help-1">
    <title>Introduction au système d'aide</title>
    <indexterm>
      <primary>aide en ligne</primary>
      <see>Aide</see>
    </indexterm>
    <indexterm>
      <primary>Aide</primary>
      <secondary>introduction</secondary>
    </indexterm>
    <para>Le bureau GNOME affiche l'aide avec le navigateur d'aide <application>Yelp</application>. Pour plus d'informations, consultez <ulink url="ghelp:user-guide?yelp">Navigateur d'aide Yelp</ulink> dans le <ulink url="ghelp:user-guide">guide d'utilisation du bureau GNOME</ulink>.</para>
<para>La source des documents d'aide est au format XML. Les fichiers XML se conforment à la version 4.1.2 de la DTD (document type definition) DocBook XML. Les fichiers XML DocBook sont convertis en HTML à l'aide de feuilles de style installées avec le paquet <application> gnome-doc-utils</application> et c'est le HTML qui est ensuite affiché dans le navigateur d'aide. Pour plus d'informations sur DocBook XML, consultez l'URL suivant :</para>
    <literallayout>
      <ulink url="http://www.oasis-open.org/docbook/xml/">http://www.oasis-open.org/docbook/xml</ulink>
    </literallayout>
    <para>Le système d'aide utilise des fichiers OMF (<firstterm>Open Source Metadata Framework</firstterm>) et un système de catalogage. Les sections suivantes décrivent les fichiers OMF et le système de catalogage.</para>
  </sect1>
  <sect1 id="help-3">
    <title>Fichiers OMF</title>
    <indexterm>
      <primary>fichiers .omf</primary>
      <see>fichiers OMF</see>
    </indexterm>
    <indexterm>
      <primary>Aide</primary>
      <secondary>fichiers OMF</secondary>
    </indexterm>
    <indexterm>
      <primary>fichiers OMF</primary>
    </indexterm>
    <para>Le fichier XML correspondant à chaque manuel possède un fichier OMF associé. Ce dernier contient des informations sur le manuel utilisées par le navigateur d'aide. L'extension d'un fichier OMF est <filename>.omf</filename>.</para>
    <para>Quand vous installez une application, le processus d'installation installe un fichier OMF dans un répertoire de fichiers OMF. Si un document d'aide possède un fichier associé dans le répertoire des fichiers OMF, ce document apparaît dans le navigateur d'aide.</para>
    <para>Les fichiers OMF contiennent des informations au sujet des documents d'aide, telles que celles-ci :</para>
    <itemizedlist>
      <listitem>
        <para>L'emplacement du fichier XML correspondant au document d'aide</para>
      </listitem>
      <listitem>
        <para>Le titre du document d'aide</para>
      </listitem>
      <listitem>
        <para>La catégorie thématique du document d'aide</para>
      </listitem>
    </itemizedlist>
    <para>Pour plus d'informations au sujet de la création de fichiers OMF, veuillez consulter <ulink url="ghelp:writing_scrollkeeper_omf_files">Écriture de fichier OMF pour Scrollkeeper</ulink>.</para>
  </sect1>
  <sect1 id="help-2">
    <title>Système de catalogue ScrollKeeper</title>
    <indexterm>
      <primary>Aide</primary>
      <secondary>système de catalogue ScrollKeeper</secondary>
    </indexterm>
    <indexterm>
      <primary>système de catalogue ScrollKeeper</primary>
    </indexterm>
    <para><application>ScrollKeeper</application> est un système de catalogue pour la documentation. Sa fonction principale est de gérer les informations des fichiers OMF pour le navigateur d'aide. Lorsque vous installez une application, le fichier OMF est copié dans le répertoire <filename><replaceable>$préfixe</replaceable>/share/omf/<replaceable>&lt;nom_application&gt;</replaceable></filename>.</para>

    <para><application>ScrollKeeper</application> construit une table des matières à partir de la collection de fichiers OMF dans les répertoires spécifiés par le fichier <filename><replaceable>$préfixe</replaceable>/etc/scrollkeeper.conf</filename>. Ce fichier consiste généralement en une seule ligne contenant la définition de <varname>OMF_DIR</varname> sous forme d'une liste de répertoires à parcourir récursivement, séparés par une virgule.</para>

    <programlisting>OMF_DIR=/usr/share/omf:/usr/local/share/omf:/opt/gnome2/share/omf:/opt/kde/omf
</programlisting>

    <para><application>ScrollKeeper</application> contient une hiérarchie de catégories thématiques pouvant s'appliquer à des documents d'aide. La catégorie thématique du document dans son fichier OMF détermine l'emplacement du document dans la table des matières présentée par le navigateur d'aide.</para>

    <para>La hiérarchie des catégories thématiques est définie dans le fichier <filename><replaceable>$préfixe</replaceable>/scrollkeeper/Templates/<replaceable>&lt;langue&gt;</replaceable>/scrollkeeper_cl.xml</filename>. La catégorie thématique d'un document doit correspondre à une catégorie définie dans ce fichier.</para>

    <para>Pour plus d'informations sur le système <application>Scrollkeeper</application>, consultez le site Web <ulink url="http://scrollkeeper.sourceforge.net/">http://scrollkeeper.sourceforge.net/</ulink>.</para>

    <note>
      <para>Si le document d'aide XML est déplacé à un nouvel emplacement, il s'agit également de mettre à jour l'emplacement indiqué dans le fichier OMF.</para>
    </note>
  </sect1>
</chapter>

<chapter id="performance-0">
  <title>Amélioration des performances</title>
  <highlights>
    <para>Ce chapitre explique comment améliorer les performances du bureau GNOME.</para>
  </highlights>
  <sect1 id="performance-1">
    <title>Introduction à l'amélioration des performances</title>
    <indexterm>
      <primary>performances, amélioration</primary>
      <secondary>introduction</secondary>
    </indexterm>
    <para>Ce chapitre énumère un certain nombre de préférences que l'on peut modifier dans le but d'améliorer les performances du bureau GNOME. On peut utiliser la commande <command>gconftool-2</command> pour définir les valeurs de préférences pour les utilisateurs. Les exemples de commandes dans ce chapitre montrent comment définir des valeurs dans la source de configuration de l'utilisateur.</para>
    <para>Il est aussi possible d'utiliser les options <literal>--direct</literal> et <literal>--config-source</literal> pour définir des valeurs obligatoires ou des valeurs par défaut pour les préférences. La commande <command>gconftool-2</command> peut également être utilisée dans un script afin de définir beaucoup de préférences d'un coup. Pour plus d'informations sur la commande <command>gconftool-2</command> et ses options, consultez <xref linkend="gconf-0"/>.</para>
  </sect1>
  <sect1 id="performance-8">
    <title>Réduction de l'utilisation du processeur</title>
    <indexterm>
      <primary>performances, amélioration</primary>
      <secondary>réduction de l'utilisation du processeur</secondary>
    </indexterm>
    <indexterm>
      <primary>réduction</primary>
      <secondary>utilisation du processeur</secondary>
    </indexterm>
    <indexterm>
      <primary>utilisation du processeur</primary>
      <secondary>réduction</secondary>
    </indexterm>
    <para>Cette section décrit les préférences que l'on peut définir pour réduire l'utilisation du processeur par le bureau GNOME.</para>
    <sect2 id="performance-3">
      <title>Utilisation d'options de thème demandant moins de ressources du processeur</title>
      <indexterm>
        <primary>thèmes</primary>
        <secondary>options de bordures de fenêtres</secondary>
        <tertiary>et utilisation du processeur</tertiary>
      </indexterm>
      <indexterm>
        <primary>thèmes</primary>
        <secondary>et utilisation du processeur</secondary>
      </indexterm>
      <para>Certaines options de thème de bordures de fenêtres chargent des fichiers images pour dessiner les bordures de fenêtres. D'autres options utilisent des techniques plus simples pour cette opération.</para>
      <para>L'option de bordures de fenêtres Crux charge des fichiers image et peut ralentir les systèmes disposant  de processeurs moins puissants. Pour réduire l'utilisation du processeur, utilisez l'une des options de bordures de fenêtres suivantes :</para>
      <itemizedlist>
        <listitem>
          <para>Atlanta</para>
        </listitem>
        <listitem>
          <para>Esco</para>
        </listitem>
      </itemizedlist>
      <para>Les options de bordures de fenêtres suivantes utilisent également moins de ressources de processeur que Crux :</para>
      <itemizedlist>
        <listitem>
          <para>AgingGorilla</para>
        </listitem>
        <listitem>
          <para>Bright</para>
        </listitem>
        <listitem>
          <para>Metabox</para>
        </listitem>
      </itemizedlist>
      <note>
        <para>Metabox ne se combine pas bien avec des options de contrôles inversés comme HighContrastInverse. Utilisez plutôt Atlanta avec des options de contrôles inversés.</para>
      </note>
      <para><indexterm><primary>thèmes</primary><secondary>options de bordures de fenêtres</secondary><tertiary>modification</tertiary></indexterm>Pour modifier l'option de thème des bordures de fenêtres, exécutez la commande suivante :</para>
      <screen><userinput>gconftool-2 \
--type string \
--set /apps/metacity/general/theme <replaceable>nom-d'option</replaceable></userinput></screen>
      <para>Par exemple, pour utiliser Atlanta, exécutez la commande suivante :</para>
      <screen><userinput>gconftool-2 \
--type string \
--set /apps/metacity/general/theme Atlanta</userinput></screen>
      <para>Il est aussi possible d'utiliser le panneau de préférences <application>Thèmes</application> pour sélectionner l'option adéquate.</para>
      <tip>
        <para><application>Metacity Theme Viewer</application> permet de mesurer la performance de l'option de bordures de fenêtres et d'avoir un aperçu de l'option. Pour démarrer cette application, exécutez la commande suivante :</para>
        <screen><userinput>metacity-theme-viewer <replaceable>nom-d'option</replaceable></userinput></screen>
        <para>Par exemple, pour mesurer la performance d'Atlanta et afficher un aperçu, exécutez la commande suivante :</para>
        <screen><userinput>metacity-theme-viewer Atlanta</userinput></screen>
      </tip>
    </sect2>
    <sect2 id="performance-2">
      <title>Réduction de l'utilisation du processeur en désactivant l'affichage des icônes dans les menus</title>
      <indexterm>
        <primary>icônes, dans les menus</primary>
        <see>icônes de menus</see>
      </indexterm>
      <indexterm>
        <primary>icônes de menus</primary>
        <secondary>et utilisation du processeur</secondary>
      </indexterm>
      <indexterm>
        <primary>icônes de menus</primary>
        <secondary>désactivation</secondary>
      </indexterm>
      <para>Certaines entrées de menus affichent une icône à côté du texte. Pour désactiver cette fonctionnalité, exécutez la commande suivante :</para>
      <screen><userinput>gconftool-2 \
--type bool \
--set /desktop/gnome/interface/menus_have_icons false</userinput></screen>
      <para>Il est aussi possible d'utiliser le panneau de préférences <application>Menus et barres d'outils</application> pour désactiver l'option <guilabel>Afficher les icônes dans les menus</guilabel>.</para>
    </sect2>
    <sect2 id="performance-6">
      <title>Réduction de l'utilisation du processeur en désactivant l'écran d'accueil</title>
      <indexterm>
        <primary>écran de démarrage</primary>
        <secondary>et utilisation du processeur</secondary>
      </indexterm>
      <para>Par défaut, lorsque les utilisateurs se connectent dans l'environnement de bureau, un écran d'accueil apparaît. Des icônes défilent sur cet écran durant le processus de connexion. L'écran d'accueil peut être désactivé pour réduire l'utilisation du processeur durant la connexion.</para>
      <para><indexterm><primary>écran d'accueil</primary><secondary>désactivation</secondary></indexterm>Pour désactiver l'écran d'accueil, exécutez la commande suivante :</para>
      <screen><userinput>gconftool-2 \
--type bool \
--set /apps/gnome-session/options/show_splash_screen false</userinput></screen>
      <para>Les utilisateurs peuvent aussi utiliser le panneau de préférences <application>Sessions</application> pour décocher l'option <guilabel>Afficher l'écran d'accueil à la connexion</guilabel>.</para>
    </sect2>
    <sect2 id="performance-4">
      <title>Réduction de l'utilisation du processeur en désactivant l'animation des tableaux de bord</title>
      <indexterm>
        <primary>tableaux de bord</primary>
        <secondary>animation, désactivation</secondary>
      </indexterm>
      <para>Lorsque les utilisateurs affichent ou masquent les tableaux de bord, l'apparition ou la disparition des tableaux de bord peut s'effectuer de manière animée. Pour désactiver cette animation, exécutez la commande suivante :</para>
      <screen><userinput>gconftool-2 \
--type bool \
--set /apps/panel/global/enable_animations false</userinput></screen>
      <para>Les utilisateurs peuvent aussi utiliser le panneau de préférences <application>Tableaux de bord</application> pour décocher l'option <guilabel>Animation des tiroirs et des tableaux de nord</guilabel>.</para>
    </sect2>
    <sect2 id="performance-7">
      <title>Amélioration des performances du gestionnaire de fichiers</title>
      <indexterm>
        <primary>Nautilus</primary>
        <see>gestionnaire de fichiers</see>
      </indexterm>
      <para>Le gestionnaire de fichiers <application>Nautilus</application> contient certaines fonctionnalités qu'il est possible de modifier pour améliorer ses performances.</para>
      <sect3 id="performance-9">
        <title>Modification des préférences de performance</title>
        <indexterm>
          <primary>gestionnaire de fichiers</primary>
          <secondary>modification des préférences de performance</secondary>
        </indexterm>
        <para>Le gestionnaire de fichiers contient des préférences liées aux performances. Chacune de ces préférences peut prendre trois valeurs différentes. Ces valeurs sont décrites dans le tableau ci-dessous :</para>
        <informaltable frame="topbot">
          <tgroup cols="2" colsep="0" rowsep="0">
            <colspec colwidth="34.46*"/>
            <colspec colwidth="65.54*"/>
            <thead>
              <row rowsep="1">
                <entry>
                  <para>Valeur</para>
                </entry>
                <entry>
                  <para>Description</para>
                </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry valign="top">
                  <para>
                    <literal>always</literal>
                  </para>
                </entry>
                <entry valign="top">
                  <para>Effectue l'action aussi bien pour les fichiers locaux que pour les fichiers sur d'autres systèmes de fichiers.</para>
                </entry>
              </row>
              <row>
                <entry valign="top">
                  <para>
                    <literal>local_only</literal>
                  </para>
                </entry>
                <entry valign="top">
                  <para>Effectue l'action uniquement pour les fichiers locaux. Lorsque vous réglez une préférence de performance sur <literal>local_only</literal>, l'utilisation du processeur est réduite.</para>
                </entry>
              </row>
              <row>
                <entry valign="top">
                  <para>
                    <literal>never</literal>
                  </para>
                </entry>
                <entry valign="top">
                  <para>N'effectue jamais l'action. En réglant une préférence de performance sur « never », l'utilisation du processeur et le trafic réseau sont réduits.</para>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </informaltable>
        <para>Le tableau ci-après décrit les préférences de performance pour le gestionnaire de fichiers. Pour obtenir les meilleures performances, réglez les valeurs de préférences sur <literal>never</literal>.</para>
        <informaltable frame="topbot">
          <tgroup cols="2" colsep="0" rowsep="0">
            <colspec colwidth="43.34*"/>
            <colspec colwidth="56.66*"/>
            <thead>
              <row rowsep="1">
                <entry>
                  <para>Préférence</para>
                </entry>
                <entry>
                  <para>Description</para>
                </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry valign="top">
                  <para>
                    <literal>show_icon_text</literal>
                  </para>
                </entry>
                <entry valign="top">
                  <para>Indique dans quel cas il s'agit d'afficher un aperçu du contenu d'un fichier texte dans son icône. Pour ne jamais afficher l'aperçu du contenu des fichiers texte, exécutez la commande suivante :</para>
                  <screen><userinput>gconftool-2 \
--type string \
--set /apps/nautilus/preferences/show_icon_text never</userinput></screen>
                  <para>Les utilisateurs peuvent également procéder de la manière suivante :</para>
                  <orderedlist>
                    <listitem>
                      <para>Choisir <menuchoice><guimenu>Édition</guimenu><guimenuitem>Préférences</guimenuitem></menuchoice> à partir d'une fenêtre du gestionnaire de fichiers, puis sélectionner l'onglet <guilabel>Aperçu</guilabel>.</para>
                    </listitem>
                    <listitem>
                      <para>Sélectionner une option pour la préférence <guilabel>Afficher le texte dans les icônes</guilabel>.</para>
                    </listitem>
                  </orderedlist>
                </entry>
              </row>
              <row>
                <entry valign="top">
                  <para>
                    <literal>show_directory_item_counts</literal>
                  </para>
                </entry>
                <entry valign="top">
                  <para>Indique dans quel cas il s'agit d'afficher le nombre d'éléments dans les dossiers. Pour ne jamais afficher le nombre d'éléments dans les dossiers, exécutez la commande suivante :</para>
                  <screen><userinput>gconftool-2 \
--type string \
--set /apps/nautilus/preferences/show_directory_item_counts never</userinput></screen>
                  <para>Les utilisateurs peuvent également procéder de la manière suivante :</para>
                  <orderedlist>
                    <listitem>
                      <para>Choisir <menuchoice><guimenu>Édition</guimenu><guimenuitem>Préférences</guimenuitem></menuchoice> à partir d'une fenêtre du gestionnaire de fichiers, puis sélectionner l'onglet <guilabel>Aperçu</guilabel>.</para>
                    </listitem>
                    <listitem>
                      <para>Sélectionner une option pour la préférence <guilabel>Afficher le nombre d'éléments</guilabel>.</para>
                    </listitem>
                  </orderedlist>
                </entry>
              </row>
              <row>
                <entry valign="top">
                  <para>
                    <literal>show_image_thumbnails</literal>
                  </para>
                </entry>
                <entry valign="top">
                  <para>Indique dans quel cas il s'agit d'afficher des vignettes pour les fichiers image. Pour ne jamais afficher les vignettes, exécutez la commande suivante :</para>
                  <screen><userinput>gconftool-2 \
--type string \
--set /apps/nautilus/preferences/show_image_thumbnails never</userinput></screen>
                  <para>Les utilisateurs peuvent également procéder de la manière suivante :</para>
                  <orderedlist>
                    <listitem>
                      <para>Choisir <menuchoice><guimenu>Édition</guimenu><guimenuitem>Préférences</guimenuitem></menuchoice> à partir d'une fenêtre du gestionnaire de fichiers, puis sélectionner l'onglet <guilabel>Aperçu</guilabel>.</para>
                    </listitem>
                    <listitem>
                      <para>Sélectionner une option pour la préférence <guilabel>Afficher les vignettes</guilabel>.</para>
                    </listitem>
                  </orderedlist>
                </entry>
              </row>
              <row>
                <entry valign="top">
                  <para>
                    <literal>preview_sound</literal>
                  </para>
                </entry>
                <entry valign="top">
                  <para>Indique dans quel cas il s'agit d'afficher l'aperçu du contenu des fichiers son. Pour ne jamais afficher l'aperçu du contenu des fichiers son, exécutez la commande suivante :</para>
                  <screen><userinput>gconftool-2 \
--type string \
--set /apps/nautilus/preferences/preview_sound never</userinput></screen>
                  <para>Les utilisateurs peuvent également procéder de la manière suivante :</para>
                  <orderedlist>
                    <listitem>
                      <para>Choisir <menuchoice><guimenu>Édition</guimenu><guimenuitem>Préférences</guimenuitem></menuchoice> à partir d'une fenêtre du gestionnaire de fichiers, puis sélectionner l'onglet <guilabel>Aperçu</guilabel>.</para>
                    </listitem>
                    <listitem>
                      <para>Sélectionner une option pour la préférence <guilabel>Aperçu des fichiers son</guilabel>.</para>
                    </listitem>
                  </orderedlist>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </informaltable>
      </sect3>
      <sect3 id="performance-10">
        <title>Désactivation du panneau latéral, de la barre d'outils et de la barre d'emplacement</title>
        <indexterm>
          <primary>gestionnaire de fichiers</primary>
          <secondary>panneau latéral, désactivation</secondary>
        </indexterm>
        <para>Le gestionnaire de fichiers contient des préférences permettant de désactiver le panneau latéral et la barre d'outils. Pour améliorer les performances du gestionnaire de fichiers, désactivez le panneau latéral et la barre d'outils.</para>
        <para>Pour désactiver le panneau latéral, exécutez la commande suivante :</para>
        <screen><userinput>gconftool-2 \
--type bool \
--set /apps/nautilus/preferences/start_with_sidebar false</userinput></screen>
        <para><indexterm><primary>gestionnaire de fichiers</primary><secondary>barre d'outils, désactivation</secondary></indexterm>Pour désactiver la barre d'outils, exécutez la commande suivante :</para>
        <screen><userinput>gconftool-2 \
--type bool \
--set /apps/nautilus/preferences/start_with_toolbar false</userinput></screen>
        <para>Il est aussi possible de désactiver la barre d'emplacement. Les utilisateurs peuvent utiliser le raccourci clavier <keycombo><keycap>Ctrl</keycap><keycap>L</keycap></keycombo> pour afficher la barre d'emplacement lorsqu'ils en ont besoin.</para>
        <para><indexterm><primary>gestionnaire de fichiers</primary><secondary>barre d'emplacement, désactivation</secondary></indexterm>Pour désactiver la barre d'emplacement, exécutez la commande suivante :</para>
        <screen><userinput>gconftool-2 \
--type bool \
--set /apps/nautilus/preferences/start_with_location_bar false</userinput></screen>
      </sect3>
      <sect3 id="performance-11">
        <title>Désactivation du bureau</title>
        <indexterm>
          <primary>gestionnaire de fichiers</primary>
          <secondary>bureau, désactivation</secondary>
        </indexterm>
        <indexterm>
          <primary>bureau</primary>
          <secondary>désactivation</secondary>
        </indexterm>
        <para>Le gestionnaire de fichiers contient une préférence permettant aux utilisateurs d'utiliser <application>Nautilus</application> pour gérer le bureau. Il est possible de désactiver le bureau afin d'améliorer les performances. Cependant, en faisant cela, vous ne pourrez plus :</para>
        <itemizedlist>
          <listitem>
            <para>Utiliser le gestionnaire de fichiers pour modifier le motif ou la couleur d'arrière-plan du bureau.</para>
          </listitem>
          <listitem>
            <para>Utiliser les objects du bureau tels que la <guilabel>Corbeille</guilabel>. Les objets de bureau n'apparaissent plus sur le bureau.</para>
          </listitem>
        </itemizedlist>
        <para>Pour désactiver le bureau, exécutez la commande suivante :</para>
        <screen><userinput>gconftool-2 \
--type bool \
--set /apps/nautilus/preferences/show_desktop false</userinput></screen>
      </sect3>
    </sect2>
  </sect1>
  <sect1 id="performance-12">
    <title>Réduction du trafic réseau du système X Window</title>
    <indexterm>
      <primary>réduction</primary>
      <secondary>trafic réseau du système X Window</secondary>
    </indexterm>
    <indexterm>
      <primary>trafic réseau du système X Window, réduction</primary>
    </indexterm>
    <indexterm>
      <primary>trafic réseau, réduction</primary>
    </indexterm>
    <para>Cette section décrit les préférences que l'on peut ajuster pour réduire le trafic réseau du système X Window sur le bureau GNOME.</para>
    <sect2 id="performance-14">
      <title>Options de thème générant moins de trafic réseau</title>
      <indexterm>
        <primary>thèmes</primary>
        <secondary>options de bordures de fenêtres</secondary>
        <tertiary>et trafic réseau</tertiary>
      </indexterm>
      <indexterm>
        <primary>thèmes</primary>
        <secondary>et trafic réseau</secondary>
      </indexterm>
      <para>Les protocoles d'affichage distant ne transfèrent pas tous les pixels d'un bloc de pixels lorsque ceux-ci sont tous de la même couleur.</para>
      <para>Pour réduire le trafic réseau du système X Window, utilisez une option de thème « bordures de fenêtres » qui emploie des couleurs unies. Choisissez donc l'une des options « bordures de fenêtres » suivantes :</para>
      <itemizedlist>
        <listitem>
          <para>Atlanta</para>
        </listitem>
        <listitem>
          <para>Esco</para>
        </listitem>
      </itemizedlist>
      <para>Pour des informations sur la manière de modifier les options des thèmes, consultez <xref linkend="performance-3"/>.</para>
    </sect2>
    <sect2 id="performance-15">
      <title>Réduction du trafic réseau en désactivant les icônes dans les menus</title>
      <indexterm>
        <primary>icônes de menus</primary>
        <secondary>et trafic réseau</secondary>
      </indexterm>
      <para>Certains éléments de menus affichent une icône à côté du texte du menu. Si l'icône se situe sur un autre système de fichiers, cela peut augmenter significativement le trafic réseau X Window. Le même phénomène se produit lors de l'affichage des tableaux de bord sur un hôte distant.</para>
      <para>Pour plus d'informations sur la manière de désactiver cette fonctionnalité, consultez <xref linkend="performance-2"/>.</para>
    </sect2>
  </sect1>
  <sect1 id="performance-17">
    <title>Réduction de l'utilisation des couleurs et amélioration de la qualité d'affichage</title>
    <indexterm>
      <primary>réduction</primary>
      <secondary>utilisation des couleurs</secondary>
    </indexterm>
    <indexterm>
      <primary>utilisation des couleurs</primary>
      <secondary>réduction</secondary>
    </indexterm>
    <indexterm>
      <primary>qualité d'affichage, amélioration</primary>
    </indexterm>
    <para>La plupart des ordinateurs modernes prennent en charge les couleurs sur 24 bits, c'est-à-dire 16'777'216 couleurs. Cependant, beaucoup d'utilisateurs utilisent encore des systèmes qui prennent en charge les couleurs sur 8 bits, c'est-à-dire 256 couleurs.</para>
    <para>Le bureau GNOME utilise la <firstterm>palette de couleurs optimisée pour le Web</firstterm>. Cette palette de 216 couleurs à usage généraliste est conçue pour une affichage optimal des couleurs pour les systèmes qui prennent en charge les couleurs sur 8 bits. Cependant, certains composants visuels du bureau GNOME sont conçus pour les systèmes prenant en charge les couleurs sur 24 bits.</para>
    <para>Voici les problèmes d'affichage qui peuvent se produire sur des systèmes qui ne prennent en charge que 256 couleurs :</para>
    <itemizedlist>
      <listitem>
        <para>Les fenêtres, les icônes et les images d'arrière-plan peuvent présenter une apparence granuleuse. Beaucoup de thèmes, d'images d'arrière-plan et d'icônes utilisent des couleurs absentes de la palette optimisée pour le Web. Ces couleurs sont alors remplacées par l'équivalent le plus proche ou par une trame. C'est ce procédé qui produit cette apparence granuleuse.</para>
      </listitem>
      <listitem>
        <para>Les applications qui n'utilisent pas la palette de couleurs optimisées pour le Web ont moins de couleurs à disposition. Des erreurs de couleur peuvent se produire. Il peut même arriver que certaines couleurs n'apparaissent pas dans l'interface de l'application. Certaines applications peuvent se bloquer si l'application ne peut pas allouer des couleurs.</para>
      </listitem>
      <listitem>
        <para>Des scintillements de couleurs peuvent apparaître lors du basculement entre des applications qui utilisent la palette optimisée pour le Web et celles qui ne l'utilisent pas. Ces dernières peuvent utiliser une palette de couleurs personnalisée. Dans ce cas, d'autres composants visuels peuvent perdre leurs couleurs, puis devenir invisibles.</para>
      </listitem>
    </itemizedlist>
    <para>Les sections suivantes décrivent la manière d'optimiser l'apparence du bureau GNOME pour des systèmes qui prennent en charge les couleurs sur 8 bits.</para>
    <sect2 id="performance-20">
      <title>Utilisation d'options de thème respectant la palette de couleurs optimisée pour le Web</title>
      <indexterm>
        <primary>thèmes</primary>
        <secondary>options de bordures de fenêtres</secondary>
        <tertiary>et utilisation des couleurs</tertiary>
      </indexterm>
      <indexterm>
        <primary>thèmes</primary>
        <secondary>et utilisation des couleurs</secondary>
      </indexterm>
      <para>Les options de bordures des fenêtres de certains thèmes utilisent des couleurs faisant partie de la palette des couleurs optimisée pour le Web. Contrairement à d'autres options de bordures des fenêtres, Bright et Esco ne présentent pas d'apparence granuleuse lors d'un affichage de couleurs sur 8 bits. Utilisez ces options pour un affichage optimal des couleurs en mode visuel 8 bits.</para>
      <para>Pour des informations sur la manière de modifier les options des thèmes, consultez <xref linkend="performance-3"/>.</para>
    </sect2>
    <sect2 id="performance-21">
      <title>Réduction de l'utilisation des couleurs en désactivant l'affichage des icônes dans les menus</title>
      <indexterm>
        <primary>icônes de menus</primary>
        <secondary>et utilisation des couleurs</secondary>
      </indexterm>
      <para>Certains éléments de menus affichent une icône à côté du texte du menu. Si l'icône contient des couleurs absentes de la palette optimisée pour le Web, cette fonctionnalité peut augmenter le nombre de couleurs différentes utilisées.</para>
      <para>Pour plus d'informations sur la manière de désactiver cette fonctionnalité, consultez <xref linkend="performance-2"/>.</para>
    </sect2>
    <sect2 id="performance-18">
      <title>Réduction de l'utilisation des couleurs en désactivant l'écran d'accueil</title>
      <indexterm>
        <primary>écran de démarrage</primary>
        <secondary>et utilisation des couleurs</secondary>
      </indexterm>
      <para>Vous pouvez désactiver l'écran d'accueil afin d'augmenter le nombre de couleurs disponibles pour le bureau GNOME et les applications.</para>
      <para>Pour plus d'informations sur la manière de désactiver l'écran d'accueil, consultez <xref linkend="performance-6"/>.</para>
    </sect2>
    <sect2 id="performance-19">
      <title>Réduction de l'utilisation des couleurs en appliquant une couleur unie à l'arrière-plan</title>
      <indexterm>
        <primary>arrière-plan</primary>
        <secondary>utilisation de couleurs unies</secondary>
      </indexterm>
      <para>Utilisez une couleur unie pour l'arrière-plan du bureau. L'utilisation d'une couleur unie réduit le nombre de couleurs utilisées par le bureau GNOME.</para>
      <para>Pour définir une couleur unie pour l'arrière-plan, exécutez les commandes suivantes :</para>
      <screen><userinput>gconftool-2 \
--type string \
--set /desktop/gnome/background/picture_options none</userinput></screen>
      <screen><userinput>gconftool-2 \
--type string \
--set /desktop/gnome/background/color_shading_type solid</userinput></screen>
      <screen><userinput>gconftool-2 \
--type string \
--set /desktop/gnome/background/primary_color #<replaceable>couleur_hexadécimale</replaceable></userinput></screen>
      <para>Les utilisateurs peuvent aussi utiliser le panneau de préférences <application>Arrière-plan du bureau</application> pour choisir une couleur unie pour l'arrière-plan.</para>
    </sect2>
  </sect1>
</chapter>

<chapter id="lockdown-0">
  <title>Désactivation de fonctionnalités du bureau GNOME</title>
  <highlights>
    <para>Ce chapitre décrit la manière de désactiver certaines fonctionnalités du bureau GNOME.</para>
  </highlights>
  <sect1 id="lockdown-1">
    <title>Introduction à la désactivation de fonctionnalités du bureau GNOME</title>
    <indexterm>
      <primary>désactivation de fonctionnalités</primary>
      <secondary>introduction</secondary>
    </indexterm>
    <indexterm>
      <primary>verrouillage</primary>
      <see>désactivation de fonctionnalités</see>
    </indexterm>
    <para>Le bureau GNOME contient des fonctionnalités qui vous permettent de restreindre l'accès à certaines fonctions du bureau. Ces restrictions sont utiles dans des situations diverses où l'on souhaite limiter les actions qu'un utilisateur peut effectuer sur un ordinateur. Par exemple, il peut être utile d'empêcher des opérations en ligne de commande sur un ordinateur à disposition du public lors d'une exposition. Ces restrictions sont aussi appelées des fonctionnalités de <emphasis>verrouillage</emphasis>.</para>
    <para>Il faut configurer des clés <application>GConf</application> pour désactiver des fonctionnalités. Pour plus d'informations sur la manière de configurer des clés <application>GConf</application>, consultez <xref linkend="gconf-0"/>. Il est aussi possible d'utiliser l'<application>Éditeur de configuration</application> pour configurer des clés <application>GConf</application> dans une source de configuration utilisateur. Pour plus d'informations sur cette application, consultez le <citetitle>manuel de l'éditeur de configuration</citetitle>.</para>
  </sect1>
  <sect1 id="lockdown-manual">
    <title>Verrouillages manuels</title>
    <sect2 id="lockdown-2">
      <title>Désactivation du verrouillage d'écran et de la déconnexion</title>
      <indexterm>
        <primary>désactivation de fonctionnalités</primary>
        <secondary>verrouiller l'écran</secondary>
      </indexterm>
      <indexterm>
        <primary>désactivation de fonctionnalités</primary>
        <secondary>se déconnecter</secondary>
      </indexterm>
      <para>Pour désactiver les fonctions de verrouillage d'écran et de déconnexion, définissez les clés <literal>/apps/panel/global/disable_lock_screen</literal> et <literal>/apps/panel/global/disable_log_out</literal> à <literal>true</literal>.</para>
      <para>En désactivant ces fonctions, les éléments suivants sont retirés des tableaux de bord :</para>
      <itemizedlist>
        <listitem>
          <para>Les éléments du <guimenu>Menu principal</guimenu> <guimenuitem>Verrouiller l'écran</guimenuitem> et <guimenuitem>Déconnexion de <replaceable>utilisateur</replaceable></guimenuitem>.</para>
        </listitem>
        <listitem>
          <para>Les éléments de menus <guimenuitem>Verrouiller</guimenuitem> et <guimenuitem>Se déconnecter</guimenuitem> dans le menu <menuchoice><guimenu>Ajouter au tableau de bord</guimenu><guimenuitem>Actions</guimenuitem></menuchoice>. Pour ouvrir ce menu, faites un clic droit sur un espace libre d'un tableau de bord et choisissez <menuchoice><guimenu>Ajouter au tableau de bord</guimenu><guimenuitem>Actions</guimenuitem></menuchoice>.</para>
        </listitem>
        <listitem>
          <para>Les éléments de menus <guimenuitem>Verrouiller l'écran</guimenuitem> et <guimenuitem>Déconnexion de <replaceable>utilisateur</replaceable></guimenuitem> du menu <guimenu>Actions</guimenu> dans l'applet <application>Barre de menus</application>.</para>
        </listitem>
      </itemizedlist>
      <para>Tout autre bouton de tableau de bord <guibutton>Verrouiller l'écran</guibutton>ou <guibutton>Se déconnecter</guibutton> est aussi désactivé.</para>
    </sect2>
    <sect2 id="lockdown-12">
      <title>Désactivation des opérations en ligne de commande</title>
      <indexterm>
        <primary>désactivation de fonctionnalités</primary>
        <secondary>ligne de commande</secondary>
      </indexterm>
      <para>Pour désactiver les opérations à la ligne de commande, définissez la clé <literal>/desktop/gnome/lockdown/disable_command_line</literal> à <literal>true</literal>.</para>
      <para>En désactivant les opérations en ligne de commande, les modifications suivantes apparaissent dans l'interface utilisateur :</para>
      <itemizedlist>
        <listitem>
          <para>L'élément de menu <guimenuitem>Lancer une application</guimenuitem> est supprimé des menus suivants :</para>
          <itemizedlist>
            <listitem>
              <para>
                <guimenu>Menu principal</guimenu>
              </para>
            </listitem>
            <listitem>
              <para>Sous-menu <guimenu>Actions</guimenu> du menu <guimenu>Ajouter au tableau de bord</guimenu></para>
            </listitem>
            <listitem>
              <para>Menu <guimenu>Actions</guimenu> dans l'applet <application>Barre de menus</application></para>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <para>Tout autre bouton de tableau de bord <guibutton>Exécuter</guibutton> est désactivé.</para>
        </listitem>
      </itemizedlist>
      <para>Pour désactiver les opérations en ligne de commande, vous devez également enlever les éléments de menu qui lancent des terminaux. Par exemple, il s'agirait d'enlever les éléments de menu qui contiennent les commandes suivantes :</para>
      <itemizedlist>
        <listitem>
          <para>la commande du <application>Terminal GNOME</application>, c'est-à-dire <command>/usr/bin/gnome-terminal</command></para>
        </listitem>
        <listitem>
          <para>
            <command>/usr/bin/xterm</command>
          </para>
        </listitem>
        <listitem>
          <para>
            <command>/usr/bin/setterm</command>
          </para>
        </listitem>
      </itemizedlist>
      <para>Les éléments sont enlevés dans les menus suivants :</para>
      <itemizedlist>
        <listitem>
          <para>
            <guimenu>Menu principal</guimenu>
          </para>
        </listitem>
        <listitem>
          <para>
            <menuchoice>
              <guimenu>Ajouter au tableau de bord</guimenu>
              <guimenuitem>Lanceur depuis le menu</guimenuitem>
            </menuchoice>
          </para>
        </listitem>
      </itemizedlist>
      <para>Pour désactiver les opérations en ligne de commande, vous devez aussi désactiver l'applet <application>Ligne de commande</application>. Pour cela, ajoutez cette applet à la clé <literal>/apps/panel/global/disabled_applets</literal>. L'applet <application>Ligne de commande</application> est alors enlevée du <guimenu>menu principal</guimenu> ainsi que du menu <menuchoice><guimenu>Ajouter au tableau de bord</guimenu><guimenuitem>Utilitaires</guimenuitem></menuchoice>.</para>
    </sect2>
    <sect2 id="lockdown-11">
      <title>Désactivation de la configuration des tableaux de bord</title>
      <indexterm>
        <primary>désactivation de fonctionnalités</primary>
        <secondary>configuration des tableaux de bord</secondary>
      </indexterm>
      <para>Pour désactiver la configuration des tableaux de bord, définissez la valeur de la clé <literal>/apps/panel/global/locked_down</literal> à <literal>true</literal>.</para>
      <para>La désactivation de la configuration des tableaux de bord entraîne les changements suivants dans l'interface utilisateur :</para>
      <itemizedlist>
        <listitem>
          <para>Les éléments ci-après sont supprimés du menu contextuel des tableaux de bord et des tiroirs :</para>
          <itemizedlist>
            <listitem>
              <para>
                <guimenuitem>Ajouter au tableau de bord</guimenuitem>
              </para>
            </listitem>
            <listitem>
              <para>
                <guimenuitem>Supprimer ce tableau de bord</guimenuitem>
              </para>
            </listitem>
            <listitem>
              <para>
                <guimenuitem>Propriétés</guimenuitem>
              </para>
            </listitem>
            <listitem>
              <para>
                <guimenuitem>Nouveau tableau de bord</guimenuitem>
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <para>Le menu contextuel des lanceurs est désactivé.</para>
        </listitem>
        <listitem>
          <para>Les éléments ci-après sont supprimés du menu contextuel des applets :</para>
          <itemizedlist>
            <listitem>
              <para>
                <guimenuitem>Enlever du tableau de bord</guimenuitem>
              </para>
            </listitem>
            <listitem>
              <para>
                <guimenuitem>Verrouiller</guimenuitem>
              </para>
            </listitem>
            <listitem>
              <para>
                <guimenuitem>Déplacer</guimenuitem>
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <para>Le menu contextuel du <guimenu>menu principal</guimenu> est désactivé.</para>
        </listitem>
        <listitem>
          <para>La possibilité de glisser les lanceurs est désactivée, ce qui empêche les utilisateurs de glisser des lanceurs à partir de ou vers un tableau de bord.</para>
        </listitem>
        <listitem>
          <para>La possibilité de glisser un tableau de bord est désactivée, ce qui empêche les utilisateurs de les déplacer.</para>
        </listitem>
      </itemizedlist>
    </sect2>
  </sect1>
  <sect1 id="lockdown">
    <title>Éditeur de verrous</title>
  
    <para>À partir de GNOME 2.14, un éditeur de verrous en mode graphique nommé <application>Pessulus</application> facilite la tâche de désactivation de paramètres du bureau.</para>
  
    <sect2 id="lockdown-start">
      <title>Premiers pas</title>
  
      <para>Pour lancer l'éditeur de verrous :</para>
  
      <itemizedlist>
        <listitem>
          <para>Choisissez <menuchoice><guimenu>Système</guimenu><guisubmenu>Administration</guisubmenu><guimenuitem>Éditeur de verrous</guimenuitem></menuchoice></para>
        </listitem>
  
        <listitem>
          <para>Exécutez la commande <command>pessulus</command> dans une fenêtre de terminal.</para>
        </listitem>
      </itemizedlist>
  
      <para>Vous voyez apparaître une fenêtre comportant plusieurs onglets. Chaque onglet représente une catégorie différente de réglages du bureau pouvant être désactivés. Dans la section suivante, nous abordons chaque catégorie et présentons une brève description de chaque paramètre qui peut être désactivé.</para>
    </sect2>
  
    <sect2 id="lockdown-disabling">
      <title>Désactivation de fonctionnalités</title>
  
      <para>Pour désactiver un paramètre, prenez bien soin de cocher la case en regard de la description du paramètre. La plupart des paramètres s'appliquent instantanément. Certains réglages demandent cependant que l'application soit relancée avant de s'appliquer.</para>
  
      <para>Au démarrage de <application>pessulus</application>, celui-ci tente de se connecter à la source de configuration obligatoire de GConf. L'adresse de cette source de configuration est <literal>xml:merged:<replaceable>$préfixe</replaceable>/etc/gconf/gconf.xml.mandatory</literal>. Si l'utilisateur qui lance <application>pessulus</application> a accès à cette source, une icône de cadenas apparaît en regard de la case à cocher de chaque paramètre. Un clic sur cette icône active ou désactive le caractère obligatoire du paramètre. Si le paramètre est obligatoire, les utilisateurs normaux ne pourront pas modifier ou redéfinir ce paramètre. Si l'utilisateur qui lance <application>pessulus</application> n'a pas accès à la source de configuration obligatoire, les icônes de cadenas n'apparaissent pas. Dans ce cas, tous les paramètres désactivés sont simplement stockés dans la source de configuration par défaut de l'utilisateur et peuvent être modifiés par la suite avec d'autres outils tels que <application>gconf-editor</application> ou <application>gconftool-2</application>. Pour plus d'informations sur GConf et les sources de configuration obligatoires, consultez <xref linkend="gconf-26"/>.</para>
  
      <para>Les sous-sections suivantes donnent une brève description des paramètres pouvant être désactivés dans chaque catégorie.</para>
  
      <note>
        <para>Selon les applications installées, il est possible que vous ne voyiez pas toutes les catégories décrites dans cette section.</para>
      </note>
  
      <sect3 id="lockdown-disabling-general">
        <title>Général</title>
  
        <variablelist>
          <varlistentry>
            <term>Désactiver la ligne de commande</term>
  
            <listitem>
              <para>Empêche l'utilisateur d'accéder au terminal ou de faire exécuter une ligne de commande. Par exemple, cela désactive l'accès à la boîte de dialogue du tableau de bord « Lancer une application ».</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Désactiver l'impression</term>
  
            <listitem>
              <para>Empêche l'utilisateur d'imprimer. Par exemple, cela désactive l'accès à toutes les boîtes de dialogue d'impression des applications.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Désactiver la configuration de l'impression</term>
  
            <listitem>
              <para>Empêche l'utilisateur de modifier la configuration de l'impression. Par exemple, cela désactive l'accès aux boîtes de dialogue « Configuration de l'impression » de toutes les applications.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Désactiver l'enregistrement sur disque</term>
  
            <listitem>
              <para>Empêche l'utilisateur d'enregistrer des fichiers sur le disque. Par exemple, cela désactive l'accès aux boîtes de dialogue « Enregistrer sous » de toutes les applications.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect3>
  
      <sect3 id="lockdown-disabling-panel">
        <title>Tableau de bord</title>
  
        <variablelist>
          <varlistentry>
            <term>Verrouiller les tableaux de bord</term>
  
            <listitem>
              <para>Si cette case est cochée, il ne sera plus possible de modifier la configuration des tableaux de bord. Il est toutefois possible que les applets doivent être verrouillées indépendamment. L'application du tableau de bord doit être redémarrée pour que ce paramètre s'applique.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Désactiver « forcer quitter »</term>
  
            <listitem>
              <para>Si cette case est cochée, l'utilisateur ne peut pas forcer une application à quitter, le bouton correspondant n'étant plus disponible.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Désactiver le verrouillage de l'écran</term>
  
            <listitem>
              <para>Si cette case est cochée, les éléments de menu permettant le verrouillage de l'écran ne sont plus accessibles aux utilisateurs.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Désactiver la clôture de session</term>
  
            <listitem>
              <para>Si cette case est cochée, les éléments de menu permettant la déconnexion ne sont plus accessibles aux utilisateurs.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect3>
  
      <sect3 id="lockdown-disabling-browser">
        <title>Navigateur Web Epiphany</title>
  
        <variablelist>
          <varlistentry>
            <term>Désactiver la fermeture du programme</term>
  
            <listitem>
              <para>Les utilisateurs n'ont pas la permission de fermer Epiphany.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Désactiver les URL arbitraires</term>
  
            <listitem>
              <para>Désactive la possibilité de saisir des URL dans Epiphany.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Désactiver l'édition des signets</term>
  
            <listitem>
              <para>Désactive la possibilité d'ajouter ou de modifier des signets.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Désactiver l'historique</term>
  
            <listitem>
              <para>Désactive toutes les informations d'historique en désactivant la navigation avec « Précédent » et « Suivant », en désactivant la boîte de dialogue de l'historique et en masquant la liste des signets les plus souvent utilisés.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Désactiver javascript chrome</term>
  
            <listitem>
              <para>Désactive le contrôle par JavaScript des fenêtres « chrome »</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Désactiver l'édition de la barre d'outils</term>
  
            <listitem>
              <para>Désactive l'édition des barres d'outils par les utilisateurs.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Forcer le mode plein écran</term>
  
            <listitem>
              <para>Verrouille Epiphany en mode plein écran.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Masquer la barre de menu</term>
  
            <listitem>
              <para>Masque la barre de menus par défaut. Celle-ci reste toujours accessible avec F10.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Désactiver les protocoles non sécurisés</term>
  
            <listitem>
              <para>Désactive le chargement de contenu à partir de protocoles non sûrs. Les protocoles sûrs sont http et https.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect3>
  
      <sect3 id="lockdown-disabling-screensaver">
        <title>Économiseur d'écran GNOME</title>
  
        <variablelist>
          <varlistentry>
            <term>Verrouiller lors de l'activation</term>
  
            <listitem>
              <para>Si cette case est cochée, l'écran est verrouillé lorsque l'économiseur d'écran est lancé.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Autoriser la clôture de session</term>
  
            <listitem>
              <para>Si cette case est cochée, la boîte de dialogue de déverrouillage présente l'option de se déconnecter après un délai. Le délai est défini dans la clé « logout_delay ».</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Autoriser le changement d'utilisateur</term>
  
            <listitem>
              <para>Si cette case est cochée, la boîte de dialogue de déverrouillage présente l'option de basculer dans un autre compte utilisateur.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect3>
    </sect2>
  </sect1>
</chapter>

  
  <appendix id="appendixa-0">
    <title>Répertoires cachés</title>
    <highlights>
      <para>Cette annexe décrit les répertoires cachés ajoutés par le bureau GNOME dans les dossiers personnels des utilisateurs.</para>
    </highlights>
    <indexterm>
      <primary>répertoires cachés</primary>
    </indexterm>
    <indexterm>
      <primary>répertoires .* </primary>
      <see>répertoires cachés</see>
    </indexterm>
    <para>Un répertoire caché est un répertoire dont le nom commence par un point (.). Le <xref linkend="appendixa-TBL-2"/> décrit les répertoires cachés ajoutés par le bureau GNOME dans les dossiers personnels des utilisateurs.</para>
    <table frame="topbot" id="appendixa-TBL-2">
      <title>Répertoires cachés dans les dossiers personnels</title>
      <tgroup cols="2" colsep="0" rowsep="0">
        <colspec colname="colspec0" colwidth="33*"/>
        <colspec colname="colspec1" colwidth="67*"/>
        <thead>
          <row rowsep="1">
            <entry>
              <para>Répertoire</para>
            </entry>
            <entry>
              <para>Description</para>
            </entry>
          </row>
        </thead>
        <tbody>
          <row>
            <entry valign="top">
              <para>
                <filename>.config</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>C'est l'emplacement par défaut de la variable d'environnement <envar>XDG_CONFIG_HOME</envar>, lorsqu'elle n'est pas définie. Les menus propres à un utilisateur peuvent être créés dans <filename>menus/applications.menu</filename>.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.fonts</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Contient les polices spécifiques à un utilisateur. Lorsqu'un utilisateur installe une police en la glissant dans Nautilus avec l'URI <filename>fonts:///</filename>, c'est cet emplacement qui est utilisé.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.esd_auth</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Contient le cookie d'authentification pour le démon de son GNOME. Ce démon est ESD (Enlightened Sound Daemon).</para>
<para><emphasis>NOTE : c'est un fichier et non pas un répertoire.</emphasis></para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.gconf</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Contient la source de configuration <application>GConf</application> de l'utilisateur. Lorsque l'utilisateur configure une préférence, c'est à cet endroit qu'est enregistrée l'information de la préférence.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.gconfd</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Contient les détails suivants du démon <application>GConf</application> :</para>
              <itemizedlist>
                <listitem>
                  <para>Informations de configuration.</para>
                </listitem>
                <listitem>
                  <para>Informations de verrouillage des objets référencés par une <firstterm>référence d'objet interopérable (IOR)</firstterm>.</para>
                </listitem>
                <listitem>
                  <para>Informations d'état pour les objets référencés par une IOR.</para>
                </listitem>
              </itemizedlist>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.gnome</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Contient des données d'application spécifiques aux utilisateurs et qui ne figurent pas dans le référentiel <application>GConf</application>.</para>
<para><emphasis>NOTE : ce répertoire ne devrait plus être utilisé. Il reste utilisé par les applications GNOME 1.x.</emphasis></para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.gnome2</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Contient des données d'application spécifiques aux utilisateurs et qui ne figurent pas dans le référentiel <application>GConf</application>. Par exemple, ce répertoire contient ce qui suit :</para>
              <itemizedlist>
                <listitem>
                  <para>Informations sur les raccourcis clavier.</para>
                </listitem>
                <listitem>
                  <para>Informations sur l'emplacement des fenêtres.</para>
                </listitem>
                <listitem>
                  <para>Fichiers .desktop des lanceurs des tableaux de bord.</para>
                </listitem>
              </itemizedlist>
              <para>Ce répertoire peut aussi contenir des sous-répertoires qui enregistrent des données spécifiques à certaines applications.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.gnome2-private</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Ignorez ce répertoire. Il n'a aucune fonction, à la date de publication de ce guide.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.local/share</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>C'est l'emplacement par défaut de la variable d'environnement <envar>XDG_DATA_HOME</envar>, lorsqu'elle n'est pas définie. Les fichiers .desktop propres à un utilisateur peuvent être créés dans le sous-répertoire <filename>applications</filename>. Les types mime propres à un utilisateur peuvent être créés dans <filename>mime/packages/Overrides.xml</filename>.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.metacity</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Contient des données de session pour le gestionnaire de fenêtres <application>Metacity</application>.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.nautilus</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Contient des données du gestionnaire de fichiers spécifiques à un utilisateur. Par exemple, ce répertoire peut contenir ce qui suit :</para>
              <itemizedlist>
                <listitem>
                  <para>Des métadonnées au sujet des répertoires utilisés par l'utilisateur.</para>
                </listitem>
<!--Removed Nautilus themes.-->
                <listitem>
                  <para>Des emblèmes <application>Nautilus</application> ajoutés par l'utilisateur.</para>
                </listitem>
                <listitem>
                  <para>Des images de bureau <application>Nautilus</application>.</para>
                </listitem>
              </itemizedlist>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.themes</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Contient les options de contrôles, de bordures de fenêtres et d'icônes ajoutées par l'utilisateur dans les thèmes. L'utilisateur peut ajouter des thèmes à partir du panneau de préférences <application>Thèmes</application>.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.thumbnails</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Contient les vignettes d'images de l'utilisateur. Ces vignettes sont utilisées par le gestionnaire de fichiers. Ce dernier dispose d'une préférence que l'utilisateur peut utiliser pour empêcher la génération de vignettes pour les fichiers image.</para>
            </entry>
          </row>
        </tbody>
      </tgroup>
    </table>
  </appendix>

  
  <appendix id="appendixb-0">
    <title>Note de sécurité sur la configuration d'imprimantes SMB</title>
    <highlights>
      <para>Cette annexe présente une note de sécurité relative à la configuration des imprimantes sur des partages d'un réseau Windows.</para>
    </highlights>
    <indexterm>
      <primary>Samba</primary>
      <see>SMB</see>
    </indexterm>
    <indexterm>
      <primary>Partages réseau Windows</primary>
      <see>SMB</see>
    </indexterm>
    <indexterm>
      <primary>SMB</primary>
      <secondary>configuration d'imprimantes</secondary>
    </indexterm>
    <para>Les partages réseau Windows sont aussi appelés des partages Samba ou <firstterm>SMB</firstterm>. Lorsque vous configurez une imprimante sur un partage SMB, vous devez saisir un nom d'utilisateur et un mot de passe pour la file d'impression.</para>
    <para>Le nom d'utilisateur et le mot de passe pour la file d'impression sont stockés sous forme non chiffrée dans le fichier texte <filename>/etc/cups/printers.conf</filename>. Ce fichier est en lecture seule pour les utilisateurs disposant de privilèges root, ce qui signifie que tout utilisateur disposant de privilèges root peut lire le mot de passe et le nom d'utilisateur pour la file d'impression.</para>
    <para>Pour minimiser les conséquences de possibles violations de sécurité, prenez bien garde à ce que le nom d'utilisateur et le mot de passe utilisés pour accéder à la file d'impression ne soient utilisés que dans ce but. Ainsi, toute violation de sécurité éventuelle n'aura pour conséquence qu'une utilisation non autorisée de la file d'impression.</para>
  </appendix>

<glossary id="glossary-1">
  <title>Glossaire</title>
  <!-- these anchors are to maintain backwards compatibility for 
       obsolete glossary entries -->

  <!-- file content sniffer -->
  <anchor id="glossary-23"/>
  <!-- MIME information file -->
  <anchor id="glossary-20"/>
  <!-- MIME keys file -->
  <anchor id="glossary-21"/>
  <!-- MIME type registry -->
  <anchor id="glossary-22"/>
  <!-- pattern mask -->
  <anchor id="glossary-25"/>
  <!-- vfolder -->
  <anchor id="glossary-9"/>
  <!-- vfolder information file -->
  <anchor id="glossary-10"/>

  <glossentry id="glossary-13">
    <glossterm>fichier <filename>.desktop</filename></glossterm>
    <glosssee otherterm="glossary-11"/>
  </glossentry>
  <glossentry id="glossary-14">
    <glossterm>fichier <filename>.directory</filename></glossterm>
    <glosssee otherterm="glossary-12"/>
  </glossentry>
  <glossentry id="glossary-32">
    <glossterm>fichier <filename>.omf</filename></glossterm>
    <glosssee otherterm="glossary-31"/>
  </glossentry>
  <glossentry id="glossary-18">
    <glossterm>registre des applications</glossterm>
    <glossdef>
      <para>Le registre des applications est un ensemble de fichiers .desktop qui enregistrent les applications. Pour le bureau GNOME, l'emplacement de ce registre des applications est <filename>$XDG_DATA_DIRS:$XDG_DATA_HOME/applications/</filename>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-11">
    <glossterm>fichier d'entrée desktop</glossterm>
    <glossdef>
      <para>Un fichier de données contenant de l'information sur un élément de menu. Ce fichier spécifie des détails tels que le nom, la commande à exécuter, l'icône, etc. Ces fichiers ont une extension <filename>.desktop</filename>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-12">
    <glossterm>fichier d'entrée de répertoire</glossterm>
    <glossdef>
      <para>Un fichier de données contenant de l'information sur un menu. Ce fichier spécifie des détails comme le nom du menu, son infobulle ainsi que l'icône représentant le menu. Les fichiers d'entrée de répertoire ont une extension <filename>.directory</filename>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-5">
    <glossterm>source de configuration GConf</glossterm>
    <glossdef>
      <para>Un emplacement de sauvegarde dans le référentiel <application>GConf</application>. Par exemple, <literal>xml:readonly:/etc/gconf/gconf.xml.defaults</literal>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-2">
    <glossterm>clé de préférence GConf</glossterm>
    <glossdef>
      <para>Un élément du référentiel <application>GConf</application> correspondant à une préférence d'application. Par exemple, la clé <literal>/apps/gnome-session/options/show_splash_screen</literal> correspond à l'option <guilabel>Afficher l'écran d'accueil à la connexion</guilabel> dans le panneau de préférences <application>Sessions</application>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-6">
    <glossterm>fichier des chemins GConf</glossterm>
    <glossdef>
      <para>Un fichier qui énumère les sources de configuration GConf, dans l'ordre de recherche des sources.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-3">
    <glossterm>schéma GConf</glossterm>
    <glossdef>
      <para>Un terme général pour une clé de schéma et un objet de schéma.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-4">
    <glossterm>fichier de définition de schéma GConf</glossterm>
    <glossdef>
      <para>Un fichier de définition de schéma <application>GConf</application> énumère les clés d'une application particulière et définit les caractéristiques des clés. Les schémas <application>GConf</application> sont générés à partir des fichiers de définition de schéma. Ces fichiers ont une extension <filename>.schemas</filename>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-7">
    <glossterm>clé de schéma GConf</glossterm>
    <glossdef>
      <para>Une clé qui contient un objet de schéma d'une clé de préférence. Par exemple, <literal>/schemas/desktop/gnome/interface/font_name</literal> est une clé de schéma pour la clé de préférence <literal>/desktop/gnome/interface/font_name</literal>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-8">
    <glossterm>objet de schéma GConf</glossterm>
    <glossdef>
      <para>Un élément d'une source de configuration qui contient des informations sur une clé de préférence. L'objet de schéma contient des informations telles que la valeur par défaut de la clé de préférence ainsi que de la documentation sur cette clé.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-glob-pattern">
    <glossterm>modèle de correspondance</glossterm>
    <glossdef>
      <para>Un modèle de correspondance sert à établir une correspondance avec un nom de fichier au moyen de caractères spéciaux tels que <literal>*</literal> et <literal>?</literal>. Le système MIME utilise ces modèles pour attribuer des types MIME sur la base des noms de fichiers, le plus souvent en fonction de leur extension.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-26">
    <glossterm>Interoperable Object Reference</glossterm>
    <glossdef>
      <para>Une Interoperable Object Reference (IOR) est une référence à un objet CORBA sous forme de texte. Une IOR code un nom d'hôte et un port qui doivent être utilisés pour envoyer des messages à l'objet pour le contrôler. L'IOR contient également une clé d'identification de l'objet.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-magic-rule">
    <glossterm>règle « magic »</glossterm>
    <glossdef>
      <para>Une règle « magic » permet de définir le type MIME d'un fichier au moyen de données textuelles ou binaires à rechercher au début du fichier. Les décalages (offset) de recherche de ces données sont définis dans une règle « magic ».</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-menu-def">
    <glossterm>Fichiers de définition de menu</glossterm>
    <glossdef>
      <para>Les fichiers de définition de menus définissent la hiérarchie des menus dans la barre de menus GNOME.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-27">
    <glossterm>MIME</glossterm>
    <glossdef>
      <para>Multipurpose Internet Mail Extension.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-mime-source-xml">
    <glossterm>fichier XML source MIME</glossterm>
    <glossdef>
      <para>Un fichier XML source MIME définit comment les types MIME sont détectés pour différentes catégories de fichiers. Cela peut se faire de trois manières : par les extensions de fichiers (modèles de correspondance), par des règles « magic » et par des espaces de noms XML. Les fichiers XML source MIME se trouvent dans le répertoire <filename>$XDG_DATA_DIRS:$XDG_DATA_HOME/mime/packages</filename>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-16">
    <glossterm>type MIME</glossterm>
    <glossdef>
      <para>Un type MIME identifie le format d'un fichier. Il permet aux applications de lire le fichier. Par exemple, un logiciel de messagerie peut utiliser le type MIME <literal>image/png</literal> pour détecter qu'un fichier PNG (Portable Networks Graphic) est joint à un message.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-mime-type-database">
    <glossterm>base de données des types MIME</glossterm>
    <glossdef>
      <para>La base de données des types MIME est un ensemble de fichiers qui enregistrent des types MIME pour l'environnement de bureau. Ces fichiers se trouvent dans le répertoire <filename>$XDG_DATA_DIRS:$XDG_DATA_HOME/mime</filename>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-31">
    <glossterm>fichier OMF</glossterm>
    <glossdef>
      <para>Fichier Open Source Metadata Framework. C'est un fichier associé au fichier XML d'un manuel. Le fichier OMF contient des informations sur le manuel utilisé par le navigateur d'aide. Les fichiers OMF ont une extension <filename>.omf</filename>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-33">
    <glossterm>PAM</glossterm>
    <glossdef>
      <para>Pluggable Authentication Modules.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-28">
    <glossterm>économiseur d'écran</glossterm>
    <glossdef>
      <para>Un économiseur d'écran est une application qui remplace l'image de l'écran par une autre image lorsque celui-ci n'est pas utilisé. L'économiseur d'écran du bureau GNOME est <application>XScreenSaver</application>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-29">
    <glossterm>afficheur d'économiseur d'écran</glossterm>
    <glossdef>
      <para>Un afficheur d'économiseur d'écran est une application qui affiche des images à l'écran lorsque ce dernier n'est pas utilisé.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-34">
    <glossterm>UDP</glossterm>
    <glossdef>
      <para>User Datagram Protocol.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-15">
    <glossterm>Uniform Resource Identifier</glossterm>
    <glossdef>
      <para>Un URI (Uniform Resource Identifier) est une chaîne de caractères qui identifie un emplacement précis sur un système de fichiers ou sur le Web. Par exemple, l'adresse d'une page Web est un URI.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-24">
    <glossterm>palette de couleurs optimisée pour le Web</glossterm>
    <glossdef>
      <para>La palette de couleurs optimisée pour le Web est une palette de 216 couleurs à usage généraliste. Elle est conçue pour un usage optimal des couleurs sur des systèmes qui ne prennent en charge les couleurs que sur 8 bits. On l'appelle également la <emphasis>palette de couleurs Netscape</emphasis> ou le <emphasis>cube des couleurs Netscape</emphasis>.</para>
    </glossdef>
  </glossentry>
</glossary>


<!-- If generating PDFs and if you want an index, then uncomment <index/> -->
<!-- <index/> -->

</book>
