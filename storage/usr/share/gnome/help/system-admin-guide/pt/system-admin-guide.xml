<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN" "http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd" [
<!ENTITY gnomeversion "2.14">
<!ENTITY manrevision "2.4">
<!ENTITY date "March 2004">
<!ENTITY LEGAL SYSTEM "legal.xml">
<!ENTITY gconf SYSTEM "gconf.xml">
<!ENTITY menustructure SYSTEM "menustructure.xml">
<!ENTITY themes SYSTEM "themes.xml">
<!ENTITY fontconfig SYSTEM "fontconfig.xml">
<!ENTITY mimetypes SYSTEM "mimetypes.xml">
<!ENTITY screensavers SYSTEM "screensavers.xml">
<!ENTITY sessions SYSTEM "sessions.xml">
<!ENTITY help SYSTEM "help.xml">
<!ENTITY performance SYSTEM "performance.xml">
<!ENTITY lockdown SYSTEM "lockdown.xml">
<!ENTITY appendixa SYSTEM "appendixa.xml">
<!ENTITY appendixb SYSTEM "appendixb.xml">
<!ENTITY gloss SYSTEM "glossary.xml">
]>
<book id="index" lang="pt"> 
  <title>GNOME Desktop System Administration Guide</title> 
  <bookinfo> 
    <abstract role="description">
    <para>O Guia de Administração do Sistema GNOME disponibiliza informação aos administradores sobre como configurar e gerir diferentes aspectos do ambiente de trabalho dos utilizadores.</para>
    </abstract>
	 <copyright> 
		<year>2006</year> 
		<holder>Brent Smith</holder> 
	 </copyright>
	 <copyright> 
		<year>2005</year> 
		<holder>Brent Smith</holder> 
	 </copyright>
	 <copyright> 
		<year>2004</year> 
		<holder>Sun Microsystems</holder> 
	 </copyright>
	 <copyright> 
		<year>2003</year> 
		<holder>Sun Microsystems</holder> 
	 </copyright><copyright><year>2007</year><holder>Duarte Loreto (happyguy_pt@hotmail.com)</holder></copyright>

<!-- translators: uncomment this:
  <copyright>
   <year>2002</year>
   <holder>ME-THE-TRANSLATOR (Latin translation)</holder>
  </copyright>
-->
	 <publisher role="maintainer"> 
		<publishername>Projecto de Documentação do GNOME</publishername> 
	 </publisher>   <legalnotice id="legalnotice">
	<para>É dada permissão para copiar, distribuir e/ou alterar este documento sob os termos da Licença de Documentação Livre GNU (GFDL), Versão 1.1 ou qualquer outra posteriormente publicada pela Free Software Foundation sem quaisquer Secções Invariantes, Textos de Capa ou Prefácios, e sem Textos Finais ou Posfácios. Poderá encontrar uma cópia da GFDL neste <ulink type="help" url="ghelp:fdl">endereço</ulink> ou no ficheiro COPYING-DOCS distribuído com este manual.</para>
         <para>Este manual é parte de uma colecção de manuais GNOME distribuídos sob a GFDL. Se desejar distribuir este manual separadamente da colecção, poderá fazê-lo desde que lhe adicione uma cópia da licença, tal como descrito na secção 6 desta licença.</para>

	<para>Muitos dos nomes utilizados pelas empresas para distinguir os seus produtos e serviços são reclamados como marcas registadas. Onde esses nomes surgirem em qualquer documentação GNOME, e aos membros do Projecto de Documentação do GNOME for dado conhecimento dessas marcas registadas, estes nomes estarão todos em maiúsculas ou com a primeira letra de cada palavra em maiúscula.</para>

	<para>O DOCUMENTO E VERSÕES ALTERADAS DO DOCUMENTO SÃO DISPONIBILIZADOS SOB OS TERMOS DA LICENÇA DE DOCUMENTAÇÃO LIVRE GNU COM A COMPREENSÃO ADICIONAL DE QUE: <orderedlist>
		<listitem>
		  <para>ESTE DOCUMENTO É DISPONIBILIZADO NUMA BASE "TAL COMO ESTÁ", SEM QUALQUER GARANTIA DE QUALQUER TIPO, NEM EXPRESSA NEM IMPLÍCITA, INCLUINDO, MAS SEM LIMITAR, GARANTIAS DE QUE O DOCUMENTO OU VERSÃO ALTERADA DO DOCUMENTO SE ENCONTRA LIVRE DE DEFEITOS PARA COMERCIALIZAÇÃO, ADEQUADO A UM PROPÓSITO ESPECÍFICO OU QUE NÃO INFRINJA. A TOTALIDADE DO RISCO DE QUALIDADE, PORMENORIZAÇÃO, E DESEMPENHO DO DOCUMENTO OU VERSÃO ALTERADA DO DOCUMENTO É SUA. CASO ALGUM DOCUMENTO OU VERSÃO ALTERADA SE DEMONSTRE DEFICIENTE EM QUALQUER ASPECTO, O LEITOR (E NÃO O AUTOR INICIAR, OU QUALQUER CONTRIBUINTE POSTERIOR) ASSUME O CUSTO DE TODO O SERVIÇO DE REPARAÇÃO, ASSISTÊNCIA OU CORRECÇÃO QUE POSSE SER NECESSÁRIO. ESTA DESRESPONSABILIZAÇÃO DE GARANTIA CONSTITUI UMA PARTE ESSENCIAL DESTA LICENÇA. NENHUMA UTILIZAÇÃO DE QUALQUER DOCUMENTO OU VERSÃO ALTERADO DO DOCUMENTO SE ENCONTRA AUTORIZADA EXCEPTO SE SUJEITA A ESTA DESRESPONSABILIZAÇÃO; E</para>
		</listitem>
		<listitem>
		  <para>SOB QUAISQUER CIRCUNSTÂNCIAS E TEORIA LEGAL, QUER SEJA POR ERRO (INCLUINDO NEGLIGÊNCIA), CONTRATO, OU QUALQUER OUTRO MOTIVO, PODERÁ O AUTOR, ESCRITOR INICIAL, QUALQUER CONTRIBUINTE, OU QUALQUER DISTRIBUIDOR DO DOCUMENTO OU VERSÃO ALTERADA DO DOCUMENTO, OU QUALQUER FORNECEDOR DE UMA DESSAS PARTES, SER RESPONSÁVEL PERANTE QUALQUER PESSOA POR QUAISQUER DANOS DIRECTOS, INDIRECTOS, ESPECIAIS, ACIDENTAIS OU CONSEQUENCIAIS DE QUALQUER TIPO INCLUINDO, SEM LIMITAR, DANOS POR PERCA DE BOM NOME (GOODWILL), PARAGENS DE TRABALHO, FALHA OU MAU FUNCIONAMENTO INFORMÁTICO, OU QUALQUER E TODOS OS OUTROS DANOS OU PERCAS DECORRENTES OU RELACIONADAS COM A UTILIZAÇÃO DO DOCUMENTO E VERSÕES ALTERADAS DO DOCUMENTO, MESMO QUE TAL PARTE TENHA SIDO INFORMADA DA POSSIBILIDADE DE OCORREREM TAIS DANOS.</para>
		</listitem>
	  </orderedlist></para>
  </legalnotice>

 

	 <authorgroup> 
		<author>
                  <firstname>Brent</firstname>
		  <surname>Smith</surname> 
		  <affiliation> 
			 <orgname>Projecto de Documentação do GNOME</orgname> 
		  </affiliation> 
		</author> 
		<author> 
		  <firstname>Sun</firstname> 
		  <surname>Equipa de Documentação do GNOME</surname> 
		  <affiliation> 
			 <orgname>Sun Microsystems</orgname> 
		  </affiliation> 
		</author> 
	 </authorgroup>

	 <revhistory>
		<revision> 
		  <revnumber>Guia de Administração do Sistema do Ambiente de Trabalho GNOME 2.14 V2.4</revnumber> 
		  <date>Março de 2004</date> 
		  <revdescription> 
			 <para role="author">Projecto de Documentação do GNOME</para> 
			 <para role="publisher">Projecto de Documentação do GNOME</para> 
		  </revdescription> 
		</revision> 
		<revision> 
		  <revnumber>Guia de Administração do Sistema do Ambiente de Trabalho GNOME 2.6 V2.3</revnumber> 
		  <date>Março de 2004</date> 
		  <revdescription> 
			 <para role="author">Sun Microsystems</para> 
			 <para role="publisher">Projecto de Documentação do GNOME</para> 
		  </revdescription> 
		</revision> 
		<revision> 
		  <revnumber>Guia de Administração do Sistema do Ambiente de Trabalho GNOME 2.4 V2.2</revnumber> 
		  <date>Setembro de 2003</date> 
		  <revdescription> 
			 <para role="author">Sun Microsystems</para> 
			 <para role="publisher">Projecto de Documentação do GNOME</para> 
		  </revdescription> 
		</revision> 
		<revision> 
		  <revnumber>Guia de Administração do Sistema do Ambiente de Trabalho GNOME 2.2 V2.1</revnumber> 
		  <date>Janeiro de 2003</date> 
		  <revdescription> 
			 <para role="author">Sun Microsystems</para> 
			 <para role="publisher">Projecto de Documentação do GNOME</para> 
		  </revdescription> 
		</revision> 
		<revision> 
		  <revnumber>Guia de Administração do Sistema do Ambiente de Trabalho GNOME 2.0 V2.0</revnumber> 
		  <date>Dezembro de 2002</date> 
		  <revdescription> 
			 <para role="author">Sun Microsystems</para> 
			 <para role="publisher">Projecto de Documentação do GNOME</para> 
		  </revdescription> 
		</revision> 
	 </revhistory> 
	 <releaseinfo>Este manual descreve a versão 2.14 do Ambiente de Trabalho GNOME.</releaseinfo> 
	 <legalnotice> 
		<title>Comentários</title> 
		<para> To report a bug or make a suggestion regarding the GNOME Desktop or this
		  manual, follow the directions in the <ulink type="help" url="ghelp:user-guide?feedback">GNOME Feedback Page</ulink>.</para>
	 </legalnotice> 
  </bookinfo>
<chapter id="gconf-0">
  <title>Utilizar o GConf</title>
  <highlights>
    <para>A informação neste capítulo descreve como utilizar o <application>GConf</application> para gerir as preferências dos utilizadores.</para>
  </highlights>
  <sect1 id="gconf-1">
    <title>Introdução ao GConf</title>
    <indexterm>
      <primary>GConf</primary>
      <secondary>introdução</secondary>
    </indexterm>
    <para>O <application>GConf</application> simplifica a administração de preferências dos utilizadores do Ambiente de Trabalho GNOME. O <application>GConf</application> permite aos administradores de sistema realizar o seguinte:</para>
    <itemizedlist>
      <listitem>
        <para>Definir valores obrigatórios em determinadas preferências para todos os utilizadores. Desta forma, os administradores dos sistemas podem controlar se os utilizadores podem ou não actualizar determinadas preferências.</para>
      </listitem>
      <listitem>
        <para>Definir valores por omissão em preferências específicas para todos os utilizadores.</para>
      </listitem>
      <listitem>
        <para>Utilizar valores sugeridos em preferências que estão especificadas em ficheiros de definição para preferências.</para>
      </listitem>
      <listitem>
        <para>Consultar a documentação de cada preferência.</para>
      </listitem>
    </itemizedlist>
    <para>O <application>GConf</application> também notifica as aplicações quando o valor de uma preferência é alterado, localmente ou numa rede. Desta forma, quando alterar uma preferência, todas as aplicações que utilizam a preferência serão imediatamente actualizadas.</para>
    <para>O <application>GConf</application> tem os seguintes componentes:</para>
    <itemizedlist>
      <listitem>
        <para>Um repositório de preferências dos utilizadores.</para>
      </listitem>
      <listitem>
        <para>Um daemon, <command>gconfd-2</command>.</para>
      </listitem>
      <listitem>
        <para>Uma ferramenta de linha de comando, <command>gconftool-2</command>.</para>
      </listitem>
    </itemizedlist>
  </sect1>
  <sect1 id="gconf-24">
    <title>Repositório GConf</title>
    <indexterm>
      <primary>GConf</primary>
      <secondary>repositório</secondary>
    </indexterm>
    <para>Cada preferência no repositório do <application>GConf</application> é expressa como um par chave-valor. Uma <firstterm>chave de preferência GConf</firstterm> é um elemento no repositório que corresponde à preferência numa aplicação. Por exemplo, a chave de preferência <systemitem>/apps/gnome-session/options/show_splash_screen</systemitem> corresponde à opção <guilabel>Apresentar ecrã de logotipo ao iniciar sessão</guilabel> na ferramenta de preferências <application>Sessões</application>. O interface de utilizador do Ambiente de Trabalho GNOME não contém todas as chaves de preferências existentes no repositório do <application>GConf</application>. Por exemplo, a ferramenta de preferências <application>Painel</application> não contém uma opção que corresponda à chave <systemitem>/apps/panel/global/tooltips_enabled</systemitem>.</para>
    <para>O repositório está estruturado tal como um sistema de ficheiros hierárquico simples. O repositório contém o seguinte:</para>
    <itemizedlist>
      <listitem>
        <para>Directórios que correspondem a aplicações que utilizam o repositório do <application>GConf</application>. Por exemplo, o sistema de ficheiros contém o directório <systemitem>/apps/metacity</systemitem>.</para>
      </listitem>
      <listitem>
        <para>Subdirectórios que correspondem a categorias de preferências. Por exemplo, o sistema de ficheiros contém o directório <systemitem>/apps/metacity/general</systemitem>.</para>
      </listitem>
      <listitem>
        <para>Ficheiros especiais que listam as chaves de preferências no directório, e contêm informação sobre as chaves. Por exemplo, um ficheiro que contém informação sobre as chaves relacionadas com as preferências de proxy HTTP encontra-se no directório <systemitem>/system/http_proxy</systemitem>.</para>
      </listitem>
      <listitem>
        <para>Um directório <systemitem>/schemas</systemitem> que contém ficheiros que descrevem todas as chaves de preferências.</para>
      </listitem>
    </itemizedlist>
    <para>As chaves de preferências normalmente têm valores simples tais como expressões, números ou listas de expressões e números. O formato da chave da preferência no repositório depende do módulo de processamento que é utilizado para ler o repositório. O seguinte é um exemplo da chave de preferência <systemitem>/desktop/gnome/interface/font_name</systemitem> quando é utilizado o módulo de processamento Extensible Markup Language (XML) para ler o repositório:</para>
    <programlisting><![CDATA[<entry name="font_name" mtime="1038323555" muser="user123" type="string">
<stringvalue>Sans 10</stringvalue></entry>]]></programlisting>
    <note>
      <para>Quando este guia se refere a uma chave de preferência, o caminho para a chave é adicionado ao nome da chave. Por exemplo, a chave de preferência de <systemitem>font_name</systemitem> no subdirectório <systemitem>/desktop/gnome/interface</systemitem> é referenciada como <systemitem>/desktop/gnome/interface/font_name</systemitem>.</para>
    </note>
    <sect2 id="gconf-26">
      <title>Bases de Configuração do GConf</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>bases de configuração</secondary>
      </indexterm>
      <para>O repositório do <application>GConf</application> contém um conjunto de localizações de armazenamento denominadas <firstterm>bases de configuração</firstterm>. As bases de configuração estão listadas no <firstterm>ficheiro de caminhos GConf</firstterm>. A localização do ficheiro de caminhos do <application>GConf</application> é <systemitem>/etc/gconf/<replaceable>gconf-version-number</replaceable>/path</systemitem>. Cada utilizador tem um ficheiro de caminhos. O ficheiro de caminhos especifica a seguinte informação para cada base de configuração:</para>
      <itemizedlist>
        <listitem>
          <para>O módulo de processamento a utilizar para ler o repositório.</para>
        </listitem>
        <listitem>
          <para>As permissões do repositório.</para>
        </listitem>
        <listitem>
          <para>A localização do repositório.</para>
        </listitem>
      </itemizedlist>
      <para>O ficheiro de caminhos do <application>GConf</application> também contém instruções de <systemitem>inclusão</systemitem>. Por omissão, o conteúdo do ficheiro de caminhos do <application>GConf</application> é o seguinte:</para>
      <programlisting>xml:readonly:/etc/gconf/gconf.xml.mandatory
include /etc/gconf/2/local-mandatory.path
include "$(HOME)/.gconf.path"
include /etc/gconf/2/local-defaults.path
xml:readwrite:$(HOME)/.gconf
xml:readonly:/etc/gconf/gconf.xml.defaults</programlisting>
      <para>Quando o <application>GConf</application> procura por um valor de preferência, o <application>GConf</application> lê as bases de configuração pela ordem especificada no ficheiro de caminhos. A seguinte tabela descreve as bases de configuração no ficheiro de caminhos:</para>
      <informaltable frame="topbot">
        <tgroup cols="2" colsep="0" rowsep="0">
          <colspec colwidth="31.29*"/>
          <colspec colwidth="68.71*"/>
          <thead>
            <row rowsep="1">
              <entry>
                <para>Base de Configuração</para>
              </entry>
              <entry>
                <para>Descrição</para>
              </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry valign="top">
                <para>Obrigatório</para>
              </entry>
              <entry valign="top">
                <para>As permissões nesta base de configuração estão definidas apenas para leitura. Os utilizadores não podem alterar os valores nesta base, pelo que as preferências na base são obrigatórias.</para>
              </entry>
            </row>
            <row>
              <entry valign="top">
                <para>Utilizador</para>
              </entry>
              <entry valign="top">
                <para>Esta base de configuração está armazenada no directório <filename>.gconf</filename> dentro do directório pessoal do utilizador. Quando o utilizador define uma preferência, a informação da nova preferência é adicionada a esta localização.</para>
                <para>Pode utilizar o <application>Editor de Configuração</application> para alterar a base de configuração do utilizador.</para>
              </entry>
            </row>
            <row>
              <entry valign="top">
                <para>Omissão</para>
              </entry>
              <entry valign="top">
                <para>Esta base de configuração contém as definições por omissão das preferências.</para>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
      <para>A sequência das bases de configuração no ficheiro de caminhos assegura que as preferências obrigatórias se sobrepõem às definições de preferências do utilizador. A sequência também assegura que as preferências do utilizador se sobrepõem às preferências por omissão. Isto é, <application>GConf</application> aplica as preferências pela seguinte ordem de prioridade:</para>
      <orderedlist>
        <listitem>
          <para>Preferências obrigatórias</para>
        </listitem>
        <listitem>
          <para>Preferências especificadas pelo utilizador</para>
        </listitem>
        <listitem>
          <para>Preferências por omissão</para>
        </listitem>
      </orderedlist>
      <para>As instruções de <systemitem>inclusão</systemitem> no ficheiro de caminhos do <application>GConf</application> permite aos administradores dos sistemas especificar outras bases de configuração.</para>
      <informaltable frame="topbot">
        <tgroup cols="2" colsep="0" rowsep="0">
          <colspec colwidth="50*"/>
          <colspec colwidth="50*"/>
          <thead>
            <row rowsep="1">
              <entry>
                <para>Base de Configuração Incluída</para>
              </entry>
              <entry>
                <para>Descrição</para>
              </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry valign="top">
                <para>
                  <filename>/etc/gconf/2/local-mandatory.path</filename>
                </para>
              </entry>
              <entry valign="top">
                <para>Utilize esta base de configuração para armazenar valores de preferências obrigatórios para um determinado sistema.</para>
              </entry>
            </row>
            <row>
              <entry valign="top">
                <para>
                  <filename>$(HOME)/.gconf.path</filename>
                </para>
              </entry>
              <entry valign="top">
                <para>O utilizador especifica a localização da base de configuração na pasta pessoal, num ficheiro denominado <filename>.gconf.path</filename>.</para>
              </entry>
            </row>
            <row>
              <entry valign="top">
                <para>
                  <filename>/etc/gconf/2/local-defaults.path</filename>
                </para>
              </entry>
              <entry valign="top">
                <para>Utilize esta base de configuração para armazenar valores de preferências por omissão para um determinado sistema.</para>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </sect2>
    <sect2 id="gconf-27">
      <title>Esquemas GConf</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>esquemas</secondary>
      </indexterm>
      <indexterm>
        <primary>GConf</primary>
        <secondary>chaves de esquemas</secondary>
      </indexterm>
      <indexterm>
        <primary>GConf</primary>
        <secondary>objectos de esquemas</secondary>
      </indexterm>
      <indexterm>
        <primary>esquemas</primary>
        <secondary>descrição</secondary>
      </indexterm>
      <indexterm>
        <primary>esquemas</primary>
        <secondary>chaves de esquemas</secondary>
      </indexterm>
      <indexterm>
        <primary>esquemas</primary>
        <secondary>objectos de esquemas</secondary>
      </indexterm>
      <para>Um <firstterm>esquema GConf</firstterm> é um termo agregador para uma <firstterm>chave de esquema GConf</firstterm> e um <firstterm>objecto de esquema GConf</firstterm>. A tabela seguinte descreve chaves e objectos de esquemas e a relação entre estes itens e chaves de preferências:</para>
      <informaltable frame="topbot">
        <tgroup cols="2" colsep="0" rowsep="0">
          <colspec colname="colspec0" colwidth="24.31*"/>
          <colspec colname="colspec1" colwidth="75.69*"/>
          <thead>
            <row rowsep="1">
              <entry>
                <para>Item</para>
              </entry>
              <entry>
                <para>Descrição</para>
              </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry colname="colspec0" valign="top">
                <para>Chave de preferência</para>
              </entry>
              <entry colname="colspec1" valign="top">
                <para>Um elemento no repositório <application>GConf</application> que corresponde a uma preferência numa aplicação.</para>
              </entry>
            </row>
            <row>
              <entry valign="top">
                <para>Chave de esquema</para>
              </entry>
              <entry valign="top">
                <para>Uma chave que armazena um objecto de esquema para uma chave de preferência.</para>
              </entry>
            </row>
            <row>
              <entry valign="top">
                <para>Objecto de esquema</para>
              </entry>
              <entry valign="top">
                <para>Um elemento numa base de configuração que contém informação sobre uma chave de preferência, tal como os seguintes:</para>
                <itemizedlist>
                  <listitem>
                    <para>O nome da aplicação que utiliza a chave de preferência.</para>
                  </listitem>
                  <listitem>
                    <para>O tipo do valor requerido para a chave de preferência, por exemplo um número inteiro, boleana, etc.</para>
                  </listitem>
                  <listitem>
                    <para>Um valor por omissão para a chave da preferência.</para>
                  </listitem>
                  <listitem>
                    <para>Documentação abreviada sobre a chave da preferência.</para>
                  </listitem>
                </itemizedlist>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
      <para>A tabela seguinte dá exemplos de uma chave de preferência, uma chave de esquema e um objecto de esquema:</para>
      <informaltable frame="topbot">
        <tgroup cols="2" colsep="0" rowsep="0">
          <colspec colname="colspec0" colwidth="24.31*"/>
          <colspec colname="colspec1" colwidth="75.69*"/>
          <thead>
            <row rowsep="1">
              <entry>
                <para>Item</para>
              </entry>
              <entry>
                <para>Exemplo</para>
              </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry colname="colspec0" valign="top">
                <para>Chave de preferência</para>
              </entry>
              <entry colname="colspec1" valign="top">
                <para>
                  <systemitem>/desktop/gnome/interface/font_name</systemitem>
                </para>
              </entry>
            </row>
            <row>
              <entry colname="colspec0" valign="top">
                <para>Chave de esquema</para>
              </entry>
              <entry colname="colspec1" valign="top">
                <para>
                  <systemitem>/schemas/desktop/gnome/interface/font_name</systemitem>
                </para>
              </entry>
            </row>
            <row>
              <entry valign="top">
                <para>Objecto de esquema</para>
              </entry>
              <entry valign="top">
                <programlisting><![CDATA[<schema>
  <applyto>/desktop/gnome/interface/font_name</applyto>
  <key>/schemas/desktop/gnome/interface/font_name</key>
  <owner>gnome</owner>
  <type>string</type>
  <default>Sans 10</default>
  <locale name="C">
    <short>Default font</short>
      <long>Name of the default font used by gtk+.</long>
  </locale>
</schema>]]></programlisting>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
      <para>Pode associar uma chave de esquema com uma chave de preferência. Por exemple, a chave <systemitem>/desktop/gnome/interface/font_name</systemitem> inclui uma chave de esquema:</para>
      <programlisting><![CDATA[<entry name="font_name" mtime="1034873859"
schema="/schemas/desktop/gnome/interface/font_name"/>]]></programlisting>
      <para>Quando associa uma chave de esquema com uma chave de preferência, a preferência utiliza o valor sugerido que está especificado no objecto de esquema da chave de esquema. O valor sugerido está contido no elemento <sgmltag>&lt;default&gt;</sgmltag> do objecto de esquema. Por omissão, todas as chaves de preferências na base de configuração por omissão estão associadas a chaves de esquemas.</para>
      <para>Tipicamente, os esquemas estão armazenados em bases de configuração por omissão.</para>
    </sect2>
    <sect2 id="gconf-2">
      <title>Ficheiros de Definição do Esquema GConf</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>ficheiros de definição de esquema</secondary>
        <tertiary>introdução</tertiary>
      </indexterm>
      <indexterm>
        <primary>esquemas</primary>
        <secondary>ficheiros de definição de esquema</secondary>
        <tertiary>introdução</tertiary>
      </indexterm>
      <para>Os esquemas são gerados a partir de <firstterm>ficheiros de definição de esquemas</firstterm>. Um ficheiro de definição de esquema define as características de todas as chaves numa aplicação específica. Ficheiros de definição de esquemas têm a extensão <filename>.schemas</filename>.</para>
      <para>Os ficheiros de definição de esquemas estão contidos no directório <filename>/etc/gconf/schemas</filename>. Pode utilizar os ficheiros de definição de esquemas para criar uma nova base de configuração.</para>
      <para>Alguns ficheiros de definição de esquemas correspondem muito aproximadamente a uma parte do interface de utilizador do Ambiente de Trabalho GNOME. Por exemplo, <filename>system_http_proxy.schemas</filename> corresponde à ferramenta de preferências de <application>Proxy de Rede</application>. Outros ficheiros de definição de esquema contêm chaves de preferências que não estão acessíveis no interface de utilizador do Ambiente de Trabalho GNOME. Por exemplo, a chave <systemitem>/apps/panel/global/tooltips_enabled</systemitem> não está acessível no interface de utilizador.</para>
      <para>Parte do interface de utilizador do Ambiente de Trabalho GNOME contém preferências que representam chaves de preferências em mais do que um ficheiro de definição de esquema. Por exemplo, a ferramenta de preferências <application>Atalhos de Teclado</application> contém preferências que representam chaves dos ficheiros <filename>panel-global-config.schemas</filename> e <filename>metacity.schemas</filename>.</para>
    </sect2>
  </sect1>
  <sect1 id="gconf-25">
    <title>Daemon do GConf</title>
    <indexterm>
      <primary>gconfd</primary>
      <see>Daemon do GConf</see>
    </indexterm>
    <indexterm>
      <primary>GConf</primary>
      <secondary>daemon</secondary>
    </indexterm>
    <para>O daemon <application>GConf</application> denomina-se <command>gconfd-2</command>. O daemon <application>GConf</application> notifica as aplicações quando o valor de uma preferência é alterado. Por exemplo, poderá seleccionar apenas apresentar ícones nas barras de ferramentas na ferramenta de preferências <application>Menus &amp; Barras de Ferramentas</application>. Ao seleccionar esta opção na ferramenta de preferências, as barras de ferramentas de todas as aplicações abertas são actualizadas instantaneamente. O daemon <application>GConf</application> pode funcionar localmente, ou numa rede.</para>
    <para>É iniciada uma instância do daemon <application>GConf</application> para cada utilizador. O daemon <application>GConf</application> não tem que gerir problemas complexos tais como autenticação e segurança de dados. Quando o daemon <application>GConf</application> é iniciado, o daemon lê o ficheiro de caminhos do <application>GConf</application>. O daemon <application>GConf</application> gere todos os acessos entre as aplicações e as bases de configuração.</para>
    <para>Quando uma aplicação pede o valor de uma chave de preferência, o daemon procura nas bases de configuração de seguinte forma:</para>
    <orderedlist>
      <listitem>
        <para>Procura o valor da chave de preferência em cada base de configuração, na ordem especificada no ficheiro de caminhos. Se o valor for encontrado, devolve o valor.</para>
      </listitem>
      <listitem>
        <para>Se o valor não for encontrado, procura a chave de esquema que corresponde à chave da preferência em cada base de configuração, pela ordem especificada no ficheiro de caminhos.</para>
      </listitem>
      <listitem>
        <para>Se a chave do esquema for encontrada, verifica o valor da chave do esquema.</para>
      </listitem>
      <listitem>
        <para>Se o valor da chave do esquema for um objecto de esquema, devolve o valor sugerido no elemento <sgmltag>&lt;default&gt;</sgmltag> do objecto de esquema.</para>
      </listitem>
    </orderedlist>
    <para>O daemon <application>GConf</application> também faz cache de valores de chaves de preferências. Todas as aplicações utilizam esta cache, pelo que as aplicações apenas necessitam de aceder às bases de configuração uma vez.</para>
    <para>Para terminar o daemon <application>GConf</application>, execute o seguinte comando:</para>
    <screen><userinput>gconftool-2 --shutdown</userinput></screen>
  </sect1>
  <sect1 id="gconf-6">
    <title>Ferramenta de Linha de Comando GConf</title>
    <anchor id="gconf-TBL-7"/>
    <indexterm>
      <primary>gconftool-2</primary>
      <see>Ferramenta de linha de comando GConf</see>
    </indexterm>
    <indexterm>
      <primary>GConf</primary>
      <secondary>ferramenta de linha de comando</secondary>
    </indexterm>
    <para>O <application>GConf</application> incluí uma ferramenta de linha de comando, <command>gconftool-2</command>. Pode utilizar o comando <command>gconftool-2</command> para realizar as seguintes tarefas:</para>
    <itemizedlist>
      <listitem>
        <para>Definir os valores das chaves.</para>
      </listitem>
      <listitem>
        <para>Apresentar os valores das chaves.</para>
      </listitem>
      <listitem>
        <para>Instalar esquemas a partir de ficheiros de definição de esquemas, ao instalar uma aplicação.</para>
      </listitem>
    </itemizedlist>
    <para>Por exemplo, utilize o seguinte comando para apresentar os valores de todas as chaves contidas no directório <systemitem>/desktop/gnome</systemitem> e seus subdirectórios.</para>
    <screen><userinput>gconftool-2 --recursive-list /desktop/gnome</userinput></screen>
    <para>Abaixo estão listadas algumas das opções que pode utilizar com o comando <command>gconftool-2</command>. Para opções de linha de comando detalhadas, consulte <ulink url="man:gconftool-2(1)">man:gconftool-2(1)</ulink>.</para>
    <variablelist>
      <title>Opções do Comando gconftool-2</title>
      <varlistentry>
        <term>
            <option>--all-dirs</option>
        </term>
        <listitem>
          <para>Lista todos os subdirectórios de um directório especificado.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--all-entries</option>
        </term>
        <listitem>
          <para>Apresenta todos os valores de todas as chaves num directório especificado.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--config-source=<replaceable>base-de-configuração</replaceable></option>
        </term>
        <listitem>
          <para>Utilize esta opção em conjunto com a opção <option>--direct</option> para especificar uma base de configuração a utilizar. Caso não especifique uma base de configuração com esta opção, o comando executará todas as bases de configuração indicadas no ficheiro de caminhos.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--direct</option>
        </term>
        <listitem>
          <para>Utilize esta opção em conjunto com a opção <option>--config-source</option> para aceder directamente a uma base de configuração. Quando utiliza esta opção, o <application>GConf</application> contorna o servidor. Certifique-se que o daemon do <application>GConf</application>, o <command>gconfd-2</command>, não se encontra em execução, antes de utilizar esta opção.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--dump</option>
        </term>
        <listitem>
          <para>Gera uma lista que contém todas as chaves de preferências contidas num directório de repositório do <application>GConf</application> que especifique. A lista contém as descrições XML de todas as chaves. A lista está contida num elemento <sgmltag>&lt;gconfentryfile&gt;</sgmltag>.</para>
          <para>Por exemplo, pode redireccionar o resultado desta opção para gerar um ficheiro que lista todas as chaves relacionadas com a sua configuração do painel. Pode utilizar a opção <option>--load</option> com este ficheiro.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--get</option>
        </term>
        <listitem>
          <para>Apresenta o valor de uma chave de preferência que especifique. Também apresenta os valores dos elementos no objecto de esquema de uma chave de esquema que especificar.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--help</option>
        </term>
        <listitem>
          <para>Apresenta uma mensagem de ajuda sobre o comando <command>gconftool-2</command>, e as opções que pode utilizar com o comando <command>gconftool-2</command>.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--load=<replaceable>ficheiro</replaceable></option>
        </term>
        <listitem>
          <para>Utilize esta opção para definir o valor de chaves de preferências no directório actual numa base de configuração com os valores contidos no ficheiro especificado. O ficheiro que especificar deverá conter descrições XML das chaves, num elemento <literal>&lt;gconfentryfile&gt;</literal>.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--long-desc=<replaceable>descrição</replaceable></option>
        </term>
        <listitem>
          <para>Utilize esta opção em conjunto com a opção <option>--set-schema</option> para especificar a descrição detalhada de uma chave de esquema.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--makefile-install-rule</option>
        </term>
        <listitem>
          <para>Instala ficheiros de definição de esquemas de aplicações.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--owner=<replaceable>dono</replaceable></option>
        </term>
        <listitem>
          <para>Utilize esta opção em conjunto com a opção <option>--set-schema</option> para especificar o dono de uma chave de esquema.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--recursive-list</option>
        </term>
        <listitem>
          <para>Apresenta os valores de todas as chaves de preferências em todos os subdirectórios do directório que especificar.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--recursive-unset</option>
        </term>
        <listitem>
          <para>Repõe todos os valores de todas as chaves de preferências, em todos os subdirectórios de um directório, dos valores do utilizador para os valores indicados na base de configuração por omissão.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--set</option>
        </term>
        <listitem>
          <para>Define o valor de uma chave de preferência, e escreve o valor na base de configuração do utilizador. Utilize a opção <option>--type</option> em conjunto com a opção <option>--set</option> para especificar o tipo de dados do valor que deseja definir. Por exemplo, o comando seguinte define o valor da chave <systemitem>/apps/gnome-terminal/profiles/Default/background_color</systemitem> na base de configuração do utilizador:</para>
          <screen><userinput>gconftool-2 \
  --set "/apps/gnome-terminal/profiles/Default/background_color" \
  --type string "#000000"</userinput></screen>
          <para>Pode também utilizar a opção <option>--direct</option> e a opção <option>--config-source</option> em conjunto com a opção <option>--set</option> para escrever um valor noutra base de configuração.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--set-schema</option>
        </term>
        <listitem>
          <para>Define o valor de um atributo numa chave de esquema, e escreve esse valor na base de configuração por omissão.</para>
          <para>Utilize as seguintes opções em conjunto com a opção <option>--set-schema</option> para especificar o atributo que deseja actualizar:</para>
          <itemizedlist>
            <listitem>
              <para>
                <option>--type</option>
              </para>
            </listitem>
            <listitem>
              <para>
                <option>--short-desc</option>
              </para>
            </listitem>
            <listitem>
              <para>
                <option>--long-desc</option>
              </para>
            </listitem>
            <listitem>
              <para>
                <option>--owner</option>
              </para>
            </listitem>
          </itemizedlist>
          <para>Por exemplo, o comando seguinte define a descrição abreviada da chave de esquema para a chave <systemitem>/apps/gnome-terminal/profiles/Default/background_color</systemitem>:</para>
          <screen><userinput>gconftool-2 \
  --set-schema  "/schemas/apps/gnome-terminal/profiles/Default/background_color" \
  --short-desc "Cor de fundo por omissão da consola"</userinput></screen>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--short-desc=<replaceable>descrição</replaceable></option>
        </term>
        <listitem>
          <para>Utilize esta opção em conjunto com a opção <option>--set-schema</option> para especificar uma descrição abreviada para uma chave de esquema.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--shutdown</option>
        </term>
        <listitem>
          <para>Termina o daemon <application>GConf</application>.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--type=<replaceable>tipo-dados</replaceable></option>
        </term>
        <listitem>
          <para>Utilize esta opção para especificar o tipo de dados quando definir o valor de uma chave de preferência. Pode também utilizar esta opção quando definir o valor de um atributo numa chave de esquema. Esta é uma lista dos tipos de dados válidos:</para>
          <itemizedlist>
            <listitem>
              <para>
                <type>bool</type>
              </para>
            </listitem>
            <listitem>
              <para>
                <type>float</type>
              </para>
            </listitem>
            <listitem>
              <para>
                <type>int</type>
              </para>
            </listitem>
            <listitem>
              <para>
                <type>list</type>
              </para>
            </listitem>
            <listitem>
              <para>
                <type>pair</type>
              </para>
            </listitem>
            <listitem>
              <para>
                <type>string</type>
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--unset</option>
        </term>
        <listitem>
          <para>Redefine o valor de uma chave de preferência, lendo das definições do utilizador para aplicar na base de configuração por omissão.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--usage</option>
        </term>
        <listitem>
          <para>Apresenta uma breve mensagem de ajuda sobre o comando <command>gconftool-2</command>, e as opções que pode utilizar com o comando <command>gconftool-2</command>.</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect1>
  <sect1 id="gconf-7">
    <title>Definir Valores de Preferências</title>
    <indexterm>
      <primary>GConf</primary>
      <secondary>valores de preferências, definir</secondary>
    </indexterm>
    <indexterm>
      <primary>valores de preferências</primary>
      <secondary>definir utilizando o GConf</secondary>
    </indexterm>
    <para>Pode definir um valor obrigatório ou um valor por omissão para uma chave de preferência. Antes de alterar valores de preferências obrigatórios ou por omissão de utilizadores, certifique-se de que o daemon do <application>GConf</application> não se encontra em execução para nenhum utilizador. Certifique-se de que todos os utilizadores terminaram as suas sessões antes de alterar os valores das suas preferências.</para>
    <para>Para definir um valor obrigatório ou um valor por omissão de uma chave de preferência, utilize o comando <command>gconftool-2</command>, da seguinte forma:</para>
    <screen><userinput>gconftool-2 --direct \
  --config-source <replaceable>base-de-configuração</replaceable> \
  --type <replaceable>tipo-dados</replaceable> \
  --set <replaceable>chave-preferência</replaceable> <replaceable>valor</replaceable></userinput></screen>
    <para>Por exemplo, para definir <literal>wwwproxy.xyz.com</literal> como o endereço de proxy HTTP obrigatório, execute o seguinte comando:</para>
    <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.mandatory \
  --type string \
  --set /system/http_proxy/host wwwproxy.xyz.com</userinput></screen>
    <para>O utilizador não conseguirá contornar ou alterar o valor desta preferência.</para>
    <para>Pode também utilizar o comando <command>gconftool-2</command> para definir valores por omissão. Por exemplo, para definir o número de áreas de trabalho por omissão como cinco, execute o seguinte comando:</para>
    <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.defaults \
  --type int \
  --set /apps/metacity/general/num_workspaces 5</userinput></screen>
    <para>O utilizador poderá alterar o valor desta preferência.</para>
    <caution>
      <para>Antes de alterar valores de preferências obrigatórios ou por omissão dos utilizadores, certifique-se de que todos terminaram as suas sessões.</para>
    </caution>
  </sect1>
  <sect1 id="gconf-8">
    <title>Definir Preferências Gerais</title>
    <para>As secções seguintes descrevem como definir valores obrigatórios ou por omissão para preferências gerais.</para>
    <sect2 id="gconf-10">
      <title>Definir as Preferências da Proxy HTTP</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>Proxy HTTP, definir</secondary>
      </indexterm>
      <indexterm>
        <primary>Proxy HTTP</primary>
        <secondary>definir utilizando o GConf</secondary>
      </indexterm>
      <para>Para definir preferências de proxy HTTP, tem de alterar os valores das chaves de preferências na localização <systemitem>/system/http_proxy/</systemitem>. Por exemplo, para definir um valor obrigatório para o endereço de proxy HTTP, execute o seguinte comando:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.mandatory \
  --type string \
  --set /system/http_proxy/host <replaceable>nome-proxy</replaceable></userinput></screen>
      <para>Para definir um valor por omissão para o endereço de proxy HTTP, execute o seguinte comando:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.defaults \
  --type string \
  --set /system/http_proxy/host <replaceable>nome-proxy</replaceable></userinput></screen>
      <para>Pode também definir outras preferências relacionadas com a proxy HTTP. Para informações sobre outras preferências relacionadas com a proxy HTTP, consulte o ficheiro de definição de esquema <filename>system_http_proxy.schemas</filename>.</para>
    </sect2>
    <sect2 id="gconf-11">
      <title>Definir Preferências do Gestor de Impressão</title>
      <para>Para definir as preferências do gestor de impressão, deverá alterar os valores das chaves de preferências na localização <systemitem>/apps/gnome-print-manager</systemitem>. Por exemplo, se não desejar que os utilizadores visualizem os trabalhos de impressão dos outros utilizadores, defina um valor obrigatório da seguinte forma:</para>
      <indexterm>
        <primary>GConf</primary>
        <secondary>gestão de impressão, definir</secondary>
      </indexterm>
      <indexterm>
        <primary>gestão de impressão</primary>
        <secondary>definir utilizando o GConf</secondary>
      </indexterm>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.mandatory \
  --type bool \
  --set /apps/gnome-print-manager/show_all_jobs false</userinput></screen>
      <para>Para definir um valor por omissão para esta preferência, execute o seguinte comando:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.defaults \
  --type bool \
  --set /apps/gnome-print-manager/show_all_jobs false</userinput></screen>
      <para>Pode também definir outras preferências de gestão de impressão. Para informações sobre outras preferências relacionadas com a gestão de impressão, consulte o ficheiro de definição de esquema <filename>gnome-print-manager.schemas</filename>.</para>
<!--gnome-print-manager isn't in Mercury. Is there a replacement?-->
    </sect2>
    <sect2 id="gconf-12">
      <title>Definir o Número de Áreas de Trabalho</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>número de áreas de trabalho, definir</secondary>
      </indexterm>
      <indexterm>
        <primary>área de trabalho</primary>
        <secondary>definir o número utilizando o GConf</secondary>
      </indexterm>
      <para>Para definir um número obrigatório de áreas de trabalho, utilize o seguinte comando:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.mandatory \
  --type int \
  --set /apps/metacity/general/num_workspaces <replaceable>inteiro</replaceable></userinput></screen>
      <para>Para definir um número por omissão de áreas de trabalho, utilize o seguinte comando:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.defaults \
  --type int \
  --set /apps/metacity/general/num_workspaces <replaceable>inteiro</replaceable></userinput></screen>
      <para>Pode também definir outras preferências do seu gestor de janelas. Para informação sobre outras preferências do gestor de janelas, consulte o ficheiro de definição de esquema <filename>metacity.schemas</filename>.</para>
    </sect2>
    <sect2 id="gconf-16">
      <title>Definir Preferências de Acessibilidade de Teclado</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>acessibilidade do teclado, definir</secondary>
      </indexterm>
      <indexterm>
        <primary>teclado</primary>
        <secondary>definir preferências de acessibilidade utilizando o GConf</secondary>
      </indexterm>
      <para>Para definir preferências de acessibilidade de teclado, deverá alterar os valores das chaves de preferências na localização <systemitem>/desktop/gnome/accessibility/keyboard</systemitem>. Por exemplo, se deseja definir um valor obrigatório para activar as funcionalidades de acessibilidade, execute o seguinte comando:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.mandatory \
  --type bool \
  --set /desktop/gnome/accessibility/keyboard/enable true</userinput></screen>
      <para>Para definir um valor por omissão para esta preferência, execute o seguinte comando:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.defaults \
  --type bool \
  --set /desktop/gnome/accessibility/keyboard/enable false</userinput></screen>
      <para>Pode também definir outras preferências de acessibilidade de teclado. Para informações sobre outras preferências de acessibilidade de teclado, consulte o ficheiro de definição de esquema <filename>desktop_gnome_accessibility_keyboard.schemas</filename>.</para>
    </sect2>
    <sect2 id="gconf-18">
      <title>Definir Preferências de Atalhos de Teclado</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>atalhos de teclado, definir</secondary>
      </indexterm>
      <indexterm>
        <primary>teclado</primary>
        <secondary>definir preferências de atalhos utilizando o GConf</secondary>
      </indexterm>
      <para>Para definir preferências de atalhos de teclado, deverá alterar os valores das chaves de preferências na localização <systemitem>/apps/metacity/global_keybindings</systemitem>. Por exemplo, poderá querer que os utilizadores apenas utilizem o atalho de teclado <keycombo><keycap>Alt</keycap><keycap>F3</keycap></keycombo> para abrir o diálogo de <guilabel>Executar Aplicação</guilabel>. Para definir este valor obrigatório, execute o seguinte comando:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.mandatory \
  --type string \
  --set /apps/metacity/global_keybindings/panel_run_dialog '&lt;Alt&gt;F3'</userinput></screen>
      <para>Pode também definir outras preferências de atalhos de teclado. Para informação sobre outras preferências de atalhos de teclado, consulte o ficheiro de definição de esquema <filename>metacity.schemas</filename>.</para>
    </sect2>
    <sect2 id="gconf-14">
      <title>Definir Preferências de Painel e Objectos de Painel</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>preferências de objectos de painel, definir</secondary>
      </indexterm>
      <indexterm>
        <primary>GConf</primary>
        <secondary>preferências de painel, definir individuais</secondary>
      </indexterm>
      <indexterm>
        <primary>painéis</primary>
        <secondary>preferências, individuais, definir utilizando o GConf</secondary>
      </indexterm>
      <para>O ficheiro <filename>panel-default-setup.entries</filename> especifica os seguintes detalhes dos painéis no Ambiente de Trabalho GNOME:</para>
      <itemizedlist>
        <listitem>
          <para>Número de painéis.</para>
        </listitem>
        <listitem>
          <para>Tipos de painéis.</para>
        </listitem>
        <listitem>
          <para>Propriedades dos painéis.</para>
        </listitem>
        <listitem>
          <para>Conteúdo dos painéis.</para>
        </listitem>
      </itemizedlist>
      <para>A configuração de painéis individuais e de objectos de painel é uma tarefa complexa. Para configurar painéis individuais e objectos de painel, terá primeiro de compreender a estrutura do ficheiro <filename>panel-default-setup.entries</filename>. Para mais informação sobre o ficheiro <filename>panel-default-setup.entries</filename>, consulte a secção seguinte.</para>
      <para>Para definir preferências de painéis individuais e objectos de painel, terá de definir os valores de várias preferências numa base de configuração. A forma mais simples de definir os valores de preferências de painel é utilizar o comando <command>gconftool-2</command> com as opções <option>--dump</option> e <option>--load</option>. Para mais informação sobre como definir preferências de painéis e objectos de painel, consulte <xref linkend="gconf-3"/>.</para>
      <sect3 id="gconf-23">
        <title>Especificar Painéis Individuais e Objectos de Painel</title>
        <indexterm>
          <primary>GConf</primary>
          <secondary>ficheiros de definição de esquema</secondary>
          <tertiary>painel e objecto de painel</tertiary>
        </indexterm>
        <indexterm>
          <primary>esquemas</primary>
          <secondary>ficheiros de definição de esquema</secondary>
          <tertiary>painel e objecto de painel</tertiary>
        </indexterm>
        <para>O ficheiro <filename>panel-default-setup.entries</filename> contém secções que especificam painéis e o conteúdo de painéis. O ficheiro <filename>panel-default-setup.entries</filename> especifica valores de chaves de esquema. O ficheiro <filename>panel-default-setup.entries</filename> encontra-se no directório <filename>/etc/gconf/schemas</filename>.</para>
        <para>O ficheiro <filename>panel-default-setup.entries</filename> encontra-se estruturado da seguinte forma:</para>
        <orderedlist>
          <listitem>
            <para>Chaves que especificam a estrutura geral de painéis, applets, e outros objectos de painel no Ambiente de Trabalho GNOME. As seguintes chaves especificam o número de painéis, objectos de painel, e applets que surgem no Ambiente de Trabalho GNOME:</para>
            <itemizedlist>
              <listitem>
                <para>
                  <systemitem>/apps/panel/default_setup/general/toplevel_id_list</systemitem>
                </para>
              </listitem>
              <listitem>
                <para>
                  <systemitem>/apps/panel/default_setup/general/object_id_list</systemitem>
                </para>
              </listitem>
              <listitem>
                <para>
                  <systemitem>/apps/panel/default_setup/general/applet_id_list</systemitem>
                </para>
              </listitem>
            </itemizedlist>
            <para>As chaves também atribuem identificadores a cada painel, objecto de painel, e applet. Por exemplo, a seguinte amostra de <filename>panel-default-setup.entries</filename> especifica que é visível um painel no Ambiente de Trabalho GNOME:</para>
            <programlisting><![CDATA[<entry>
  <key>toplevel_id_list</key>
  <schema_key>/schemas/apps/panel/general/toplevel_id_list</schema_key>
  <value>
    <list type="string">
      <value>
        <string>bottom_panel</string>
      </value>
    </list>
  </value>
</entry>]]></programlisting>
            <para>No ficheiro <filename>panel-default-setup.entries</filename>, o identificador <systemitem>bottom_panel</systemitem> identifica o painel inferior.</para>
          </listitem>
          <listitem>
            <para>Chaves que especificam as propriedades dos painéis. As chaves de propriedades dos painéis estão estruturadas da seguinte forma:</para>
            <programlisting>/apps/panel/default_setup/toplevels/<replaceable>panel-name</replaceable>/<replaceable>panel-property-key</replaceable></programlisting>
            <para>Por exemplo, a chave <systemitem>/apps/panel/default_setup/toplevels/bottom_panel/size</systemitem> especifica o tamanho do painel inferior.</para>
          </listitem>
          <listitem>
            <para>Chaves que especificam os objectos de painel, as propriedades dos objectos de painel, e os painéis em que os objectos residem. Por exemplo, a seguinte amostra de <filename>panel-default-setup.entries</filename> especifica o objecto <guimenu>Menu Principal</guimenu> no lado esquerdo do painel inferior:</para>
            <programlisting><![CDATA[<entrylist base="/apps/panel/default_setup/objects/main_menu">
  <entry>
    <key>object_type</key>
    <schema_key>/schemas/apps/panel/objects/object_type</schema_key>
    <value>
      <string>menu-object</string>
    </value>
  </entry>
  <entry>
    <key>toplevel_id</key>
    <schema_key>/schemas/apps/panel/objects/toplevel_id</schema_key>
    <value>
      <string>bottom_panel</string>
    </value>
  </entry>
  <entry>
    <key>position</key>
    <schema_key>/schemas/apps/panel/objects/position</schema_key>
    <value>
      <int>0</int>
    </value>
  </entry>
  <!-- Possibly more entry elements -->
</entrylist>]]></programlisting>
          </listitem>
          <listitem>
            <para>Chaves que especificam as applets, as preferências das applets, e os painéis em que as applets residem. Por exemplo, a seguinte amostra de <filename>panel-default-setup.entries</filename> especifica a applet de <application>Lista de Janelas</application>, no painel inferior:</para>
            <programlisting><![CDATA[<entrylist base="/apps/panel/default_setup/applets/window_list">
  <entry>
    <key>object_type</key>
    <schema_key>/schemas/apps/panel/objects/object_type</schema_key>
    <value>
      <string>bonobo-applet</string>
    </value>
  </entry>
  <entry>
    <key>toplevel_id</key>
    <schema_key>/schemas/apps/panel/objects/toplevel_id</schema_key>
    <value>
      <string>bottom_panel</string>
    </value>
  </entry>
  <entry>
    <key>position</key>
    <schema_key>/schemas/apps/panel/objects/position</schema_key>
    <value>
      <int>2</int>
    </value>
  </entry>
  <!-- Possibly more entry elements -->
  <entry>
    <key>bonobo_iid</key>
    <schema_key>/schemas/apps/panel/objects/bonobo_iid_type</schema_key>
    <value>
      <string>OAFIID:GNOME_WindowListApplet</string>
    </value>
  </entry>
</entrylist>]]></programlisting>
            <para>O OAFIID é um identificador único de uma applet. Para saber o OAFIID de uma applet específica, consulte o ficheiro <filename>.server</filename> dessa applet no directório <filename>/usr/lib/bonobo/servers</filename>. Por exemplo, o seguinte excerto de <filename>GNOME_Wncklet_Factory.server</filename> indica o OAFIID da applet <application>Lista de Janelas</application> (Window List):</para>
            <programlisting><![CDATA[<oaf_server iid="OAFIID:GNOME_WindowListApplet" 
type="factory" location="OAFIID:GNOME_Wncklet_Factory">]]></programlisting>
          </listitem>
        </orderedlist>
      </sect3>
      <sect3 id="gconf-3">
        <title>Definir Preferências De Painéis Individuais e Objectos de Painel</title>
        <para>Para definir as preferências de um painel e os seus objectos realize os seguintes passos:</para>
        <orderedlist>
          <listitem>
            <para>Inicie uma sessão no GNOME, e configure os painéis da forma desejada.</para>
          </listitem>
          <listitem>
            <para>Utilize a opção <option>--dump</option> com a ferramenta de linha de comando <command>gconftool-2</command> para gerar um ficheiro que contenha a descrição XML da sua configuração do painel. A opção <option>--dump</option> gera uma lista que contém todas as chaves de preferências contidas num directório de repositório <application>GConf</application> por sí especificado.</para>
            <para>Por exemplo, o seguinte comando cria uma descrição XML da configuração por omissão do painel num ficheiro denominado <filename>configuracao-meu-painel.entries</filename>:</para>
            <screen><userinput>gconftool-2 --dump /apps/panel &gt; configuracao-meu-painel.entries</userinput></screen>
          </listitem>
          <listitem>
            <para>Abra o ficheiro <filename>configuracao-meu-painel.entries</filename> num editor de texto e altere o ficheiro conforme desejado.</para>
            <para>Por exemplo, poderá desejar alterar a localização dos ficheiros que definem os iniciadores. De seguida apresenta-se um excerto de um ficheiro gerado com a opção <option>--dump</option>:</para>
            <programlisting><![CDATA[<entry>
  <key>objects/object_16/launcher_location</key>
  <schema_key>/schemas/apps/panel/objects/launcher_location</schema_key>
  <value>
    <string>hadjaha-00adce02f7.desktop</string>
  </value>
</entry>]]></programlisting>
            <para>No exemplo acima, poderá desejar alterar a referência a <filename>hadjaha-00adce02f7.desktop</filename> para outro ficheiro de definição de iniciador que esteja disponível de forma global.</para>
            <para>Quando gera uma configuração de painel com a opção <option>--dump</option>, as posições dos objectos de painel são posições absolutas. Poderá desejar alterar as posições dos objectos de painel de posições absolutas para posições relativas. O objecto mais à esquerda do painel tem um valor de <systemitem>position</systemitem> igual a <literal>0</literal>. O objecto seguinte tem um <systemitem>position</systemitem> de <literal>1</literal>, e em diante. Se desejar que as posições dos objectos sejam relativas em relação ao lado direito do painel, defina o valor da chave <systemitem>right_stick</systemitem> como <literal>true</literal>.</para>
<!--Give full key name for position.-->
          </listitem>
          <listitem>
            <para>Utilize a opção <option>--load</option> com a ferramenta de linha de comando <command>gconftool-2</command> para definir os valores da base de configuração por omissão para serem os valores constantes no ficheiro <filename>my-panel-setup.entries</filename>. Por exemplo, o seguinte comando define os valores das chaves na base de configuração por omissão como sendo o das respectivas chaves em <filename>my-panel-setup.entries</filename>:</para>
            <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.defaults \
  --load my-panel-setup.entries</userinput></screen>
          </listitem>
        </orderedlist>
      </sect3>
    </sect2>
  </sect1>
  <sect1 id="gconf-9">
    <title>Definir as Preferências de Aparência e Comportamento</title>
    <para>As secções seguintes descrevem como atribuir valores obrigatórios ou por omissão a preferências de aparência e comportamento.</para>
    <sect2 id="gconf-19">
      <title>Definir Preferências de Fontes</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>fontes, definir</secondary>
      </indexterm>
      <indexterm>
        <primary>fontes</primary>
        <secondary>definir utilizando o GConf</secondary>
      </indexterm>
      <para>Para definir as preferências de fontes, deverá alterar os valores de duas chaves. A tabela seguinte lista as chaves a alterar, e a parte do interface de utilizador a que as chaves correspondem:</para>
      <informaltable frame="topbot">
        <tgroup cols="2" colsep="0" rowsep="0">
          <colspec colwidth="50*"/>
          <colspec colwidth="50*"/>
          <thead>
            <row rowsep="1">
              <entry>
                <para>Localização GConf</para>
              </entry>
              <entry>
                <para>Componente de Interface de Utilizador</para>
              </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry valign="top">
                <para>/desktop/gnome/interface/font_name</para>
              </entry>
              <entry valign="top">
                <para>Ferramenta de preferências de <application>Fonte</application>, opção <guilabel>Fonte de aplicação</guilabel></para>
              </entry>
            </row>
            <row>
              <entry valign="top">
                <para>/apps/nautilus/preferences/desktop_font</para>
              </entry>
              <entry valign="top">
                <para>Ferramenta de preferências de <application>Fonte</application>, opção <guilabel>Fonte do ambiente de trabalho</guilabel></para>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
      <para>Por exemplo, para definir <literal>Sans 12</literal> como a fonte de aplicação obrigatória, execute o seguinte comando:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.mandatory \
  --type string \
  --set /desktop/gnome/interface/font_name "Sans 12"</userinput></screen>
      <para><indexterm><primary>ambiente de trabalho</primary><secondary>preferências de fontes, definir com o GConf</secondary></indexterm>Para definir <literal>palatino 12</literal> como a fonte por omissão dos objectos do ambiente de trabalho, execute o seguinte comando:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.defaults \
  --type string \
  --set /apps/nautilus/preferences/desktop_font "palatino 12"</userinput></screen>
    </sect2>
    <sect2 id="gconf-20">
      <title>Definir Preferências do Fundo da Área de Trabalho</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>fundo da área de trabalho, definir</secondary>
      </indexterm>
      <indexterm>
        <primary>fundo da área de trabalho</primary>
        <secondary>preferências, definir com o GConf</secondary>
      </indexterm>
      <para>Para definir as preferências de fundo do ambiente de trabalho, deverá alterar os valores das chaves de preferências na localização <systemitem>/desktop/gnome/background</systemitem>. Por exemplo, para definir uma imagem de fundo obrigatória, execute o seguinte comando:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.mandatory \
  --type string \
  --set /desktop/gnome/background/picture_filename <replaceable>ficheiro.png</replaceable></userinput></screen>
      <para>Para definir um valor por omissão para esta preferência, execute o seguinte comando:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.defaults \
  --type string \
  --set /desktop/gnome/background/picture_filename <replaceable>ficheiro.png</replaceable></userinput></screen>
      <para>Pode também definir outras preferências de fundos. Para informação sobre outras preferências de fundos, consulte o ficheiro de definição de esquema <filename>desktop_gnome_background.schemas</filename>.</para>
    </sect2>
    <sect2 id="gconf-21">
      <title>Definir Preferências da Imagem de Logotipo</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>imagem de logotipo, definir</secondary>
      </indexterm>
      <indexterm>
        <primary>ecrã de logotipo</primary>
        <secondary>imagem, definir utilizando o GConf</secondary>
      </indexterm>
      <para>Para definir as preferências da imagem de logotipo, deverá alterar o valor das chaves de preferências na localização <systemitem>/apps/gnome-session/options/</systemitem>. Por exemplo, se não quiser que os utilizadores vejam a imagem de logotipo, defina um valor obrigatório da seguinte forma:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.mandatory \
  --type bool \
  --set /apps/gnome-session/options/show_splash_screen false</userinput></screen>
      <para>Para definir um valor por omissão para esta preferência, execute o seguinte comando:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.defaults \
  --type bool \
  --set /apps/gnome-session/options/show_splash_screen false</userinput></screen>
      <para>Pode também definir outras preferências da imagem de logotipo. Para informação sobre outras preferências de imagem de logotipo, consulte o ficheiro de definição de esquema <filename>gnome-session.schemas</filename>.</para>
    </sect2>
  </sect1>
  <sect1 id="gconf-28">
    <title>Repor Valores de Preferências por Omissão</title>
    <indexterm>
      <primary>GConf</primary>
      <secondary>repor valores de preferências por omissão</secondary>
    </indexterm>
    <indexterm>
      <primary>valores de preferências</primary>
      <secondary>repor valores por omissão utilizando o GConf</secondary>
    </indexterm>
    <para>Para repor os valores de preferências por omissão a um utilizador, execute o seguinte comando:</para>
    <screen><userinput>gconftool-2 --direct \
  --config-source <replaceable>base-configuracao-utilizador</replaceable> \
  --recursive-unset</userinput></screen>
    <para>Substitua <replaceable>base-configuracao-utilizador</replaceable> pela base de configuração no directório <filename>.gconf</filename> da pasta pessoal do utilizador.</para>
    <para>Este comando repõe os valores de todas as chaves de preferências, em todos os subdirectórios, anulando as definições do utilizador e repondo as omissões constantes na base de configuração por omissão.</para>
  </sect1>
</chapter>


<chapter id="menustructure-0">
  <title>Personalizar Menus</title>

  <anchor id="menustructure-22"/>

  <anchor id="menustructure-TBL-12"/>

  <anchor id="menustructure-TBL-17"/>

  <highlights>
    <para>A informação neste capítulo descreve como o Ambiente de Trabalho GNOME implementa os menus e como os poderá personalizar.</para>
  </highlights>

  <sect1 id="menustructure-1">
    <title>Introdução aos Menus</title>

    <indexterm>
      <primary>menus</primary>

      <secondary>introdução</secondary>
    </indexterm>

    <para>O Ambiente de Trabalho GNOME implementa os menus de acordo com a <ulink url="http://www.freedesktop.org/wiki/Standards/menu-spec">especificação de menus XDG</ulink>. Ao suportar esta especificação, o GNOME permite-lhe:</para>

    <itemizedlist>
      <listitem>
        <para>Facilmente personalizar a hierarquia do seu menu. Pode editar um pequeno número de ficheiros para personalizar a hierarquia do seu menu. Não necessita de alterar as aplicações ou mover ficheiros.</para>
      </listitem>

      <listitem>
        <para>Instalar aplicações facilmente. Não necessita de indicar informação sobre a hierarquia de menus às aplicações, ao instalá-las.</para>
      </listitem>

      <listitem>
        <para>Configurar os menus de forma a que os utilizadores não os consigam alterar.</para>
      </listitem>
    </itemizedlist>

    <para>Os menus no Ambiente de Trabalho GNOME utilizam os seguintes componentes:</para>

    <itemizedlist>
      <listitem>
        <para>Ficheiros de definição de menus</para>
      </listitem>

      <listitem>
        <para>Ficheiros de definição de iniciadores</para>
      </listitem>

      <listitem>
        <para>Ficheiros de definição de directórios</para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 id="menustructure-13">
    <title>Ficheiros de Definição de Menus</title>

    <indexterm>
      <primary>ficheiros de definição de menu</primary>
    </indexterm>

    <indexterm>
      <primary>ficheiro .menu</primary>

      <see>ficheiros de definição de menu</see>
    </indexterm>

    <para>Os ficheiros menu definem a hierarquia de menus a utilizar na barra de menu do GNOME. Ao alterar estes ficheiros, poderá personalizar os menus de todos os utilizadores, ou apenas um utilizador dependendo da localização do ficheiro <filename>applications.menu</filename> que alterar.</para>

    <para>Os ficheiros de menu devem residir em <filename>$XDG_CONFIG_DIRS/menus/applications.menu</filename>. Se <envar>$XDG_CONFIG_DIRS</envar><footnote>
        <para>$XDG_CONFIG_DIRS é a variável de ambiente definida na <ulink url="http://www.freedesktop.org/Standards/basedir-spec">especificação de directório base XDG</ulink>.</para>
      </footnote> não estiver definida, então o caminho por omissão <filename>/etc/xdg</filename> será utilizado. Tal implica que a versão especificada pelo utilizador poderá estar localizada em <filename>$XDG_CONFIG_HOME/menus/applications.menu</filename> que é procurado primeiro. Se <envar>$XDG_CONFIG_HOME</envar> não estiver definida, será utilizado o caminho por omissão <filename>~/.config</filename>. Os directórios que surgirem primeiro em <envar>$XDG_CONFIG_DIRS</envar> têm precedência caso existam vários ficheiros <filename>applications.menu</filename>. O primeiro ficheiro encontrado é utilizado e os ficheiros subsequentes serão ignorados.</para>

    <para>Caso esteja confuso sobre a ordem em que os caminhos são procurados, verifique a lista seguinte indicando a ordem de resolução para os ficheiros <filename>applications.menu</filename>:</para>

    <orderedlist>
      <listitem>
        <para>Procurar em cada directório constante em <envar>$XDG_CONFIG_HOME</envar> com vista a encontrar <filename>menus/applications.menu</filename>. Se <envar>$XDG_CONFIG_HOME</envar> não estiver definida, por omissão apontará para o directório <filename>~/.config/</filename>.</para>
      </listitem>

      <listitem>
        <para>Procurar em cada directório constante em <envar>$XDG_CONFIG_DIRS</envar> com vista a encontrar <filename>menus/applications.menu</filename>. Se <filename>$XDG_CONFIG_DIRS</filename> não estiver definida, por omissão apontará para o directório <filename>/etc/xdg/</filename>.</para>
      </listitem>

      <listitem>
        <para>Utiliza o primeiro ficheiro <filename>applications.menu</filename> encontrado.</para>
      </listitem>
    </orderedlist>

    <para>Pode observar um exemplo de um ficheiro <filename>.menu</filename> em <xref linkend="example-menu"/>. Neste exemplo, o menu de nível de topo denomina-se <literal>Applications</literal>, que é especificado utilizando o elemento <literal>&lt;Name&gt;</literal>. O menu <literal>Applications</literal> contém um único submenu, mas são permitidos vários submenus. Cada submenu poderá também ter um elemento <literal>&lt;Include&gt;</literal>. O objectivo do elemento <literal>&lt;Include&gt;</literal> é o de realizar um filtro sobre o conjunto de definições de iniciadores disponíveis utilizando regras de equivalência.</para>

    <para>Por exemplo, o elemento <literal>&lt;Category&gt;</literal> é uma regra de equivalência básica que selecciona uma <link linkend="menustructure-desktopentry"><emphasis>definição de iniciador</emphasis></link> apenas se a <link linkend="category-key">chave <literal>Categories</literal></link> contiver o conteúdo do elemento <literal>&lt;Category&gt;</literal>. No exemplo, o menu <literal>Accessories</literal> irá incluir uma <emphasis>definição de iniciador</emphasis> apenas se contiver <quote>Utility</quote> mas não <quote>System</quote> na chave "Categories". Para mais informações sobre a chave "Categories", consulte <xref linkend="menustructure-desktopentry"/>.</para>

    <example id="example-menu">
      <title>Exemplo de um ficheiro <filename>.menu</filename></title>

      <para><programlisting>&lt;!DOCTYPE Menu PUBLIC "-//freedesktop//DTD Menu 1.0//EN"
 "http://www.freedesktop.org/standards/menu-spec/1.0/menu.dtd"&gt;
&lt;Menu&gt;
  &lt;Name&gt;Applications&lt;/Name&gt;
  &lt;Directory&gt;Applications.directory&lt;/Directory&gt;

  &lt;!-- Ler as localizações padrão de ficheiros .directory e .desktop --&gt;
  &lt;DefaultAppDirs/&gt;
  &lt;DefaultDirectoryDirs/&gt;

  &lt;!-- Submenu Acessórios (Accessories) --&gt;
  &lt;Menu&gt;
    &lt;Name&gt;Accessories&lt;/Name&gt;
    &lt;Directory&gt;Accessories.directory&lt;/Directory&gt;
    &lt;Include&gt;
      &lt;And&gt;
        &lt;Category&gt;Utility&lt;/Category&gt;
        &lt;Not&gt;
          &lt;Category&gt;System&lt;/Category&gt;
        &lt;/Not&gt;
      &lt;/And&gt;
    &lt;/Include&gt;
  &lt;/Menu&gt; &lt;!-- Fim do Accessories --&gt;

  &lt;!-- possivelmente mais submenus --&gt;

&lt;/Menu&gt; &lt;!-- Fim do Applications --&gt;
</programlisting></para>
    </example>

    <para><xref linkend="menustructure-xmlmenu"/> descreve alguns dos elementos dos ficheiros <filename>.menu</filename>. Para uma descrição mais detalhada, consulte a <ulink url="http://www.freedesktop.org/wiki/Standards/menu-spec">especificação de menu XDG</ulink>.</para>

    <table frame="topbot" id="menustructure-xmlmenu">
      <title>Elementos do Ficheiro de Definição de Menu</title>

      <tgroup cols="2" colsep="0" rowsep="0">
        <colspec colname="colspec2" colwidth="33.83*"/>

        <colspec colname="colspec3" colwidth="80.00*"/>

        <thead>
          <row rowsep="1">
            <entry><para>Elemento</para></entry>

            <entry><para>Descrição</para></entry>
          </row>
        </thead>

        <tbody>
          <row>
            <entry colname="colspec2" valign="top"><para><literal>&lt;Menu&gt;</literal> </para></entry>

            <entry colname="colspec3" valign="top"><para>O elemento raiz que poderá conter elementos <literal>&lt;Menu&gt;</literal> encadeados que definem submenus. A forma como estes elementos são encadeados determina a estrutura do menu.</para></entry>
          </row>

          <row>
            <entry colname="colspec2" valign="top"><para><literal>&lt;Name&gt;</literal> </para></entry>

            <entry colname="colspec3" valign="top"><para>Especifica o nome do menu. Todos os elementos <literal>&lt;Menu&gt;</literal> têm de conter um elemento <literal>&lt;Name&gt;</literal>.</para></entry>
          </row>

          <row>
            <entry colname="colspec2" valign="top"><para><literal>&lt;Directory&gt;</literal>
            </para></entry>

            <entry colname="colspec3" valign="top"><para>Especifica o nome do ficheiro de definição de directório que especifica o nome, comentário, e ícone do menu. Se este elemento não estiver especificado, é utilizado o elemento <literal>&lt;Name&gt;</literal> para apresentar o nome do menu.</para><para>Por omissão, os ficheiros <filename>.directory</filename> são procurados na localização <filename>$XDG_DATA_DIRS/desktop-directories/</filename> tal como definido na <citetitle>especificação de menu XDG.</citetitle></para></entry>
          </row>

          <row>
            <entry colname="colspec2"><literal>&lt;DefaultAppDirs&gt;</literal></entry>

            <entry colname="colspec3">Esta é uma instrução que indica que todas as definições de iniciadores disponíveis em <filename>$XDG_DATA_DIRS/applications/</filename> deverão ser analisadas. Se esta instrução não for incluída, então estas localizações não serão analizadas em busca de definições de iniciadores.</entry>
          </row>

          <row>
            <entry colname="colspec2"><literal>&lt;DefaultDirectoryDirs&gt;</literal></entry>

            <entry colname="colspec3">Esta é uma instrução que indica que todas as definições de directórios disponíveis em <filename>$XDG_DATA_DIRS/desktop-directories/</filename> deverão ser analisadas. Se a instrução não estiver incluída, estas localizações não serão analisadas em busca de definições de directórios.</entry>
          </row>

          <row>
            <entry colname="colspec2" valign="top"><para><literal>&lt;Include&gt;</literal></para></entry>

            <entry colname="colspec3">Contém uma lista de regras de equivalência com base nas quais são gerados os conteúdos de menus. Poderá incluir as regras de equivalência <literal>&lt;Filename&gt;</literal>, <literal>&lt;Category&gt;</literal>, <literal>&lt;And&gt;</literal>, <literal>&lt;Or&gt;</literal>, <literal>&lt;Not&gt;</literal>, ou <literal>&lt;All&gt;</literal>. Se estiver presente mais do que uma regra, será feito um OR lógico destas por forma a que <emphasis>definições de iniciadores</emphasis> que respeite qualquer uma das regras seja incluído.</entry>
          </row>

          <row>
            <entry colname="colspec2"><literal>&lt;Exclude&gt;</literal></entry>

            <entry colname="colspec3">O oposto de <literal>&lt;Include&gt;</literal> visto que qualquer <emphasis>definições de iniciadores</emphasis> que tenha equivalência neste elemento será excluído do conjunto anterior de elementos incluídos. Por esta razão, este elemento deverá surgir após o elemento <literal>&lt;Include&gt;</literal>.</entry>
          </row>

          <row>
            <entry colsep="colspec2"><literal>&lt;Filename&gt;</literal></entry>

            <entry colname="colspec3">Uma regra de equivalência que selecciona um <emphasis>definição de iniciador</emphasis> quando o Desktop File-Id equivale ao conteúdo do elemento <literal>&lt;Filename&gt;</literal>.</entry>
          </row>

          <row>
            <entry colname="colspec2"><literal>&lt;Category&gt;</literal></entry>

            <entry colname="colspec3">Uma regra de equivalência que selecciona um <emphasis>definição de iniciador</emphasis> quando a chave Categories equivale ao conteúdo do elemento <literal>&lt;Category&gt;</literal>.</entry>
          </row>

          <row>
            <entry colname="colspec2"><literal>&lt;And&gt;</literal></entry>

            <entry colname="colspec3">Uma regra de equivalência que selecciona um <emphasis>definição de iniciador</emphasis> quando são seleccionadas pelo <emphasis>todas</emphasis> as regras de equivalência encadeadas do elemento <literal>&lt;And&gt;</literal>.</entry>
          </row>

          <row>
            <entry colname="colspec2"><literal>&lt;Or&gt;</literal></entry>

            <entry colname="colspec3">Uma regra de equivalência que selecciona um <emphasis>definição de iniciador</emphasis> quando são seleccionadas pelo <emphasis>qualquer</emphasis> de entre as regras de equivalência encadeadas do elemento <literal>&lt;Or&gt;</literal>.</entry>
          </row>

          <row>
            <entry colname="colspec2"><literal>&lt;Not&gt;</literal></entry>

            <entry colname="colspec3">Uma regra de equivalência que não selecciona um <emphasis>definição de iniciador</emphasis> quando são seleccionadas pelo <emphasis>qualquer</emphasis> de entre as regras de equivalência encadeadas do elemento <literal>&lt;Not&gt;</literal>.</entry>
          </row>

          <row>
            <entry colname="colspec2"><literal>&lt;All&gt;</literal></entry>

            <entry colname="colspec3">Uma regra de equivalência que selecciona todos os <emphasis>definições de iniciadores</emphasis>.</entry>
          </row>
        </tbody>
      </tgroup>
    </table>
  </sect1>

  <sect1 id="menustructure-desktopentry">
    <title>Ficheiros de Definição de Iniciador</title>

    <anchor id="menustructure-6"/>

    <indexterm>
      <primary>ficheiros de definição de iniciador</primary>
    </indexterm>

    <indexterm>
      <primary>ficheiros .desktop</primary>

      <see>ficheiros de definição de iniciador</see>
    </indexterm>

    <para>Um <firstterm>ficheiro de definição de iniciador</firstterm> é um ficheiro de dados que disponibiliza informação sobre um item num menu. O ficheiro de definição de iniciador especifica os detalhes do item tais como o nome, comando a executar, um ícone, etc. Também contém palavras-chave que determinam a localização do item na hierarquia de menus.</para>

    <para>Desktop entry files must reside in the
    <filename>$XDG_DATA_DIRS/applications</filename> directory and must have a
    <filename>.desktop</filename> file extension. If
    <envar>$XDG_DATA_DIRS</envar><footnote>
        <para>$XDG_DATA_DIRS é a variável de ambiente definida na <ulink url="http://www.freedesktop.org/Standards/basedir-spec">especificação de directório base XDG</ulink>.</para>
      </footnote> is not set, then the default path is
    <filename>/usr/share</filename> is used. This also implies that user
    specific desktop entries may be located at
    <filename>$XDG_DATA_HOME/applications</filename> which is
    searched first. If <envar>$XDG_DATA_HOME</envar> is not set, then the
    default path <filename>~/.local/share</filename> is used. Desktop entries
    are collected from all directories in the <envar>$XDG_DATA_DIRS</envar>
    environment variable. Directories which appear first in
    <envar>$XDG_DATA_DIRS</envar> are given precedence when there are
    several <filename>.desktop</filename> files with the same name.</para>

    <para>O seguinte é um exemplo de um ficheiro de definição de iniciador:</para>

    <programlisting>[Desktop Entry]
Encoding=UTF-8
Name=Calculator
Name[fr]=Calculatrice
...
Comment=Perform calculations
Comment[fr]=Effectue des calculs compliqués
...
Exec=gcalctool
Icon=accessories-calculator
Terminal=false
Type=Application
StartupNotify=true
Categories=GNOME;GTK;Utility;Calculator</programlisting>

    <para><xref linkend="menustructure-TBL-7"/> descreve as chaves mais importantes nos ficheiros de definição de iniciadores. Para obter mais informações sobre os ficheiros de definição de iniciadores, consulte a <ulink url="http://www.freedesktop.org/Standards/desktop-entry-spec">Especificação de Definição de Iniciadores XDG</ulink>.</para>

    <table frame="topbot" id="menustructure-TBL-7">
      <title>Chaves de Definição de Iniciador</title>

      <tgroup cols="2" colsep="0" rowsep="0">
        <colspec colname="colspec0" colwidth="25.25*"/>

        <colspec colname="colspec1" colwidth="74.75*"/>

        <thead>
          <row rowsep="1">
            <entry><para>Chave de Definição de Iniciador</para></entry>

            <entry><para>Descrição</para></entry>
          </row>
        </thead>

        <tbody>
          <row>
            <entry colname="colspec0" id="category-key" valign="top"><para>
            <literal>Categories (Categorias)</literal> </para></entry>

            <entry colname="colspec1" valign="top"><para>Especifica as palavras-chave que descrevem o item. As palavras-chave são separadas por pontos-e-vírgula (;). Para ver uma lista das palavras-chave de categoria mais comuns, consulte a especificação de definição de iniciador em <ulink url="http://www.freedesktop.org/Standards/menu-spec"> http://www.freedesktop.org/Standards/menu-spec</ulink></para><para><link linkend="menustructure-13">Ficheiros de Definição de Menu</link> mapeiam definições de iniciadores para menus utilizando regras de equivalência sobre as chaves de Categorias.</para></entry>
          </row>

          <row>
            <entry valign="top"><para> <literal>Comment (Comentário)</literal>
            </para></entry>

            <entry valign="top"><para>Especifica uma descrição breve do item. O comentário é apresentado como uma dica de menu quando se coloca o rato sobre o item no menu.</para></entry>
          </row>

          <row>
            <entry valign="top"><para> <literal>Encoding (Codificação)</literal>
            </para></entry>

            <entry valign="top"><para>Especifica a codificação do ficheiro de definição de iniciador.</para></entry>
          </row>

          <row>
            <entry valign="top"><para> <literal>Exec (Executar)</literal> </para></entry>

            <entry valign="top"><para>Especifica o comando a executar quando selecciona o item no menu.</para></entry>
          </row>

          <row>
            <entry colname="colspec0" valign="top"><para>
            <literal>Icon (Ícone)</literal> </para></entry>

            <entry colname="colspec1" valign="top"><para>Especifica o nome do ficheiro de um ícone que represente o item. Não especifica o caminho do ficheiro, nem a extensão do mesmo.</para></entry>
          </row>

          <row>
            <entry><literal>MimeType (Tipo MIME)</literal></entry>

            <entry>Especifica os tipos MIME que a aplicação é capaz de manipular.</entry>
          </row>
         
          <row>
            <entry valign="top"><para> <literal>Name (Nome)</literal> </para></entry>

            <entry valign="top"><para>Especifica o nome do item. Este nome é apresentado no item no menu.</para></entry>
          </row>

          <row>
            <entry valign="top"><para> <literal>NoDisplay (Não Apresentar)</literal> </para></entry>

            <entry valign="top"><para>Esta opção significa <quote>Esta aplicação existe, mas não deve ser visível nos menus</quote>.</para></entry>
          </row>

          <row>
            <entry colname="colspec0" valign="top"><para>
            <literal>Terminal (Consola)</literal> </para></entry>

            <entry colname="colspec1" valign="top"><para>Especifica se o comando que consta na chave <literal>Exec</literal> deve ser executado numa janela de consola. Se o valor for <literal>true</literal> (verdadeiro) o comando será executado numa janela de consola.</para><para>Se o comando não criar uma janela onde correr, o valor desta chave terá de ser <literal>true</literal>.</para></entry>
          </row>

          <row>
            <entry colname="colspec0" valign="top"><para>
            <literal>Type (Tipo)</literal> </para></entry>

            <entry colname="colspec1" valign="top"><para>Especifica o tipo de item. Este valor é um dos seguintes:</para><itemizedlist>
                <listitem>
                  <para><literal>Application</literal> (Aplicação): Um item que inicia uma aplicação.</para>
                </listitem>

                <listitem>
                  <para><literal>Link</literal> (Atalho): Um item que é um atalho para um ficheiro, pasta, ou um recurso remoto (tal como um servidor FTP, uma página web, uma partilha Windows...).</para>
                </listitem>

                <listitem>
                  <para><literal>FSDevice</literal> (Dispositivo de Sistema de Ficheiros): Um item que representa um dispositivo de sistema de ficheiros.</para>
                </listitem>

                <listitem>
                  <para><literal>Directory</literal> (Directório): Um item que representa um Directório.</para>
                </listitem>
              </itemizedlist></entry>
          </row>

        </tbody>
      </tgroup>
    </table>

    <para>Para mais informações sobre chaves nos ficheiros de definição de iniciadores, consulte a especificação de definição de iniciador no seguinte URL:</para>

    <literallayout>
    <ulink url="http://www.freedesktop.org/Standards/desktop-entry-spec">http://www.freedesktop.org/Standards/desktop-entry-spec</ulink>
    </literallayout>

    <note>
      <para>Iniciadores de painel e objectos de área de trabalho também utilizam ficheiros de definição de iniciador. Os ficheiros de definição de iniciador em painéis e objectos de área de trabalho disponibilizam a mesma informação que os itens num menu. Por exemplo, os ficheiros de definição de iniciador disponibilizam o comando a executar quando o utilizador selecciona o iniciador ou objecto.</para>
    </note>
  </sect1>

  <sect1 id="menustructure-14">
    <title>Ficheiros de Definição de Directório</title>

    <indexterm>
      <primary>ficheiros de definição de directório</primary>
    </indexterm>

    <indexterm>
      <primary>ficheiros .directory</primary>

      <see>ficheiros de definição de directório</see>
    </indexterm>

    <para>Um <firstterm>ficheiro de definição de directório</firstterm> é um ficheiro de dados que disponibiliza informação sobre um menu. O ficheiro de definição de directório especifica detalhes do meni tais como o seu nome, a sua dica, e o ícone. Os ficheiros de definição de directório têm a extensão <filename>.directory</filename>.</para>

    <para>Ficheiros de definição de directório têm de residir no directório <filename>$XDG_DATA_DIRS/desktop-directories</filename>. Se <envar>$XDG_DATA_DIRS</envar> não estiver definida, será utilizado o caminho por omissão <filename>/usr/share</filename>. Tal implica que definições de directório definidas pelos utilizadores poderão residir em <filename>$XDG_DATA_HOME/desktop-directories</filename> que é analisado primeiro. Se <envar>$XDG_DATA_HOME</envar> não estiver definida, será utilizado o caminho por omissão <filename>~/.local/share</filename>. Definições de directórios são recolhidas de todos os directórios constantes na variável de ambiente  <envar>$XDG_DATA_DIRS</envar>. Directórios que surjam primeiro em <envar>$XDG_DATA_DIRS</envar> têm precedência caso existam vários ficheiros <filename>.directory</filename> com o mesmo nome.</para>

    <para>O seguinte é um exemplo de ficheiro de definição de directório:</para>

    <programlisting>[Desktop Entry]
Name=Graphics
Name[pt]=Gráficos
...
Comment=Graphics applications
Comment[pt]=Aplicações de gráficos
...
Icon=gnome-graphics
Type=Directory
Encoding=UTF-8</programlisting>

    <para><xref linkend="menustructure-TBL-15"/> descreve as chaves mais importantes nos ficheiros de definição de directórios.</para>

    <table frame="topbot" id="menustructure-TBL-15">
      <title>Chaves de Definição de Directório</title>

      <tgroup cols="2" colsep="0" rowsep="0">
        <colspec colname="colspec0" colwidth="27.07*"/>

        <colspec colname="colspec1" colwidth="72.93*"/>

        <thead>
          <row rowsep="1">
            <entry><para>Chave de Definição de Directório</para></entry>

            <entry><para>Descrição</para></entry>
          </row>
        </thead>

        <tbody>
          <row>
            <entry colname="colspec0" valign="top"><para>
            <literal>Name (Nome)</literal> </para></entry>

            <entry colname="colspec1" valign="top"><para>Especifica o nome do menu. Este nome é apresentado no menu.</para></entry>
          </row>

          <row>
            <entry colname="colspec0" valign="top"><para>
            <literal>Comment (Comentário)</literal> </para></entry>

            <entry colname="colspec1" valign="top"><para>Especifica uma descrição abreviada do menu. O comentário é apresentado como uma dica quando se coloca o rato sobre o menu.</para></entry>
          </row>

          <row>
            <entry colname="colspec0" valign="top"><para>
            <literal>Icon (Ícone)</literal> </para></entry>

            <entry colname="colspec1" valign="top"><para>Especifica o nome de ficheiro do ícone que representa o menu. Não especifica o caminho para o ficheiro, nem a extensão do mesmo.</para></entry>
          </row>

          <row>
            <entry valign="top"><para> <literal>Type (Tipo)</literal> </para></entry>

            <entry valign="top"><para>Especifica o tipo de menu. O valor desta chave é sempre <literal>Directory</literal>.</para></entry>
          </row>
        </tbody>
      </tgroup>
    </table>
  </sect1>

  <sect1 id="menustructure-2">
    <title>Editar os Menus de Sistema</title>

    <anchor id="menustructure-23"/>

    <indexterm>
      <primary>menus</primary>

      <secondary>editar</secondary>
    </indexterm>

    <para>Pode editar os ficheiros de configuração de menus e os ficheiros de dados dos menus manualmente para personalizar os menus.</para>

    <sect2 id="menustructure-3">
      <title>Adicionar Menus</title>

      <anchor id="menustructure-19"/>

      <anchor id="menustructure-20"/>

      <indexterm>
        <primary>menus</primary>

        <secondary>adicionar</secondary>
      </indexterm>

      <para>Para adicionar um menu para todos os utilizadores, realize os seguintes passos:</para>

      <orderedlist>
        <listitem>
          <para>Crie um ficheiro de definição de directório para o item que deseja adicionar. Coloque o ficheiro no directório <filename>$XDG_DATA_DIRS/desktop-directories</filename>. Para mais informações sobre os ficheiros de definição de directórios, consulte <xref linkend="menustructure-14"/>.</para>
        </listitem>

        <listitem>
          <para>Localize o ficheiro <filename>$XDG_CONFIG_DIRS/menus/applications.menu</filename>.</para>
        </listitem>

        <listitem>
          <para>No ficheiro <filename>.menu</filename>, adicione um elemento <literal>&lt;Menu&gt;</literal> para o novo menu. Para mais informações sobre os ficheiros <filename>.menu</filename>, consulte <xref linkend="menustructure-13"/>.</para>
        </listitem>

        <listitem>
          <para>Crie um elemento <literal>&lt;Name&gt;</literal> sob o <literal>&lt;Menu&gt;</literal>. O conteúdo do elemento deverá ser o nome do menu.</para>
        </listitem>

        <listitem>
          <para>Crie um elemento <literal>&lt;Directory&gt;</literal> sob o <literal>&lt;Menu&gt;</literal>. O conteúdo do elemento deverá ser o nome do ficheiro de definição de directório.</para>
        </listitem>

        <listitem>
          <para>Consulte <xref linkend="menustructure-4"/> para informação sobre como adicionar um item a um menu.</para>
        </listitem>
      </orderedlist>

      <para>Da próxima vez que o utilizador iniciar uma sessão, o menu deverá surgir na barra de menu.</para>

      <note>
        <title>O Menu Não É Visível?</title>

        <para>Caso não tenha especificado quaisquer regras de equivalência no elemento <literal>&lt;Include&gt;</literal>, ou se a regra não tiver tido equivalência com qualquer uma das definições de iniciador, o menu não será visível na barra de menu.</para>
      </note>
    </sect2>

    <sect2 id="menustructure-4">
      <title>Adicionar um Item a um Menu</title>

      <indexterm>
        <primary>menus</primary>

        <secondary>adicionar itens a</secondary>
      </indexterm>

      <para>Para adicionar um item a um menu para todos os utilizadores, execute os seguintes passos:</para>

      <orderedlist>
        <listitem>
          <para>Crie um ficheiro de definição de iniciador para o item que deseja adicionar. Para mais informações sobre ficheiros de definição de iniciador, consulte <xref linkend="menustructure-desktopentry"/>.</para>
        </listitem>

        <listitem>
          <para>Coloque o ficheiro de definição de iniciador na pasta <filename>$XDG_DATA_DIRS/applications</filename>.</para>
        </listitem>

        <listitem>
          <para>Localize o ficheiro <filename>$XDG_CONFIG_DIRS/menus/applications.menu</filename>.</para>
        </listitem>

        <listitem>
          <para>Certifique-se de que um elemento <literal>&lt;Menu&gt;</literal> contém um elemento <literal>&lt;Include&gt;</literal> com uma regra de equivalência que selecciona o ficheiro de definição de iniciador criado no passo 1.</para>
        </listitem>
      </orderedlist>

      <para>Da próxima vez que o utilizador iniciar uma sessão, o item de menu estará na localização especificada.</para>
    </sect2>

    <sect2 id="menustructure-9">
      <title>Editar as Propriedades de um Menu</title>

      <indexterm>
        <primary>menus</primary>

        <secondary>editar as propriedades de</secondary>
      </indexterm>

      <para>Para editar as propriedades de um menu para todos os utilizadores, realize os seguintes passos:</para>

      <orderedlist>
        <listitem>
          <para>Localize o ficheiro <filename>$XDG_CONFIG_DIRS/menus/applications.menu</filename>.</para>
        </listitem>

        <listitem>
          <para>Procure a entrada <literal>&lt;Menu&gt;</literal> neste ficheiro que corresponder ao menu que deseja alterar. Tome nota do nome do ficheiro de definição de directório contido no elemento <literal>&lt;Directory&gt;</literal>.</para>
        </listitem>

        <listitem>
          <para>Localize o ficheiro de definição de directório deste menu. Altere o conteúdo para alterar as propriedades do menu. Para mais informações sobre os ficheiros <filename>.directory</filename>, consulte <xref linkend="menustructure-14"/>.</para>
        </listitem>
      </orderedlist>
    </sect2>

    <sect2 id="menustructure-10">
      <title>Editar um Item de Menu</title>

      <indexterm>
        <primary>menus</primary>

        <secondary>editar itens de menu</secondary>
      </indexterm>

      <para>Para editar um item de menu, realize os seguintes passos:</para>

      <orderedlist>
        <listitem>
          <para>Localize o ficheiro de definição de iniciador no directório <filename>$XDG_DATA_DIRS/applications</filename> que corresponde ao item de menu.</para>
        </listitem>

        <listitem>
          <para>Edite o ficheiro de definição de iniciador para alterar as propriedades do item de menu. Para mais informações sobre ficheiros de definição de iniciadores, consulte <xref linkend="menustructure-desktopentry"/>.</para>
        </listitem>
      </orderedlist>
    </sect2>

    <sect2 id="menustructure-11">
      <title>Apagar um Item de um Menu</title>

      <indexterm>
        <primary>menus</primary>

        <secondary>apagar itens de menu</secondary>
      </indexterm>

      <para>Para apagar um item de um menu para todos os utilizadores:</para>

      <orderedlist>
        <listitem>
          <para>Localize o ficheiro <filename>$XDG_CONFIG_DIRS/menus/applications.menu</filename>.</para>
        </listitem>

        <listitem>
          <para>Procure a entrada <literal>&lt;Menu&gt;</literal> neste ficheiro que contém o ficheiro de definição de iniciador que deseja apagar.</para>
        </listitem>

        <listitem>
          <para>Insira um elemento <literal>&lt;Exclude&gt;</literal> após a etiqueta de fecho do elemento <literal>&lt;Include&gt;</literal>. Certifique-se de que esta está dentro do elemento <literal>&lt;Menu&gt;</literal> determinado no passo 2.</para>
        </listitem>

        <listitem>
          <para>Insira a regra de equivalência de nome de ficheiro em <literal>&lt;Filename&gt;</literal> como um subelemento de <literal>&lt;Exclude&gt;</literal> para excluir especificamente um ficheiro de definição de iniciador.</para>
        </listitem>
      </orderedlist>

      <para>Da próxima vez que o utilizador iniciar uma sessão, o item de menu não será apresentado no menu. <xref linkend="menustructure-deleteitem"/> demonstra como isto é feito no ficheiro <filename>applications.menu</filename>. A definição de iniciador <filename>dasher.desktop</filename> é explicitamente excluída do menu de acessibilidade.</para>

      <example id="menustructure-deleteitem">
        <title>Apagar um Item de um Menu</title>

        <programlisting>&lt;!-- ... --&gt;

  &lt;Menu&gt;
    &lt;Name&gt;Accessibility&lt;/Name&gt;
    &lt;Directory&gt;Accessibility.directory&lt;/Directory&gt;
    &lt;Include&gt;
      &lt;And&gt;
        &lt;Category&gt;Accessibility&lt;/Category&gt;
        &lt;Not&gt;&lt;Category&gt;Settings&lt;/Category&gt;&lt;/Not&gt;
      &lt;/And&gt;
    &lt;/Include&gt;
    &lt;Exclude&gt;
      &lt;Filename&gt;dasher.desktop&lt;/Filename&gt;
    &lt;/Exclude&gt;
  &lt;/Menu&gt;

&lt;!-- ... --&gt;
</programlisting>
      </example>
    </sect2>
  </sect1>

  <sect1 id="menustructure-usermenus">
    <title>Editar Menus de Utilizadores e Juntar Menus</title>

    <indexterm>
      <primary>menus</primary>

      <secondary>editar menus de utilizadores</secondary>
    </indexterm>

    <para>Pode utilizar a seguinte aplicação do Ambiente de Trabalho GNOME para editar os menus dos utilizadores:</para>

    <itemizedlist>
      <listitem>
        <para>Editor de Menus do GNOME</para>
      </listitem>
    </itemizedlist>

    <para>Encontra-se disponível um editor de menus simples com o qual os utilizadores podem editar os seus menus. Para mais informações, consulte <ulink url="ghelp:user-guide?goseditmainmenu-1">Trabalhar Com Menus</ulink> no <ulink url="ghelp:user-guide">Manual de Utilização do GNOME</ulink>. Em alternativa, pode criar e editar manualmente um ficheiro de menu do utilizador.</para>

    <para>Para criar manualmente um menu personalizado para um utilizador, tem de existir o ficheiro <filename>$XDG_CONFIG_HOME/menus/applications.menu</filename>. Caso <envar>$XDG_CONFIG_HOME</envar> não esteja definida, será utilizado o directório por omissão <filename>~/.config</filename>. Visto esta ser a primeira localização onde é procurado o ficheiro <filename>applications.menu</filename>, ganha precedência sobre todos os restantes ficheiros de menu.</para>

    <para>Os menus dos utilizadores podem conter todos os elementos descritos em <xref linkend="menustructure-13"/>. Para uma lista completa dos elementos permitidos, consulte a <ulink url="http://www.freedesktop.org/wiki/Standards/menu-spec">especificação de menu XDG</ulink>.</para>

    <para>Visto que os ficheiros de menu dos utilizadores ganham precedência sobre o ficheiro de menu do sistema, irá substituir completamente o menu de sistema excepto se explicitamente <emphasis>juntar</emphasis> o menu de sistema. Informação sobre juntar menus está disponível nas seguintes subsecções.</para>

    <sect2>
      <title>Juntar o Menu de Sistema</title>

      <indexterm>
        <primary>menus</primary>

        <secondary>juntar o menu de sistema</secondary>
      </indexterm>

      <para>Muitas vezes, um utilizador apenas deseja adicionar ou remover itens do menu para além do menu de sistema padrão. Para suportar alterações isoladas deste tipo, recomenda-se que utilize o elemento <literal>&lt;MergeFile&gt;</literal> com o atributo <literal>type="parent"</literal> dentro do ficheiro <filename>applications.menu</filename> do utilizador.</para>

      <para>O elemento <literal>&lt;MergeFile&gt;</literal> permite que um menu seja junto com o conteúdo do ficheiro de menu do utilizador. Quando especifica o atributo <literal>type="parent"</literal>, o conteúdo do elemento <literal>&lt;MergeFile&gt;</literal> são ignorados e o ficheiro <filename>applications.menu</filename> seguinte no directório <filename>$XDG_CONFIG_DIRS/menus</filename> é utilizado para a junção.</para>

      <note>
        <title>Especificações Antigas</title>

        <para>Especificações antigas não incluiam o atributo <literal>type</literal> e apenas requeriam que a localização do ficheiro de menu fosse junta como sendo o conteúdo do elemento <literal>&lt;MergeFile&gt;</literal>. Assim, poderá ainda ver uma localização especificada no conteúdo de <literal>&lt;MergeFile&gt;</literal>, mesmo quando <literal>type="parent"</literal>.</para>
      </note>

      <para>A junção é realizada da seguinte forma:</para>

      <itemizedlist>
        <listitem>
          <para>Os filhos do elemento <literal>&lt;Menu&gt;</literal> raiz no ficheiro de menu junto <footnote>
              <para>O ficheiro de menu junto refere-se ao <filename>applications.menu</filename> seguinte no directório <filename>$XDG_CONFIG_DIRS/menus</filename>.</para>
            </footnote> são substituídos pelo elemento <literal>&lt;MergeFile&gt;</literal> no ficheiro de menu base.</para>
        </listitem>

        <listitem>
          <para>Todos os elementos <literal>&lt;Menu&gt;</literal> filhos com o mesmo nome são consolidades num único elemento <literal>&lt;Menu&gt;</literal>. Tal é realizado acrescentando todos os elementos filhos de cada elemento <literal>&lt;Menu&gt;</literal> com o mesmo nome na <emphasis>última</emphasis> ocorrência do elemento de menu.</para>
        </listitem>
      </itemizedlist>

      <para><xref linkend="menustructure-systemmerge"/> apresenta um exemplo de um ficheiro de menu do utilizador a juntar explicitamente o ficheiro de menu do sistema.</para>

      <example id="menustructure-systemmerge">
        <title>Juntar o Menu de Sistema</title>

        <programlisting>&lt;!DOCTYPE Menu PUBLIC "-//freedesktop//DTD Menu 1.0//EN"
 "http://www.freedesktop.org/standards/menu-spec/menu-1.0.dtd"&gt;

&lt;Menu&gt;
  &lt;Name&gt;Applications&lt;/Name&gt;
  &lt;MergeFile type="parent"&gt;/etc/xdg/menus/applications.menu&lt;/MergeFile&gt;
  &lt;Menu&gt;
    &lt;Name&gt;Accessibility&lt;/Name&gt;
    &lt;Exclude&gt;
      &lt;Filename&gt;dasher.desktop&lt;/Filename&gt;
    &lt;/Exclude&gt;
  &lt;/Menu&gt;
&lt;/Menu&gt;
</programlisting>
      </example>
    </sect2>

    <sect2>
      <title>Juntar Menus Arbitrários</title>

      <indexterm>
        <primary>menus</primary>

        <secondary>juntar menus arbitrários</secondary>
      </indexterm>

      <para>Ficheiros de menu arbitrários podem ser juntos de forma semelhante ao dos menus de sistema. A diferença é que o atributo <literal>type</literal> tem de ser definido como <literal>path</literal> ou ser excluído do elemento <literal>&lt;MergeFile&gt;</literal> por forma a realizar este tipo de junção.</para>

      <para>A junção é realizada da mesma forma excepto que a localização do <emphasis>ficheiro de junto</emphasis> é especificada no conteúdo do elemento <literal>&lt;MergeFile&gt;</literal>.</para>
    </sect2>
  </sect1>
</chapter>

<chapter id="themes-0">
  <title>Instalar Temas</title>
  <highlights>
    <para>Este capítulo descreve os temas, as definições disponíveis no Ambiente de Trabalho GNOME para temas, como instalar opções das configurações de temas, e como criar uma opção personalizada.</para>
  </highlights>
  <sect1 id="themes-1">
    <title>Introdução aos Temas</title>
    <indexterm>
      <primary>temas</primary>
      <secondary>introdução</secondary>
    </indexterm>
    <para>Um tema é um grupo de definições coordenadas que especifica a aparência visual de uma parte do Ambiente de Trabalho GNOME. Os utilizadores podem seleccionar temas para alterar a aparência do Ambiente de Trabalho GNOME.</para>
    <para>Um tema contém definições que afectam diferentes partes do Ambiente de Trabalho GNOME, como sendo:</para>
    <variablelist>
      <varlistentry>
        <term>Controlos</term>
        <listitem>
          <para><indexterm><primary>temas</primary><secondary>opções de controlos</secondary><tertiary>introdução</tertiary></indexterm><indexterm><primary>Temas GTK+</primary><see>temas, opções de controlos</see></indexterm>A definição de controlos de um tema determina a aparência visual das janelas, painéis e applets. A definição de controlos também determina a aparência visual dos itens do interface GNOME-base que surgem nas janelas, painéis e applets, tais como menus, ícones, e botões. Algumas das opções de definição de controlos que estão disponíveis foram criadas para necessidades especiais de acessibilidade. Os utilizadores podem seleccionar uma opção para as definições dos controlos na secção <guilabel>Controlos</guilabel> na ferramenta de preferências <application>Tema</application>.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Moldura da janela</term>
        <listitem>
          <para><indexterm><primary>temas</primary><secondary>opções da moldura da janela</secondary><tertiary>introdução</tertiary></indexterm><indexterm><primary>Temas do Metacity</primary><see>temas, opções da moldura da janela</see></indexterm>A definição de moldura da janela de um tema determina apenas a aparência das molduras em volta das janelas. Os utilizadores podem escolher uma opção para a definição da moldura da janela na secção <guilabel>Margem da Janela</guilabel> da ferramenta de preferências <application>Tema</application>.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Icon (Ícone)</term>
        <listitem>
          <para><indexterm><primary>temas</primary><secondary>opções de ícones</secondary><tertiary>introdução</tertiary></indexterm><indexterm><primary>temas de ícones</primary><see>temas, opções de ícones</see></indexterm>A definição de ícones de um tema determina a aparência dos ícones em painéis e no fundo da área de trabalho. Os utilizadores podem seleccionar uma opção para a definição de ícone na secção <guilabel>Ícones</guilabel> da ferramenta de preferências <application>Tema</application>.</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect1>
  <sect1 id="themes-17">
    <title>Ficheiro de Índice do Tema</title>
    <para>Cada tema tem um ficheiro de índice que define as características do tema. O nome do ficheiro de índice é <filename>/usr/share/themes/<replaceable>theme-name</replaceable>/index.theme</filename>.</para>
    <para>O seguinte é um ficheiro de índice de tema exemplificativo:</para>
    <programlisting>[Desktop Entry]
Type=X-GNOME-Metatheme
Name=High Contrast Large
Name[pt]=Alto Contraste Grande
Comment=Large black-on-white text and icons
Comment[pt]=Texto e ícones grandes em preto sobre branco
Encoding=UTF-8

[X-GNOME-Metatheme]
GtkTheme=HighContrastLargePrint
IconTheme=HighContrast
MetacityTheme=Atlanta
ApplicationFont=sans 18
</programlisting>
    <para>A tabela seguinte descreve as chaves no ficheiro de índice de tema:</para>
    <table frame="topbot" id="themes-TBL-18">
      <title>Chaves no Ficheiro de Índice de Tema</title>
      <tgroup cols="2" colsep="0" rowsep="0">
        <colspec colname="colspec0" colwidth="33*"/>
        <colspec colname="colspec1" colwidth="67*"/>
        <thead>
          <row rowsep="1">
            <entry>
              <para>Chave do Ficheiro de Índice</para>
            </entry>
            <entry>
              <para>Descrição</para>
            </entry>
          </row>
        </thead>
        <tbody>
          <row>
            <entry colname="colspec0" valign="top">
              <para>
                <literal>Type (Tipo)</literal>
              </para>
            </entry>
            <entry colname="colspec1" valign="top">
              <para>Especifica que este tema determina a aparência de várias opções de tema, tais como controlos, molduras das janelas, e ícones.</para>
            </entry>
          </row>
          <row>
            <entry colname="colspec0" valign="top">
              <para>
                <literal>Name (Nome)</literal>
              </para>
            </entry>
            <entry colname="colspec1" valign="top">
              <para>O nome do tema. Este é o nome do tema que é apresentado na ferramenta de preferências <application>Tema</application>.</para>
            </entry>
          </row>
          <row>
            <entry colname="colspec0" valign="top">
              <para>
                <literal>Comment (Comentário)</literal>
              </para>
            </entry>
            <entry colname="colspec1" valign="top">
              <para>Uma breve descrição do tema. Este é o texto que é apresentado sob o nome do tema na ferramenta de preferências de <application>Tema</application>.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <literal>GtkTheme</literal>
              </para>
            </entry>
            <entry valign="top">
              <para>Corresponde às definições de controlos na ferramenta de preferências <application>Tema</application>. Especifica que opção de definição de controlos aplicar às janelas, painéis e applets.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <literal>IconTheme</literal>
              </para>
            </entry>
            <entry valign="top">
              <para>Corresponde à definição de ícones na ferramenta de preferências de <application>Tema</application>. Especifica que opção de definição de ícones aplicar nos painéis e no fundo da área de trabalho.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <literal>MetacityTheme</literal>
              </para>
            </entry>
            <entry valign="top">
              <para>Corresponde à definição de moldura de janela na ferramenta de preferências de <application>Tema</application>. Especifica que opção de definição de moldura de janela aplicar às janelas.</para>
            </entry>
          </row>
          <row>
            <entry colname="colspec0" valign="top">
              <para>
                <literal>ApplicationFont</literal>
              </para>
            </entry>
            <entry colname="colspec1" valign="top">
              <para>Corresponde à definição de fonte de aplicações na ferramenta de preferências de <application>Fonte</application>.</para>
            </entry>
          </row>
        </tbody>
      </tgroup>
    </table>
  </sect1>
  <sect1 id="themes-3">
    <title>Instalar uma Nova Opção de Controlo</title>
    <indexterm>
      <primary>temas</primary>
      <secondary>opções de controlo</secondary>
      <tertiary>instalar</tertiary>
    </indexterm>
    <para>Pode adicionar uma nova opção das definições de controlos na ferramenta de preferências de <application>Tema</application>. As opções de controlos residem no directório <filename>/usr/share/themes</filename>. A estrutura típica de uma opção de controlo no sistema de ficheiros é a seguinte:</para>
    <variablelist>
      <varlistentry>
        <term>Ficheiro de opção</term>
        <listitem>
          <para>
            <filename>/usr/share/themes/<replaceable>nome-da-opção</replaceable>/gtk-2.0/gtkrc</filename>
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Ficheiros de imagem</term>
        <listitem>
          <para>
            <filename>/usr/share/themes/<replaceable>nome-da-opção</replaceable>/pixmaps/*.*</filename>
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <para>Normalmente, é fornecida uma nova opção para a definição de controlos como um ficheiro <filename>.tar.gz</filename>. Para instalar a nova opção de controlos, realize o unzip do ficheiro <filename>.tar.gz</filename>, depois o untar do ficheiro <filename>.tar</filename> para dentro do directório <filename>/usr/share/themes</filename>.</para>
    <para>Os utilizadores podem instalar as suas próprias opções para a definição dos controlos. Se um utilizador instalar uma opção, esta é armazenada no directório <filename>$HOME/.themes</filename>.</para>
  </sect1>
  <sect1 id="themes-5">
    <title>Para Instalar Uma Nova Opção de Moldura de Janela</title>
    <indexterm>
      <primary>temas</primary>
      <secondary>opções de moldura de janela</secondary>
      <tertiary>instalar</tertiary>
    </indexterm>
    <para>Pode adicionar uma nova opção para a definição de moldura de janela utilizando a ferramenta de preferências <application>Tema</application>. Opções de moldura de janela residem no directório <filename>/usr/share/themes/<replaceable>option-name</replaceable>/metacity-1</filename>. A estrutura típica de uma opção de moldura de janela no sistema de ficheiros é a seguinte:</para>
    <variablelist>
      <varlistentry>
        <term>Ficheiro de opção</term>
        <listitem>
          <para>
            <filename>/usr/share/themes/<replaceable>nome-da-opção</replaceable>/metacity-1/metacity-theme-1.xml</filename>
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Ficheiros de imagem</term>
        <listitem>
          <para>
            <filename>/usr/share/themes/<replaceable>nome-da-opção</replaceable>/metacity-1/*.*</filename>
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <para>Normalmente, é fornecida uma nova opção para a definição de moldura de janela como um ficheiro <filename>.tar.gz</filename>. Para instalar a nova opção de moldura de janela, realize o unzip do ficheiro <filename>.tar.gz</filename>, depois o untar do ficheiro <filename>.tar</filename> para dentro do directório <filename>/usr/share/themes</filename>.</para>
    <para>Os utilizadores podem instalar as suas próprias opções para a definição de molduras de janela. Se um utilizador instalar uma opção, esta é armazenada no directório <filename>$HOME/.themes</filename>.</para>
  </sect1>
  <sect1 id="themes-16">
    <title>Para Instalar uma Nova Opção de Ícones</title>
    <indexterm>
      <primary>temas</primary>
      <secondary>opções de ícones</secondary>
      <tertiary>instalar</tertiary>
    </indexterm>
    <para>Pode adicionar uma nova opção para a definição de ícones utilizando a ferramenta de preferências <application>Tema</application>. Opções de ícones residem no directório <filename>/usr/share/icons/<replaceable>option-name</replaceable></filename>. A estrutura típica de uma opção de ícones no sistema de ficheiros é a seguinte:</para>
    <variablelist>
      <varlistentry>
        <term>Ficheiro de opção</term>
        <listitem>
          <para>
            <filename>/usr/share/icons/<replaceable>nome-da-opção</replaceable></filename>
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Ficheiros de imagem</term>
        <listitem>
          <para>
            <filename>/usr/share/icons/<replaceable>nome-da-opção</replaceable>/icons/*.*</filename>
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <para>Normalmente, é fornecida uma nova opção para a definição de ícones como um ficheiro <filename>.tar.gz</filename>. Para instalar a nova opção de ícones, realize o unzip do ficheiro <filename>.tar.gz</filename>, depois o untar do ficheiro <filename>.tar</filename> para dentro do directório <filename>/usr/share/icons</filename>.</para>
    <para>Os utilizadores podem instalar as suas próprias opções para a definição de ícones. Se um utilizador instalar uma opção, esta é armazenada no directório <filename>$HOME/.icons/<replaceable>option-name</replaceable></filename>.</para>
  </sect1>
  <sect1 id="themes-11">
    <title>Instalar Ícones para Temas</title>
    <indexterm>
      <primary>temas</primary>
      <secondary>instalar ícones</secondary>
    </indexterm>
    <para>O Ambiente de Trabalho GNOME disponibiliza vários temas que foram desenhados para utilizadores com necessidades visuais especiais. Por exemplo, alguns dos temas foram desenhados para utilizadores com visão reduzida. Várias versões dos ícones poderão ser necessárias para que o ícone seja apresentado adequadamente em cada tema.</para>
    <para>Poderá ter de instalar um novo ícone para uma aplicação. Quando instala um novo ícone, tem de criar várias versões do ícone, para que este seja correctamente apresentado nos temas. Tem de criar várias versões dos seguintes tipos de ícones:</para>
    <itemizedlist>
      <listitem>
        <para>Ícones que são utilizados dentro das aplicações do Ambiente de Trabalho GNOME.</para>
      </listitem>
      <listitem>
        <para>Ícones que são utilizados internamente pelas aplicações GTK+, ou ícones base do GTK+.</para>
      </listitem>
    </itemizedlist>
    <para>Quando instala um novo ícone, tem de criar várias versões do mesmo, para que este seja correctamente apresentado nos temas. Pode criar os ícones em vários formatos, por exemplo o formato Portable Network Graphic (PNG). O tamanho sugerido para ícones para o ambiente de trabalho é 48 pixels por 48 pixels. Com base neste tamanho, a maioria dos temas consegue redimensionar os ícones.</para>
    <para>Quando instalar um novo ícone, cria as seguintes versões em 48 pixel por 48 pixel do mesmo:</para>
    <itemizedlist>
      <listitem>
        <para>Ícone normal</para>
      </listitem>
      <listitem>
        <para>Ícone de baixo contraste</para>
      </listitem>
      <listitem>
        <para>Ícone de contraste elevado</para>
      </listitem>
      <listitem>
        <para>Ícone de contraste elevado invertido</para>
      </listitem>
    </itemizedlist>
    <para>Se possível, crie também versões de 16 pixel por 16 pixel de cada um dos ícones acima, para temas que não requeiram impressão de grande tamanho.</para>
    <para>Instale os ícones na localização dos ficheiros de imagem que está especificada para o tema em <xref linkend="themes-3"/> ou <xref linkend="themes-5"/>. Por exemplo, para adicionar ícones ao tema HighContrastLargePrint, adicione os ícones ao directório <filename>/usr/share/themes/HighContrastLargePrint/pixmaps</filename>. Adicione referências aos ícones nos ficheiros de temas relevantes. Por exemplo, para adicionar ícones ao tema HighContrastLargePrint, adicione referências aos ícones ao ficheiro <filename>/usr/share/themes/HighContrastLargePrint/gtk-2.0/gtkrc</filename>. Altere o ficheiro <filename>gtkrc</filename> do tema para associar o ícone com o identificador de ícone base do GTK.</para>
    <para>Para mais informações sobre como criar ícones para iniciadores de aplicações e para painéis, consulte <ulink url="http://www.freedesktop.org/Standards/icon-theme-spec">http://www.freedesktop.org/Standards/icon-theme-spec</ulink>.</para>
  </sect1>
  <sect1 id="themes-15">
    <title>Para Criar uma Opção Personalizada de Controlo</title>
    <indexterm>
      <primary>temas</primary>
      <secondary>opções de controlo</secondary>
      <tertiary>criar personalizada</tertiary>
    </indexterm>
    <para>Se as opções para as definições de controlos não se adequam às necessidades dos seus utilizadores, pode criar opções de controlos personalizadas. Para as criar, realize os seguintes passos:</para>
    <orderedlist>
      <listitem>
        <para>Crie uma estrutura de directórios para a opção no directório <filename>/usr/share/themes</filename>. Utilize a mesma estrutura de directórios utilizada por outras opções. Por exemplo, para criar uma opção denominada SmallPrint, crie os seguintes directórios:</para>
        <itemizedlist>
          <listitem>
            <para>
              <filename>/usr/share/themes/SmallPrint</filename>
            </para>
          </listitem>
          <listitem>
            <para>
              <filename>/usr/share/themes/SmallPrint/gtk-2.0</filename>
            </para>
          </listitem>
        </itemizedlist>
      </listitem>
      <listitem>
        <para>Localize o ficheiro <filename>gtkrc</filename> que mais se aproxima de corresponder às necessidades dos seus utilizadores. Copie o ficheior para o directório <filename>gtk-2.0</filename> da sua nova opção.</para>
      </listitem>
      <listitem>
        <para>Abra o ficheiro <filename>gtkrc</filename> num editor de texto, e altere os atributos dos elementos de interface de acordo com as suas necessidades.</para>
      </listitem>
      <listitem>
        <para>Se a nova opção incluir imagens, instale as images da nova opção no directório <filename>pixmaps</filename> da sua nova opção. Se a nova opção utilizar imagens de outra opção, não necessita de criar cópias das imagens para a sua nova opção. Em vez disso, assegure-se de que a referência às imagens na entrada <literal>pixmap_path</literal> do ficheiro <filename>gtkrc</filename> está correcta.</para>
      </listitem>
    </orderedlist>
    <para>Os utilizadores podem agora seleccionar a nova opção para as definições de controlos.</para>
    <para>Para mais informações sobre os ficheiros <filename>gtkrc</filename>, consulte <ulink url="http://developer.gnome.org/doc/API/2.0/gtk/index.html">http://developer.gnome.org/doc/API/2.0/gtk/index.html</ulink>.</para>
  </sect1>
</chapter>

<chapter id="fontconfig-0">
  <title>Configurar Fontes</title>
  <highlights>
    <para>Este capítulo descreve como configurar fontes no Ambiente de Trabalho GNOME.</para>
  </highlights>
  <sect1 id="fontconfig-1">
    <title>Introdução à Configuração de Fontes</title>
    <indexterm>
      <primary>configurar fontes</primary>
      <see>fontes</see>
    </indexterm>
    <indexterm>
      <primary>fontconfig</primary>
      <see>fontes</see>
    </indexterm>
    <indexterm>
      <primary>fontes</primary>
      <secondary>introdução</secondary>
    </indexterm>
    <para>O Ambiente de Trabalho GNOME utiliza a biblioteca de configuração e personalização de fontes <literal>fontconfig</literal>. A biblioteca <literal>fontconfig</literal> consegue utilizar todos os tipos de fontes, incluíndo fontes PostScript Type 1 e TrueType.</para>
    <para>A biblioteca <literal>fontconfig</literal> fornece uma lista de todas as fontes disponíveis num sistema com o Ambiente de Trabalho GNOME. Para criar esta lista, o <literal>fontconfig</literal> procura nos directórios especificados no ficheiro <filename>/etc/fonts/fonts.conf</filename>. Para ver todas as fontes disponíveis num sistema, aceda à localização <literal>fonts:///</literal> no gestor de ficheiros do seu sistema.</para>
    <para>Para mais informações sobre a biblioteca <literal>fontconfig</literal>, consulte o seguinte URL:</para>
    <literallayout>
      <ulink url="http://freedesktop.org/software/fontconfig">http://freedesktop.org/software/fontconfig</ulink>
    </literallayout>
  </sect1>
  <sect1 id="fontconfig-4">
    <title>Substituição de Fonte</title>
    <indexterm>
      <primary>fontes</primary>
      <secondary>substituição</secondary>
    </indexterm>
    <para>A biblioteca <literal>fontconfig</literal> realiza substituição de fontes quando fontes inteiras, ou caracteres individuais, não existem. Se o sistema necessita de apresentar uma fonte que não se encontra disponível, <literal>fontconfig</literal> tenta apresentar outra, semelhante. Por exemplo, se uma página web pedir a apresentação da fonte Verdana, e essa fonte não estiver instalada no sistema, <literal>fontconfig</literal> apresenta uma fonte semelhante, tal como a Helvetica. A lista de fontes semelhantes está definida no ficheiro <filename>/etc/fonts/fonts.conf</filename>.</para>
    <para>Se o sistema necessitar de apresentar um caracter que não existe na fonte seleccionada, <literal>fontconfig</literal> tenta apresentar o caracter noutra fonte semelhante. Por exemplo, poderá seleccionar a Bitstream Vera Sans como sendo a fonte da aplicação Editor de Texto. A família de fontes Bitstream Vera não inclui caracteres Cirílicos. Caso abra um documento que contenha caracteres Cirílicos, o Editor de Texto utilizará uma fonte semelhante que inclua os caracteres Cirílicos.</para>
    <para>A biblioteca <literal>fontconfig</literal> também define nomes alternativos (ou alcunhas) para fontes, por exemplo, <literal>serif</literal>, <literal>sans-serif</literal>, e <literal>monospace</literal>. Quando selecciona um dos nomes alternativos de uma fonte, o sistema utiliza a primeira fonte que estiver definida nesse nome alternativo em <filename>/etc/fonts/fonts.conf</filename>.</para>
  </sect1>
  <sect1 id="fontconfig-2">
    <title>Para Adicionar uma Fonte para Todos os Utilizadores</title>
    <indexterm>
      <primary>fontes</primary>
      <secondary>adicionar para todos os utilizadores</secondary>
    </indexterm>
    <para>Para adicionar para todos os utilizadores, realize os seguintes passos:</para>
    <orderedlist>
      <listitem>
        <para>Copie o ficheiro da fonte para um dos directórios indicados no ficheiro <filename>/etc/fonts/fonts.conf</filename>. Normalmente, as fontes estão armazenadas no directório <filename>/usr/share/fonts/</filename>.</para>
      </listitem>
      <listitem>
        <para>A biblioteca <literal>fontconfig</literal> actualiza a lista de fontes automaticamente. Se a lista de fontes não for actualizada, execute o seguinte comando:</para>
        <screen><userinput>fc-cache <replaceable>nome-directório</replaceable></userinput></screen>
      </listitem>
    </orderedlist>
  </sect1>
  <sect1 id="fontconfig-3">
    <title>Para Adicionar uma Fonte para um Utilizador Específico</title>
    <indexterm>
      <primary>fontes</primary>
      <secondary>adicionar para utilizadores específicos</secondary>
    </indexterm>
    <para>Para adicionar uma fonte para um utilizador específico, realize os seguintes passos:</para>
    <orderedlist>
      <listitem>
        <para>Copie o ficheiro da fonte para o directório <filename>$HOME/.fonts</filename> do utilizador. Se arrastar o ficheiro de fonte para a localização <literal>fonts:///</literal> no gestor de ficheiros, o ficheiro de fonte é copiado para o directório <filename>$HOME/.fonts</filename>.</para>
      </listitem>
      <listitem>
        <para>A biblioteca <literal>fontconfig</literal> actualiza a lista de fontes automaticamente. Se a lista de fontes não for actualizada, execute o seguinte comando:</para>
        <screen><userinput>fc-cache <replaceable>nome-directório</replaceable></userinput></screen>
      </listitem>
    </orderedlist>
  </sect1>
</chapter>


<chapter id="mimetypes-0">
  <title>Tipos MIME</title>
  <anchor id="mimetypes-TBL-3"/>
  <anchor id="mimetypes-TBL-6"/>
  <anchor id="mimetypes-TBL-8"/>

  <highlights>
    <para>Este capítulo descreve como as aplicações detectam os tipos MIME, como registar tipos MIME, e como adicionar aplicações ao Ambiente de Trabalho GNOME.</para>
  </highlights>

  <para>O propósito deste capítulo é o de simplificar para um administrador a compreensão de como configurar diferentes partes da base de dados MIME e dar uma visão geral do sistema MIME. Assim sendo, <emphasis>não</emphasis> iremos entrar em detalhes quando tal não for necessário. Para os detalhes mais profundos, recomenda-se que consulte a <ulink url="http://www.freedesktop.org/Standards/shared-mime-info-spec">especificação XDG de informação mime partilhada</ulink>.</para>

  <sect1 id="mimetypes-intro">
    <title>Introdução aos Tipos MIME</title>
    <anchor id="mimetypes-1"/>

    <indexterm>
      <primary>Tipos MIME</primary>

      <secondary>introdução</secondary>
    </indexterm>

    <para>Um tipo de <firstterm>Extensão Multi-propósito de Correio pela Internet</firstterm> [<acronym>MIME</acronym>] identifica o formato de um ficheiro. Aplicações tais como um navegador de Internet e aplicações de email utilizam o tipo MIME de um ficheiro para decidir que acções realizar sobre o mesmo. Por exemplo, uma aplicação de email pode utilizar o tipo MIME para detectar o formato de um anexo e seleccionar o visualizador adequado ao ficheiro, tal como abrir um documento de texto com o <application>gedit</application>.</para>

    <para>Outro exemplo é o gestor de ficheiros <application>Nautilus</application> que necessita de saber o tipo MIME de um ficheiro para realizar as seguintes tarefas:</para>

    <itemizedlist>
      <listitem>
        <para>Abrir o ficheiro na aplicação adequada.</para>
      </listitem>

      <listitem>
        <para>Apresentar uma expressão que descreve o tipo de ficheiro.</para>
      </listitem>

      <listitem>
        <para>Apresentar um ícone adequado para representar o ficheiro.</para>
      </listitem>

      <listitem>
        <para>Apresentar uma lista de outras aplicações que podem abrir o ficheiro.</para>
      </listitem>
    </itemizedlist>

    <para>Os tipos MIME foram originalmente propostos como um standard para identificar o corpo de uma mensagem e-mail. Agora, muitos sistemas utilizam os tipos MIME para identificar o formato de quaisquer ficheiros no sistema de ficheiros. Os tipos MIME são compostos por um <emphasis>tipo de media</emphasis> de topo seguido de um <emphasis>identificador de subtipo</emphasis>, separados por uma barra, <quote><literal>/</literal></quote>. Um exemplo de um tipo MIME é <literal>image/jpeg</literal>. O tipo de media neste exemplo é <quote><literal>image</literal></quote> e o identificador de subtipo é <quote><literal>jpeg</literal></quote>. O tipo de media de topo é suposto ser uma categorização genérica sobre o conteúdo do ficheiro, enquanto que o identificador de subtipo é suposto identificar especificamente o formato do ficheiro.</para>

    <para>Actualmente existem oito tipos de media aprovados pela <acronym>IANA</acronym> [Autoridade de Atribuição de Nomenclaturas da Internet]. Estes oito tipos de media são <simplelist type="inline">
        <member>aplicação</member>

        <member>audio</member>

        <member>imagem</member>

        <member>mensagem</member>

        <member>modelo</member>

        <member>múltiplas-partes</member>

        <member>texto</member>

        <member>vídeo</member>
      </simplelist>. Existem muitos subtipos para cada tipo de media; para mais informações, consulte os <ulink url="http://www.iana.org/assignments/media-types/">Tipos de Media MIME</ulink> na página web da <ulink url="http://www.iana.org/">IANA</ulink>.</para>

    <para>A implementação dos tipos MIME no GNOME adere à <ulink url="http://www.freedesktop.org/Standards/shared-mime-info-spec">especificação XDG de informação mime partilhada</ulink>. Esta especificação disponibiliza as seguintes vantagens:</para>

    <itemizedlist>
      <listitem>
        <para>Localizações padrão para todos os ficheiros relacionados MIME.</para>
      </listitem>

      <listitem>
        <para>Uma forma padronizada para as aplicações registarem informação sobre um novo tipo MIME.</para>
      </listitem>

      <listitem>
        <para>Uma forma padronizada para obter o tipo MIME de um ficheiro.</para>
      </listitem>

      <listitem>
        <para>Uma forma padronizada para obter informação sobre um tipo MIME.</para>
      </listitem>
    </itemizedlist>

    <para>O resto do capítulo descreve os ficheiros e directórios que compõem a base de dados MIME, detalhes sobre os ficheiros de código-fonte XML, como criar ou alterar tipos MIME, como registar aplicações como manipuladores de determinados tipos MIME e, finalmente, como adicionar uma aplicação ao Ambiente de Trabalho GNOME.</para>
  </sect1>

  <sect1 id="mimetypes-database">
    <title>A Base de Dados MIME</title>
    <anchor id="mimetypes-4"/>
    <anchor id="mimetypes-5"/>

    <indexterm>
      <primary>Tipos MIME</primary>

      <secondary>base de dados</secondary>
    </indexterm>

    <para>A base de dados MIME é uma colecção de ficheiros que compõem:</para>

    <itemizedlist>
      <listitem>
        <para>O conjunto de tipos MIME conhecidos</para>
      </listitem>

      <listitem>
        <para>O método para determinar o tipo MIME de um ficheiro</para>
      </listitem>

      <listitem>
        <para>Meta informação sobre um tipo MIME, tal como a descrição legível por humanos a utilizar quando se apresentam ficheiros deste tipo.</para>
      </listitem>
    </itemizedlist>

    <sect2 id="mimetypes-location">
      <title>Localização</title>

      <para>Como administrador, o primeiro e mais importante passo para compreender o sistema MIME é aprender a localização onde estão armazenados estes ficheiros. Desde que foi escrita a primeira versão (ainda rascunho) da <ulink url="http://www.freedesktop.org/Standards/shared-mime-info-spec">especificação XDG de informação mime partilhada</ulink> pelo X Desktop Group, que esta utiliza a <ulink url="http://www.freedesktop.org/wiki/Standards/basedir-spec">especificação XDG de directórios base</ulink>. É altamente recomendado que se familiarize com esta especificação, visto também ser importante para outras tarefas de administração de sistemas tais como editar menus. Um breve resumo da localização dos directórios relacionados com a especificação MIME é apresentado abaixo.</para>

      <para>A base de dados MIME é criada a partir do conjunto de ficheiros localizados nos directórios <filename>$XDG_DATA_HOME/mime</filename> e <filename>$XDG_DATA_DIRS/mime</filename>. Se estas variáveis de ambiente não estiverem definidas, os valores por omissão serão <filename>~/.local/share</filename> e <filename>/usr/local/share:/usr/share</filename>, respectivamente. Tal como pode ser visto a partir do valor por omissão de <envar>$XDG_DATA_DIRS</envar>, cada variável de ambiente é na verdade uma lista de directórios separados por vírgulas. A base de dados do utilizador em <filename>$XDG_DATA_HOME/mime</filename> tem precedência sobre a base de dados de sistema em <filename>$XDG_DATA_DIRS/mime</filename>, caso sejam encontradas definições conflituantes. De forma similar à <citetitle>especificação XDG de mime partilhado</citetitle>, ir-nos-emos referir, ao longo do resto deste documento, a este conjunto de directórios como <literal>&lt;MIME&gt;</literal>.</para>

      <para>Por exemplo, assumindo caminhos por omissão para as variáveis de ambiente, <quote>Ler <filename>&lt;MIME&gt;/text/plain.xml</filename></quote> significa ler os seguintes ficheiros:</para>

      <itemizedlist>
        <listitem>
          <para><filename>~/.local/share/mime/text/plain.xml</filename></para>
        </listitem>

        <listitem>
          <para><filename>/usr/local/share/mime/text/plain.xml</filename></para>
        </listitem>

        <listitem>
          <para><filename>/usr/share/mime/text/plain.xml</filename></para>
        </listitem>
      </itemizedlist>
    </sect2>

    <sect2 id="mimetypes-contents">
      <title>Conteúdo</title>

      <para>O seguinte é uma lista de directórios e ficheiros que se podem encontrar dentro da base de dados MIME, juntamente com breves descrições:</para>

      <variablelist>
        <varlistentry>
          <term><filename>&lt;MIME&gt;/packages/</filename></term>

          <listitem>
            <para>Este directório contém um número indeterminado de ficheiros XML, cada um descrevendo uma colecção de tipos MIME. Por omissão, o ficheiro <filename>freedesktop.org.xml</filename> é instalado no directório <filename>/usr/share/mime/packages</filename>. Este ficheiro contém todos os tipos MIME por omissão que são largamente reconhecidos e utilizados.</para>

            <para>Aplicações que disponibilizam informação sobre novos tipos MIME deverão instalar aqui <emphasis>um único</emphasis> ficheiro XML novo. Dependendo do prefixo onde a aplicação é instalada, irá criar o ficheiro no subdirectório <filename>/mime/package</filename> de um dos directórios indicados em <envar>$XDG_DATA_HOME:$XDG_DATA_DIRS</envar>. Por exemplo, uma aplicação instalada em <filename>/usr/bin</filename> deverá instalar um novo ficheiro XML de código no directório <filename>/usr/share/mime/packages</filename>. Para mais informações sobre os ficheiros XML no directório <filename>packages</filename>, consulte <xref linkend="mimetypes-source-xml"/>.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><filename>&lt;MIME&gt;/<replaceable>MEDIA</replaceable>/<replaceable>SUBTIPO</replaceable>.xml</filename></term>

          <listitem>
            <para>Estes directórios e ficheiros são gerados automaticamente a partir da colecção de ficheiros XML de origem que estão no directório <filename>&lt;MIME&gt;/packages/</filename> pela aplicação <application>update-mime-database</application>. Por exemplo, para cada elemento <literal>mime-type</literal> no ficheiro <filename>/usr/share/mime/packages/freedesktop.org.xml</filename>, é criado um directório em <filename>/usr/share/mime/</filename> com o <emphasis>tido de media</emphasis> do tipo MIME. É criado um ficheiro XML nesse directório com o <emphasis>identificador de subtipo</emphasis> desse tipo MIME. O conteúdo do ficheiro de XML criado inclui comentários (e traduções destes), designações de subclasses e alcunhas (nomes alternativos).</para>

            <example>
              <title>Exemplo: o ficheiro <filename>/usr/share/mime/text/plain.xml</filename></title>

              <para><programlisting>&lt;?xml version='1.0' encoding='utf-8'?&gt;
&lt;mime-type xmlns="http://www.freedesktop.org/standards/shared-mime-info" type="text/plain"&gt;
&lt;!--Created automatically by update-mime-database. DO NOT EDIT!--&gt;
  &lt;comment&gt;plain text document&lt;/comment&gt;
  &lt;!-- possibly more translations --&gt;
  &lt;comment xml:lang="es"&gt;documento de texto sencillo&lt;/comment&gt;
  &lt;comment xml:lang="eu"&gt;testu soileko dokumentua&lt;/comment&gt;
  &lt;comment xml:lang="fi"&gt;perustekstiasiakirja&lt;/comment&gt;
  &lt;comment xml:lang="pt"&gt;documento de texto simples&lt;/comment&gt;
  &lt;!-- possibly more translations --&gt;
&lt;/mime-type&gt;
</programlisting>Este ficheiro é gerado pela aplicação <application>update-mime-database</application>, utilizando o ficheiro XML de origem por omissão <filename>freedesktop.org.xml</filename>.</para>
            </example>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><filename>&lt;MIME&gt;/globs</filename></term>

          <listitem>
            <para>Contém uma linha com um tipo mime e um padrão glob, separado por uma vírgula. Ficheiros que tenham equivalência ao padrão glob são consideradas como sendo do tipo MIME especificado antes da vírgula. Existem regras especiais sobre como é feita a equivalência dos nomes de ficheiros ao padrão glob; para mais detalhes consulte a <citetitle>especificação XDG de mime partilhado</citetitle>.</para>

            <para>Este ficheiro é também gerado pela aplicação <application>update-mime-database</application>, utilizando o ficheiro XML de origem por omissão <filename>freedesktop.org.xml</filename>.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><filename>&lt;MIME&gt;/magic</filename></term>

          <listitem>
            <para>Um ficheiro binário que contém informação sobre como resolver tipos MIME <quote>inspeccionando</quote> o conteúdo do ficheiro. Normalmente isto consiste numa ou mais regras tais como <quote>verificar a existência da expressão <literal>%PDF- </literal>no byte offset 0 no ficheiro; se encontrada, atribuir-lhe o tipo MIME <literal>application/pdf</literal></quote>.</para>

            <para>Este ficheiro é também gerado pela aplicação <application>update-mime-database</application>.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><filename>&lt;MIME&gt;/XMLnamespaces</filename></term>

          <listitem>
            <para>Contém um mapeamento dos nomes de espaços XML para tipos MIME. Cada linha contém três campos, o nome do espaço, o localName (nome local) e o tipo MIME. Cada campo é separado por um espaço. Se o localName for vazio, existirão dois espaços entre o nome do espaço e o tipo MIME.</para>

            <para>Este ficheiro é também gerado pela aplicação <application>update-mime-database</application>.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><filename>&lt;MIME&gt;/aliases</filename></term>

          <listitem>
            <para>Contém uma lista de alcunhas (ou nomes alternativos) para cada tipo MIME. Uma alcunha é simplesmente um tipo MIME que por vezes é conhecido por outro tipo. Para cada linha neste ficheiro existem dois campos: o primeiro é a alcunha, o segundo é o tipo MIME. Os campos são separados por um espaço.</para>

            <para>Este ficheiro é também gerado pela aplicação <application>update-mime-database</application>.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><filename>&lt;MIME&gt;/subclasses</filename></term>

          <listitem>
            <para>Contém uma lista de tipos MIME com subclasses MIME e o seu tipo MIME <quote>pai</quote>. Citando a <citetitle>especificação XDG de mime partilhado:</citetitle><blockquote>
                <para>Um tipo é uma subclasse de outro tipo se uma qualquer instância do primeiro tipo for também uma instância do segundo. Por exemplo, todos os ficheiros image/svg são também ficheiros text/xml, text/plain e application/octet-stream. Subclasses são segundo o formato, e não segundo a categoria dos dados (por exemplo, não existe nenhuma classe 'folha de cálculo genérica' que todas as folhas de cálculo herdem).</para>
              </blockquote>O formato deste ficheiro é semelhante ao do ficheiro <filename>aliases</filename> (alcunhas). Cada linha contém dois campos, onde o primeiro é o tipo MIME da subclasse e o segundo é o tipo MIME pai. Cada campo está separado por um espaço.</para>

            <para>Este ficheiro é também gerado pela aplicação <application>update-mime-database</application>.</para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect2>

    <sect2 id="mimetypes-refresh">
      <title>Actualizar a Base de Dados MIME</title>

      <para>Compreender como actualizar a base de dados MIME é importante para os administradores que desejem adicionar novos tipos MIME ao sistema, ou alterar informação sobre um tipo MIME. A aplicação <application>update-mime-database</application> destina-se a este fim.</para>

      <para>Por exemplo, se uma aplicação instalar informação sobre um novo tipo MIME em <filename>/usr/share/mime/packages/diff.xml</filename>, então a <application>update-mime-database</application> deverá ser executada com o parâmetro <filename>/usr/share/mime</filename>.</para>

      <screen><prompt>#</prompt> <userinput>update-mime-database /usr/share/mime</userinput>
<computeroutput>***
* A actualizar a base de dados MIME em /usr/share/mime...
***
</computeroutput></screen>

      <para>A base de dados MIME é actualizada analisando-se todos os ficheiros XML de origem no directório <filename>&lt;MIME&gt;/packages</filename>.</para>
    </sect2>
  </sect1>

  <sect1 id="mimetypes-source-xml">
    <title>Os ficheiros XML de origem</title>
    <anchor id="mimetypes-11"/>
    <anchor id="mimetypes-12"/>
    <anchor id="mimetypes-2"/>

    <indexterm>
      <primary>Tipos MIME</primary>

      <secondary>ficheiros XML de origem</secondary>
    </indexterm>

    <para>Localizados no directório <filename>&lt;MIME&gt;/packages</filename>, estes ficheiros XML disponibilizam toda a informação sobre os tipos MIME que é instalada na base de dados pela aplicação <application>update-mime-database</application>. Existem algumas regras sobre o próprio ficheiro XML:</para>

    <itemizedlist>
      <listitem>
        <para>Tem de especificar o nome de espaço como sendo <quote><literal>http://www.freedesktop.org/standards/shared-mime-info</literal></quote></para>
      </listitem>

      <listitem>
        <para>O elemento raiz tem de ser <literal>mime-info</literal></para>
      </listitem>

      <listitem>
        <para>Podem ser especificados zero ou mais elementos <literal>mime-type</literal> como filhos do elemento <literal>mime-info</literal>. O atributo <literal>type</literal> é utilizado para especificar o tipo MIME que está a ser definido.</para>
      </listitem>
    </itemizedlist>

    <para>Por omissão, o ficheiro <filename>freedesktop.org.xml</filename> é instalado no directório <filename>packages</filename> num dos caminhos <filename>&lt;MIME&gt;</filename> (normalmente <filename>/usr/share/mime/packages</filename>).</para>

    <para><xref linkend="mimetypes-mimeinfo-elements"/> dá uma descrição abreviada de cada um dos elementos que podem ocorrer como filhos do elemento <literal>mime-type</literal>.</para>

    <table frame="topbot" id="mimetypes-mimeinfo-elements">
      <title>Child elements of <literal>&lt;mime-type&gt;</literal></title>

      <tgroup cols="2" colsep="0" rowsep="0">
        <colspec colwidth="44.90*"/>

        <colspec colwidth="59.10*"/>

        <thead>
          <row rowsep="1">
            <entry>Elemento (e atributos)</entry>

            <entry>Descrição</entry>
          </row>
        </thead>

        <tbody>
          <row>
            <entry><literal>&lt;glob pattern="<replaceable>*.xyz</replaceable>"&gt;</literal></entry>

            <entry>Este elemento especifica um padrão glob a ser utilizado sobre os nomes de ficheiros. Se o nome tiver equivalência, é-lhe atribuído o tipo MIME do elemento pai <literal>mime-type</literal>. O atributo <literal>pattern</literal> é obrigatório.</entry>
          </row>

          <row>
            <entry><literal>&lt;magic priority="<replaceable>50</replaceable>"&gt;</literal></entry>

            <entry>Este elemento contém uma lista de elementos <literal>match</literal> como seus filhos. O atributo <literal>priority</literal> é opcional, e especifica uma prioridade entre 0 e 100, sendo 100 a prioridade de equivalência mais elevada. Cada elemento filho <literal>match</literal> tem três atributos obrigatórios: <simplelist type="inline">
                <member><literal>type</literal></member>

                <member><literal>offset</literal></member>

                <member><literal>valor</literal></member>
              </simplelist> e um quarto atributo opcional, <literal>mask</literal>. Para detalhes sobre estes atributos, consulte <ulink url="http://www.freedesktop.org/Standards/shared-mime-info-spec">especificação XDG de informação mime partilhada</ulink>.</entry>
          </row>

          <row>
            <entry><literal>&lt;alias type="<replaceable>media</replaceable>/<replaceable>subtipo</replaceable>"&gt;</literal></entry>

            <entry>Este elemento define uma alcunha para o elemento pai <literal>mime-type</literal>. Uma alcunha é simplesmente um tipo MIME que é por vezes conhecido como outro tipo. Por exemplo, <literal>application/x-pdf</literal> é uma alcunha do tipo MIME <literal>application/pdf</literal>.</entry>
          </row>

          <row>
            <entry><literal>&lt;sub-class-of type="<replaceable>media</replaceable>/<replaceable>subtipo</replaceable>"&gt;</literal></entry>

            <entry>Este elemento define o elemento pai de <literal>mime-type</literal> como uma subclasse do tipo MIME especificado no atributo <literal>type</literal>. Por exemplo, <literal>image/svg</literal> é uma subclasse do tipo MIME <literal>text/xml</literal>, <literal>text/plain</literal>, e <literal>application/octet-stream</literal>.</entry>
          </row>

          <row>
            <entry><literal>&lt;comment xml:lang="<replaceable>configuração regional</replaceable>"&gt;</literal></entry>

            <entry>Este elemento apresenta uma descrição legível por humanos do tipo MIME. Podem existir zero ou mais ocorrências deste elemento desde que cada um contenha um valor único para o atributo <literal>xml:lang</literal>.</entry>
          </row>

          <row>
            <entry><literal>&lt;root-XML namespaceURI="<replaceable>espaço de nome</replaceable>" localName=""&gt;</literal></entry>

            <entry>Se o ficheiro é considerado um ficheiro XML, este elemento ajuda a classifica-lo mais detalhadamente utilizando os atributos <literal>namespaceURI</literal> e <literal>localName</literal> , ambos obrigatórios. O atributo <literal>namespaceURI</literal> é o nome de espaço do documento, e <literal>localName</literal> é o nome do elemento raiz do documento. Se <literal>localName</literal> estiver presente mas o seu valor for vazio, o elemento raiz poderá ter um qualquer nome, mas o nome de espaço terá de ser equivalente.</entry>
          </row>
        </tbody>
      </tgroup>
    </table>

    <para>A forma mais fácil de compreender estes ficheiros é observando um exemplo. Copiando da <citetitle>especificação XDG de mime partilhada</citetitle>, <xref linkend="mimetypes-source-xml-example"/> apresenta o conteúdo de um ficheiro XML de origem denominado <filename>diff.xml</filename>. Este exemplo define o tipo MIME <literal>text/x-diff</literal>. Existem múltiplos elementos <literal>comment</literal> que apresentam um nome humanamente legível para o tipo MIME num número de vários idiomas. Este tipo MIME tem ambas as regras de equivalência através de padrões glob <emphasis>e</emphasis> através da utilização de <quote>inspecção</quote> de conteúdo (mais conhecido como regras <filename>mágicas</filename>). Qualquer ficheiro com a extensão <literal>.diff</literal> ou <filename>.patch</filename> serão considerados deste tipo MIME. Adicionalmente qualquer ficheiro cujo conteúdo comece pela expressão especificada no atributo <literal>value</literal> do elemento <literal>match</literal>, irá ser considerado do tipo MIME <literal>text/x-diff</literal>.</para>

    <para>A ordem em que os padrões glob e regras mágicas são aplicados está para lá do âmbito deste documento. Para detalhes sobre isso, consulte a <ulink url="http://www.freedesktop.org/Standards/shared-mime-info-spec">especificação XDG de informação mime partilhada</ulink>.</para>

    <example id="mimetypes-source-xml-example">
      <title>Exemplo de um ficheiro XML de origem: <filename>diff.xml</filename></title>

      <programlisting>&lt;?xml version='1.0'?&gt;
&lt;mime-info xmlns='http://www.freedesktop.org/standards/shared-mime-info'&gt;
  &lt;mime-type type="text/x-diff"&gt;
    &lt;comment&gt;Differences between files&lt;/comment&gt;
    &lt;comment xml:lang="pt"&gt;Diferenças entre ficheiros&lt;/comment&gt;
    &lt;!-- more translated comment elements --&gt;
    &lt;magic priority="50"&gt;
      &lt;match type="string" offset="0" value="diff\t"/&gt;
      &lt;match type="string" offset="0" value="***\t"/&gt;
      &lt;match type="string" offset="0" value="Common subdirectories: "/&gt;
    &lt;/magic&gt;
    &lt;glob pattern="*.diff"/&gt;
    &lt;glob pattern="*.patch"/&gt;
  &lt;/mime-type&gt;
&lt;/mime-info&gt;</programlisting>
    </example>
  </sect1>

  <sect1 id="mimetypes-modifying">
    <title>Alterar tipos MIME</title>

    <indexterm>
      <primary>Tipos MIME</primary>

      <secondary>verificar as alterações</secondary>
    </indexterm>

    <indexterm>
      <primary>Tipos MIME</primary>

      <secondary>alterar</secondary>
    </indexterm>

    <para>Os ficheiros de origem XML instalados no directório <filename>&lt;MIME&gt;/packages</filename> pelas aplicações nunca deverão ser alterados manualmente. Em vez disso, deverá ser alterado o ficheiro <filename>Overrides.xml</filename>. Este tem precedência sobre todos os outros ficheiros XML instalados no mesmo directório <filename>packages</filename>. Caso seja o autor de uma aplicação, esta regra não se aplica. Deverá criar um novo ficheiro de origem XML e colocá-lo no directório <filename>&lt;MIME&gt;/packages</filename> apropriado (a sua <filename>Makefile</filename> tratará disto, claro).</para>

    <para>Pode alterar a base de dados MIME para todos os utilizadores no sistema ou para um utilizador específico, dependendo da localização do ficheiro que alterar. Para alterar a base de dados para todos os utilizadores, altere o ficheiro <filename>Overrides.xml</filename> no directório <filename>$XDG_DATA_DIRS/mime/packages</filename>. Para alterar para apenas um utilizador específico, altere o ficheiro <filename>Overrides.xml</filename> no directório <filename>$XDG_DATA_HOME/mime/packages</filename>.</para>

    <para>Após realizadas as alterações, terá sempre de executar a aplicação <application>update-mime-database</application>, indicando a localização do directório da base de dados MIME como primeiro parâmetro.</para>

    <sect2 id="mimetypes-addmodify">
      <title>Adicionar ou Alterar Tipos MIME</title>

      <para>Para adicionar um ou mais tipos MIME para todos os utilizadores:</para>

      <orderedlist>
        <listitem>
          <para>Crie ou altere um ficheiro de origem XML <filename>Overrides.xml</filename> existente, contendo as definições dos tipos MIME. Para mais informações, consulte <xref linkend="mimetypes-source-xml"/>.</para>
        </listitem>

        <listitem>
          <para>Coloque o ficheiro <filename>Overrides.xml</filename> no directório <filename>/usr/share/mime/packages</filename>.</para>
        </listitem>

        <listitem>
          <para>Actualize a base de dados MIME executando <application>update-mime-database</application> com a conta de administrador.<screen><userinput>update-mime-database /usr/share/mime</userinput></screen></para>
        </listitem>
      </orderedlist>

      <para>Para adicionar um ou mais tipos MIME para um utilizador específico, siga os mesmos passos, mas coloque o seu ficheiro <filename>Overrides.xml</filename> no directório <filename>~/.local/share/mime/packages</filename>. Adicionalmente, execute o <application>update-mime-database</application> com <filename>~/.local/share/mime/packages</filename> como primeiro parâmetro.</para>
    </sect2>

    <sect2 id="mimetypes-verifying">
      <title>Verificar as Alterações</title>
      <anchor id="mimetypes-10"/>

      <para>Após ter realizado uma alteração à base de dados MIME e actualizado o seu conteúdo, pode verificar que as alterações tomaram efeito utilizando a aplicação <application>gnomevfs-info</application>. Esta aplicação imprime o tipo MIME e outra informação útil sobre um ficheiro.</para>

      <para>Executar o <application>gnomevfs-info</application> sobre um ficheiro SVG dá-lhe o resultado abaixo. Notará que a aplicação por omissão para este tipo MIME é <filename>eog.desktop</filename>; Iremos discutir as aplicações por omissão em <xref linkend="mimetypes-registering"/>.</para>

      <screen><prompt>$</prompt> <userinput>gnomevfs-info mime-diagram.svg</userinput>
<computeroutput>Nome              : mime-diagram.svg
Tipo              : Normal
Tipo MIME         : image/svg+xml
Apl. omissão      : eog.desktop
Tamanho           : 14869
Blocos            : 32
Tam. blocos I/O   : 4096
Local             : SIM
SUID              : NÃO
SGID              : NÃO
Pegajoso          : NÃO
Permissões        : 600644
Contagem Atalhos  : 1
UID               : 1000
GID               : 100
Data de acesso    : Qua Fev 22 18:24:47 2006
Data de alteração : Qua Fev 22 18:24:42 2006
Data de mudança   : Qua Fev 22 18:24:42 2006
Nº dispositivo    : 775
Nº Inode          : 297252
Permite ler       : SIM
Permite escrever  : SIM
Executável        : NÃO</computeroutput>
<prompt>$</prompt>
</screen>

      <para><xref linkend="mimetypes-newtype-example"/> apresenta os passos necessários para criar um novo tipo MIME e depois verificar as alterações utilizando o <application>gnomevfs-info</application>.</para>
    </sect2>

    <sect2 id="mimetypes-newtype-example">
      <title>Exemplo <literal>application/x-newtype</literal></title>

      <para>Para criar (ou sobrepor) um tipo MIME e verificar as alterações:</para>

      <orderedlist>
        <listitem>
          <para>Crie um ficheiro novo, vazio, na sua pasta pessoal denominado <filename>testing.xyz</filename>.</para>
        </listitem>

        <listitem>
          <para>Utilize o <application>gnomevfs-info</application> sobre o ficheiro para detectar o seu tipo MIME.O tipo MIME deste ficheiro deverá ser detectado como <literal>text/plain</literal> pois não existem padrões glob nem regras mágicas que façam equivalência<footnote>
              <para>Quando nenhum padrão glob nem regra mágica equivale a um ficheiro, este é resolvido para o tipo MIME <literal>text/plain</literal> se contiver dados de texto ou <literal>application/octet-stream</literal> se contiver dados binários. Se o ficheiro estiver vazio, por omissão será <literal>text/plain</literal>.</para>
            </footnote>.</para>
        </listitem>

        <listitem>
          <para>Crie (ou altere) o ficheiro <filename>Overrides.xml</filename> tal como descrito em <xref linkend="mimetypes-addmodify"/> com o conteúdo indicado em <xref linkend="mimetypes-overrides-xml"/>.</para>
        </listitem>

        <listitem>
          <para>Actualize a base de dados utilizando o <application>update-mime-database</application>.</para>
        </listitem>

        <listitem>
          <para>Utilize o <application>gnomevfs-info</application> para verificar que a sua alteração tomou efeito. Deverá ver o tipo MIME do ficheiro <filename>testing.xyz</filename> detectado como <literal>application/x-newtype</literal>.</para>

          <screen><prompt>$</prompt> <userinput>gnomevfs-info testing.xyz | grep MIME
</userinput><computeroutput>MIME type         : application/x-newtype
</computeroutput><prompt>$</prompt></screen>
        </listitem>
      </orderedlist>

      <example id="mimetypes-overrides-xml">
        <title>Ficheiro <filename>Overrides.xml</filename></title>

        <programlisting>&lt;?xml version='1.0' encoding='utf-8'?&gt;
&lt;mime-info xmlns="http://www.freedesktop.org/standards/shared-mime-info"&gt;
  &lt;mime-type type="application/x-newtype"&gt;&lt;comment&gt;new mime type&lt;/comment&gt;&lt;glob pattern="*.xyz"/&gt;&lt;/mime-type&gt;
&lt;/mime-info&gt;</programlisting>
      </example>
    </sect2>
  </sect1>

  <sect1 id="mimetypes-registering">
    <title>Registar Aplicações para Tipos MIME</title>

    <anchor id="mimetypes-7"/>

    <indexterm>
      <primary>Tipos MIME</primary>

      <secondary>registar aplicações para</secondary>
    </indexterm>

    <indexterm>
      <primary>aplicações</primary>

      <secondary>registo</secondary>
    </indexterm>

    <para>Registar aplicações para gerir tipos MIME é bastante simples. As aplicações são registadas criando-se uma chave <literal>MimeType</literal> no seu ficheiro de definição de iniciador <filename>.desktop</filename> com uma lista de cada tipo MIME separado por ponto-e-vírgula. A chave <literal>MimeType</literal> apenas deve ser utilizada em ficheiros <filename>.desktop</filename> cuja chave <literal>Type</literal> tenha o valor <quote><literal>Application</literal></quote>. Para mais informações sobre os ficheiros <filename>.desktop</filename>, consulte <xref linkend="menustructure-desktopentry"/>.</para>

    <para>Apos criar ou alterar um ficheiro de definição de iniciador <filename>.desktop</filename>, tem de actualizar a base de dados de aplicações utilizando a aplicação <application>update-desktop-database</application> (muito semelhante à <application>update-mime-database</application>, excepto que não recebe um parâmetro). Isto irá criar um ficheiro <filename>mimeinfo.cache</filename> no subdirectório <filename>applications</filename> de cada directório em <filename>$XDG_DATA_HOME:$XDG_DATA_DIRS</filename>. O ficheiro de cache é necessário para que todos os ficheiros <filename>.desktop</filename> não tenham de ser analisados apenas por causa da chave <literal>MimeType</literal>, já que isto causa I/O de disco desnecessário.</para>

    <para>Aplicações por omissão para utilizar com tipos MIME específicos devem ser especificadas num ficheiro denominado <filename>defaults.list</filename>. Este ficheiro localiza-se no subdirectório <filename>applications</filename> de cada directório em <envar>$XDG_DATA_HOME</envar> e <envar>$XDG_DATA_DIRS</envar>. O formato deste ficheiro consiste no tipo MIME, o símbolo <literal>=</literal> e o ID do Ficheiro de Iniciador (que é o nome do ficheiro de definição de iniciador). <xref linkend="mimetypes-registering-example"/> é um pequeno exemplo de um ficheiro <filename>defaults.list</filename> no directório <filename>~/.local/share/applications</filename> de um utilizador.</para>

    <example id="mimetypes-registering-example">
      <title>O ficheiro <filename>defaults.list</filename> de um utilizador</title>

      <programlisting>[Default Applications]
application/pdf=evince.desktop
text/html=epiphany.desktop
text/plain=gedit.desktop
image/jpeg=eog.desktop
image/png=eog.desktop
text/xml=gedit.desktop
</programlisting>
    </example>

    <note>
      <title>Especificação XDG de Definição de Iniciador</title>

      <para>Como registar tipos MIME de aplicações é parte da <ulink url="http://www.freedesktop.org/wiki/Standards/desktop-entry-spec">especificação XDG de definição de iniciador</ulink>, e não da <ulink url="http://www.freedesktop.org/Standards/shared-mime-info-spec">especificação XDG de informação mime partilhada</ulink>.</para>
    </note>
  </sect1>

  <sect1 id="mimetypes-9">
    <title>Adicionar uma Aplicação ao Ambiente de Trabalho GNOME</title>

    <indexterm>
      <primary>Tipos MIME</primary>

      <secondary>adicionar aplicações</secondary>
    </indexterm>

    <indexterm>
      <primary>aplicações</primary>

      <secondary>adicionar</secondary>
    </indexterm>

    <para>Para adicionar uma aplicação ao Ambiente de Trabalho GNOME, realize os seguintes passos:</para>

    <orderedlist>
      <listitem>
        <para>Adicione um item de menu para a aplicação. Para mais informações sobre como adicionar um item a um menu, consulte <xref linkend="menustructure-2"/>.</para>
      </listitem>

      <listitem>
        <para>Adicione um ícone para a aplicação em <filename>/usr/share/icons/<replaceable>theme-name</replaceable>/<replaceable>icon-size</replaceable>/apps</filename>. Para mais informações sobre ícones e temas, consulte <xref linkend="themes-11"/>.</para>
      </listitem>

      <listitem>
        <para>Se a aplicação utilizar um novo tipo MIME, adicione um ficheiro XML de origem à base de dados MIME. Para mais informações, consulte <xref linkend="mimetypes-modifying"/>.</para>
      </listitem>

      <listitem>
        <para>Se a aplicação utilizar um novo tipo MIME, adicione um ícone para o tipo MIME a <filename>/usr/share/icons/<replaceable>theme-name</replaceable>/<replaceable>icon-size</replaceable>/mimetypes</filename>. Para mais informações sobre ícones e temas, consulte <xref linkend="themes-0"/>.</para>
      </listitem>

      <listitem>
        <para>Para associar a aplicação a um tipo MIME, inclua a chave <literal>MimeType</literal> no seu ficheiro <filename>.desktop</filename>. Para mais informações, consulte <xref linkend="mimetypes-registering"/>.</para>
      </listitem>
    </orderedlist>
  </sect1>
</chapter>

<chapter id="screensavers-0">
  <title>Configurar o Protector de Ecrã</title>
  <highlights>
    <para>Este capítulo descreve como definir as preferências do protector de ecrã. Este capítulo também disponibiliza informação sobre como alterar os ecrãs que estão disponíveis para o protector de ecrã.</para>
  </highlights>
  <sect1 id="screensavers-1">
    <title>Introdução ao Protector de Ecrã</title>
    <indexterm>
      <primary>protector de ecrã</primary>
      <secondary>introdução</secondary>
    </indexterm>
    <indexterm>
      <primary>gnome-screensaver</primary>
      <see>protector de ecrã</see>
    </indexterm>
    <para>Um <firstterm>protector de ecrã</firstterm> é uma aplicação que substitui a imagem no ecrã quando este não está a ser utilizado. A aplicação de protecção de ecrã do Ambiente de Trabalho GNOME é o <application>gnome-screensaver</application>. As secções seguintes descrevem como definir as preferências da aplicação <application>gnome-screensaver</application>, e como alterar os temas que estão disponíveis para o protector de ecrã.</para>
  </sect1>
  <sect1 id="screensavers-2">
    <title>Definir as Preferências do Protector de Ecrã</title>
    <indexterm>
      <primary>protector de ecrã</primary>
      <secondary>definir as preferências</secondary>
    </indexterm>
    <para>Todas as preferências e definições do protector de ecrã estão armazenadas no <application>GConf</application>.</para>
    <para>Para alterar as preferências do protector de ecrã, os utilizadores podem utilizar a ferramenta de preferências <application>Protecção de Ecrã</application>. Para informações sobre preferências do protector de ecrã, consulte o <citetitle>Guia do Utilizador do Ambiente de Trabalho GNOME</citetitle>.</para>
    <para>Os utilizadores podem também executar o comando <command>/usr/bin/gnome-screensaver-preferences</command> para abrir o diálogo de <guilabel>Preferências do Protector de Ecrã</guilabel>.</para>
    <para>Para configurar as definições por omissão do protector de ecrã e a política para todos os utilizadores, altere as definições na Fonte de Configuração por Omissão do GConf.</para>
    <para>Para configurar definições obrigatórias e políticas para todos os utilizadores, altere as definições na Fonte de Configurações Obrigatórias do GConf.</para>
  </sect1>
  <sect1 id="screensavers-3">
    <title>Alterar os Temas do Protector de Ecrã</title>
    <indexterm>
      <primary>protector de ecrã</primary>
      <secondary>alterar os temas do protector de ecrã</secondary>
    </indexterm>
    <para>A aplicação de protecção de ecrã permite aos utilizadores seleccionar um ou mais <firstterm>temas de protecção</firstterm>. Um protector de ecrã é uma aplicação que apresenta imagens no ecrã do urilizador quando este não está a ser utilizado. Os temas do protector de ecrã disponíveis estão listados na ferramenta de preferências <application>Protector de Ecrã</application>.</para>
    <para>Para adicionar um novo tema de protector de ecrã, copie o ficheiro executável do <firstterm>motor do tema de protecção</firstterm> para um qualquer local no seu PATH ou para o directório executável do motor do tema de protecção. O directório do motor de protecção de ecrã do seu sistema poderá ser determinado utilizando o seguinte comando: <screen><userinput>pkg-config --variable=privlibexecdir gnome-screensaver</userinput></screen> De seguida, adicione um ficheiro <filename>.desktop</filename> para o tema ao directório de temas do protector de ecrã. O directório de temas do protector de ecrã do seu sistema pode ser determinado utilizando o seguinte comando: <screen><userinput>pkg-config --variable=themesdir gnome-screensaver</userinput></screen> No campo Exec do ficheiro <filename>.desktop</filename> inclue todos os argumentos necessários à execução do tema do protector de ecrã em ecrã completo, em vez de numa janela. Por exemplo, alguns motores de temas de protecção de ecrã antigos poderão necessitar que inclua a opção <literal>-root</literal> para apresentar o protector de ecrã a ocupar o ecrã completo.</para>
    <para>A infra-estrutura de <application>Protecção de Ecrã</application> implementa temas de acordo com a <ulink url="http://www.freedesktop.org/wiki/Standards/menu-spec">especificação XDG de menu</ulink>. Ao suportar esta especificação, o GNOME permite-lhe:</para>

    <itemizedlist>
      <listitem>
        <para>Personalizar os temas facilmente. Pode editar um pequeno número de ficheiros para personalizar os temas disponíveis. Não tem de alterar as suas aplicações nem mover ficheiros.</para>
      </listitem>

      <listitem>
        <para>Instalar temas facilmente. Não tem de fornecer informação sobre o sistema ao instalar os temas.</para>
      </listitem>

      <listitem>
        <para>Configurar o sistema por forma a que os utilizadores não possam alterar os temas.</para>
      </listitem>
    </itemizedlist>

  <para>Para mais informações, consulte <xref linkend="menustructure-0"/>.</para>

  </sect1>
</chapter>

<chapter id="sessions-0">
  <title>Gestão de Sessões</title>
  <highlights>
    <para>Este capítulo apresenta uma introdução à gestão de sessões, e descreve como definir as omissões de uma sessão. O capítulo também contém informação sobre sessões e scripts de início de sessão.</para>
  </highlights>
  <sect1 id="sessions-1">
    <title>Introdução às Sessões</title>
    <indexterm>
      <primary>sessões</primary>
      <secondary>introdução</secondary>
    </indexterm>
    <para>Uma sessão decorre entre a altura em que um utilizador inicia uma sessão no Ambiente de Trabalho GNOME e o momento em que a termina. O gestor de sessões é iniciado após o <application>Login Manager</application> autenticar o utilizador. O gestor de sessões permite ao utilizador gerir a sessão. Por exemplo, um utilizador pode gravar o estado de uma sessão e regressar a essa sessão da próxima vez que iniciar uma sessão.</para>
    <para>No mínimo, as seguintes aplicações correm em sessão:</para>
    <itemizedlist>
      <listitem>
        <para>O gestor de sessões, <command>gnome-session</command>.</para>
      </listitem>
      <listitem>
        <para>O daemon de definições X <application>GConf</application>, <command>gnome-settings-daemon</command>.</para>
      </listitem>
      <listitem>
        <para>A aplicação <application>gnome-panel</application>, que executa os painéis no Ambiente de Trabalho GNOME.</para>
      </listitem>
      <listitem>
        <para>O gestor de janelas <application>Metacity</application>.</para>
      </listitem>
    </itemizedlist>
  </sect1>
  <sect1 id="sessions-3">
    <title>Omissões das Definições de Sessão</title>
    <indexterm>
      <primary>sessões</primary>
      <secondary>omissões das definições</secondary>
    </indexterm>
    <para>A tabela seguinte lista os ficheiros que contêm informação por omissão da sessão:</para>
    <informaltable frame="topbot">
      <tgroup cols="2" colsep="0" rowsep="0">
        <colspec colwidth="51.80*"/>
        <colspec colwidth="48.20*"/>
        <thead>
          <row rowsep="1">
            <entry>
              <para>Ficheiro</para>
            </entry>
            <entry>
              <para>Descrição</para>
            </entry>
          </row>
        </thead>
        <tbody>
          <row>
            <entry valign="top">
              <para>
                <filename>/usr/share/gnome/default.session</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Ficheiro da sessão por omissão. Os detalhes por omissão da sessão são armazenados neste ficheiro.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>$HOME/.gnome2/session</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Ficheiro de sessão do utilizador. Quando um utilizador altera a sessão, os detalhes são armazenados neste ficheiro.</para>
            </entry>
          </row>
        </tbody>
      </tgroup>
    </informaltable>
<!--The last row does not appear to be true in Mercury - check.-->
    <para>Para definir detalhes por omissão de sessão para todos os utilizadores, altere o ficheiro de sessão por omissão.</para>
    <para>Para repor as definições de sessão por omissão para um utilizador, apague o ficheiro de sessão do seu directório pessoal. Se não existir nenhum ficheiro de sessão do utilizador, estão a ser utilizadas as definições por omissão de <filename>/usr/share/gnome/default.session</filename>.</para>
    <para>Para gravar a sessão actual como sessão por omissão, os utilizadores podem executar o comando <command>gnome-session-save</command>.</para>
  </sect1>
</chapter>

<chapter id="help-0">
  <title>Sistema de Ajuda</title>
  <highlights>
    <para>Este capítulo descreve o sistema de Ajuda no Ambiente de Trabalho GNOME.</para>
  </highlights>
  <sect1 id="help-1">
    <title>Introdução ao Sistema de Ajuda</title>
    <indexterm>
      <primary>Ajuda online</primary>
      <see>Ajuda</see>
    </indexterm>
    <indexterm>
      <primary>Ajuda</primary>
      <secondary>introdução</secondary>
    </indexterm>
    <para>O Ambiente de Trabalho GNOME apresenta a ajuda no navegador de ajuda <application>Yelp</application>. Para mais informações, consulte o <ulink url="ghelp:user-guide?yelp">Navegador de Ajuda Yelp</ulink> no <ulink url="ghelp:user-guide">Guia do Utilizador do Ambiente de Trabalho GNOME</ulink>.</para>
<para>Os documentos base da ajuda são ficheiros XML. Os ficheiros XML são escritos segundo a definição de tipo de documento (DTD) DocBook XML Version 4.1.2. Os ficheiros XML DocBook são convertidos em HTML utilizando folhas de estilo instaladas com o <application>gnome-doc-utils</application> e o HTML é apresentado no navegador de ajuda. Para mais informações sobre o DocBook XML, consulte o seguinte URL:</para>
    <literallayout>
      <ulink url="http://www.oasis-open.org/docbook/xml/">http://www.oasis-open.org/docbook/xml</ulink>
    </literallayout>
    <para>O sistema de Ajuda utiliza os ficheiros da <firstterm>Arquitectura de Metadados em Código Aberto</firstterm> (OMF), e um sistema de catalogação. As secções seguintes descrevem os ficheiros OMF e o sistema de catalogação.</para>
  </sect1>
  <sect1 id="help-3">
    <title>Ficheiros OMF</title>
    <indexterm>
      <primary>ficheiros .omf</primary>
      <see>Ficheiros OMF</see>
    </indexterm>
    <indexterm>
      <primary>Ajuda</primary>
      <secondary>Ficheiros OMF</secondary>
    </indexterm>
    <indexterm>
      <primary>Ficheiros OMF</primary>
    </indexterm>
    <para>O ficheiro XML de cada manual tem um ficheiro OMF associado. O ficheiro OMF contém informação sobre o manual que é utilizada pelo navegador de Ajuda. Os ficheiros OMF têm a extensão <filename>.omf</filename>.</para>
    <para>Quando instala uma aplicação, o processo de instalação coloca um ficheiro OMF num directório de ficheiros OMF. Se um documento de Ajuda tem um ficheiro OMF associado num directório de ficheiros OMF, o documento de Ajuda é apresentado no navegador de Ajuda.</para>
    <para>Os ficheiros OMF contêm informações sobre documentos de Ajuda tais como:</para>
    <itemizedlist>
      <listitem>
        <para>A localização do ficheiro XML do documento de Ajuda</para>
      </listitem>
      <listitem>
        <para>O título do documento de Ajuda</para>
      </listitem>
      <listitem>
        <para>Uma categoria de assunto a que o documento de Ajuda pertença.</para>
      </listitem>
    </itemizedlist>
    <para>Para mais informações sobre como criar ficheiros OMF, consulte <ulink url="ghelp:writing_scrollkeeper_omf_files">Escrever Ficheiros OMF para o Scrollkeeper</ulink>.</para>
  </sect1>
  <sect1 id="help-2">
    <title>Sistema de Catalogação ScrollKeeper</title>
    <indexterm>
      <primary>Ajuda</primary>
      <secondary>sistema de catalogação ScrollKeeper</secondary>
    </indexterm>
    <indexterm>
      <primary>sistema de catalogação ScrollKeeper</primary>
    </indexterm>
    <para>O <application>ScrollKeeper</application> é um sistema de catalogação de documentação. A sua função principal é gerir a informação que está em ficheiros OMF para o navegador de ajuda. Quando instala uma aplicação, o ficheiro OMF é copiado para o directório <filename><replaceable>$prefix</replaceable>/share/omf/<replaceable>&lt;application-name&gt;</replaceable></filename>.</para>

    <para>O <application>ScrollKeeper</application> constroi uma tabela de conteúdos a partir da colecção de ficheiros OMF contidos nos directórios especificados no ficheiro <filename><replaceable>$prefix</replaceable>/etc/scrollkeeper.conf</filename>. Este ficheiro normalmente consiste numa única linha com a <varname>OMF_DIR</varname> definida como uma lista de directórios separados por vírgulas, a procurar recursivamente.</para>

    <programlisting>OMF_DIR=/usr/share/omf:/usr/local/share/omf:/opt/gnome2/share/omf:/opt/kde/omf
</programlisting>

    <para>O <application>ScrollKeeper</application> contém uma hierarquia de categorias de assuntos aos quais um documento de ajuda pode pertencer. A categoria de assunto do documento no ficheiro OMF determina a localização do documento na tabela de conteúdos apresentada pelo navegador de ajuda.</para>

    <para>A hierarquia de categorias de assuntos é definida no ficheiro <filename><replaceable>$prefix</replaceable>/scrollkeeper/Templates/<replaceable>&lt;lang&gt;</replaceable>/scrollkeeper_cl.xml</filename>. A categoria de assunto de um documento tem de corresponder a uma categoria especificada neste ficheiro.</para>

    <para>Para mais informações sobre o sistema do <application>Scrollkeeper</application>, visite a página web <ulink url="http://scrollkeeper.sourceforge.net/">http://scrollkeeper.sourceforge.net/</ulink>.</para>

    <note>
      <para>Se o ficheiro de XML do documento de ajuda for movido para uma nova localização, a localização que consta no ficheiro OMF tem de ser actualizada.</para>
    </note>
  </sect1>
</chapter>

<chapter id="performance-0">
  <title>Melhorar o Desempenho</title>
  <highlights>
    <para>Este capítulo descreve como melhorar o desempenho do Ambiente de Trabalho GNOME.</para>
  </highlights>
  <sect1 id="performance-1">
    <title>Introdução à Melhoria do Desempenho</title>
    <indexterm>
      <primary>desempenho, melhorar</primary>
      <secondary>introdução</secondary>
    </indexterm>
    <para>Este capítulo lista várias preferências cusa definição pode alterar para melhorar o desempenho do Ambiente de Trabalho GNOME. Pode utilizar o comando <command>gconftool-2</command> para definir o valor das preferências dos utilizadores. Os comandos de exemplo neste capítulo mostram como definir valores na fonte de configuração de utilizadores.</para>
    <para>Pode também utilizar as opções <literal>--direct</literal> e <literal>--config-source</literal> para definir valores obrigatórios ou por omissão para as preferências. Pode também utilizar o comando <command>gconftool-2</command> num script para definir os valores de várias preferências. Para mais informações sobre o comando <command>gconftool-2</command> e as opções disponibilizadas por este, consulte <xref linkend="gconf-0"/>.</para>
  </sect1>
  <sect1 id="performance-8">
    <title>Reduzir a Utilização de CPU</title>
    <indexterm>
      <primary>desempenho, melhorar</primary>
      <secondary>reduzir de utilização do CPU</secondary>
    </indexterm>
    <indexterm>
      <primary>reduzir</primary>
      <secondary>Utilização de CPU</secondary>
    </indexterm>
    <indexterm>
      <primary>Utilização de CPU</primary>
      <secondary>reduzir</secondary>
    </indexterm>
    <para>Esta secção descreve preferências que pode definir para reduzir a utilização de CPU feita pelo Ambiente de Trabalho GNOME.</para>
    <sect2 id="performance-3">
      <title>Utilizar as Opções de Temas que Requerem Menos Recursos de CPU</title>
      <indexterm>
        <primary>temas</primary>
        <secondary>opções de moldura de janela</secondary>
        <tertiary>e a utilização de CPU</tertiary>
      </indexterm>
      <indexterm>
        <primary>temas</primary>
        <secondary>e a utilização de CPU</secondary>
      </indexterm>
      <para>Algumas das opções dos temas para as molduras das janelas lêem imagens para desenhar as molduras. Outras opções utilizam técnicas mais simples para desenhar a moldura das janelas.</para>
      <para>A opção de moldura de janelas Crux lê ficheiros de imagem, e pode ser lento em sistemas com recursos de CPU limitados. Para reduzir a utilização de CPU, utilize uma das seguintes opções de moldura das janelas:</para>
      <itemizedlist>
        <listitem>
          <para>Atlanta</para>
        </listitem>
        <listitem>
          <para>Esco</para>
        </listitem>
      </itemizedlist>
      <para>As seguintes opções de moldura de janelas também utilizam menos recursos de CPU que a Crux:</para>
      <itemizedlist>
        <listitem>
          <para>AgingGorilla</para>
        </listitem>
        <listitem>
          <para>Bright</para>
        </listitem>
        <listitem>
          <para>Metabox</para>
        </listitem>
      </itemizedlist>
      <note>
        <para>Metabox não funciona bem com opções de inversão de cores tais como HighContrastInverse. Utilize o Atlanta com opções de inversão de cores.</para>
      </note>
      <para><indexterm><primary>temas</primary><secondary>opções de moldura de janela</secondary><tertiary>alterar</tertiary></indexterm>Para alterar a opção de tema da moldura das janelas, execute o seguinte comando:</para>
      <screen><userinput>gconftool-2 \
--type string \
--set /apps/metacity/general/theme <replaceable>nome-da-opção</replaceable></userinput></screen>
      <para>Por exemplo, para utilizar Atlanta, execute o seguinte comando:</para>
      <screen><userinput>gconftool-2 \
--type string \
--set /apps/metacity/general/theme Atlanta</userinput></screen>
      <para>Em alternativa, os utilizadores podem utilizar a ferramenta de preferências <application>Theme</application> para seleccionarem a opção adequada.</para>
      <tip>
        <para>Pode utilizar o <application>Visualizador de Temas do Metacity</application> para medir o desempenho de uma opção de moldura de janelas, e para antever a opção. Para iniciar o <application>Visualizador de Temas do Metacity</application>, utilize o seguinte comando:</para>
        <screen><userinput>metacity-theme-viewer <replaceable>nome-da-opção</replaceable></userinput></screen>
        <para>Por exemplo, para medir o desempenho do Atlanta e antever o Atlanta, execute o seguinte comando:</para>
        <screen><userinput>metacity-theme-viewer Atlanta</userinput></screen>
      </tip>
    </sect2>
    <sect2 id="performance-2">
      <title>Reduzir a Utilização de CPU Desligando a Apresentação de Ícones nos Menus</title>
      <indexterm>
        <primary>ícones, nos menus</primary>
        <see>ícones de menus</see>
      </indexterm>
      <indexterm>
        <primary>ícones de menus</primary>
        <secondary>e a utilização de CPU</secondary>
      </indexterm>
      <indexterm>
        <primary>ícones de menus</primary>
        <secondary>desligar</secondary>
      </indexterm>
      <para>Alguns itens nos menus apresentam um ícone ao lado do item. Para desactivar esta funcionalidade, execute o seguinte comando:</para>
      <screen><userinput>gconftool-2 \
--type bool \
--set /desktop/gnome/interface/menus_have_icons false</userinput></screen>
      <para>Em alternativa, os utilizadores podem utilizar a ferramenta de preferências <application>Menus &amp; Barras de Ferramentas</application> para desactivar a opção <guilabel>Apresentar ícones nos menus</guilabel>.</para>
    </sect2>
    <sect2 id="performance-6">
      <title>Reduzir a Utilização de CPU Desligando o Ecrã de Logotipo</title>
      <indexterm>
        <primary>ecrã de logotipo</primary>
        <secondary>e a utilização de CPU</secondary>
      </indexterm>
      <para>Por omissão, quando os utilizadores iniciam uma sessão, é apresentado um ecrã de logotipo. Nesse ecrã são apresentados ícones durante o início da sessão. Poderá desligar o ecrã de logotipo para reduzir a utilização de CPU durante o início de sessão.</para>
      <para><indexterm><primary>ecrã de logotipo</primary><secondary>desligar</secondary></indexterm>Para desligar o ecrã de logotipo, execute o seguinte comando:</para>
      <screen><userinput>gconftool-2 \
--type bool \
--set /apps/gnome-session/options/show_splash_screen false</userinput></screen>
      <para>Em alternativa, os utilizadores podem utilizar a ferramenta de preferências <application>Sessões</application> para desactivar a opção <guilabel>Apresentar ecrã de logotipo ao iniciar sessão</guilabel>.</para>
    </sect2>
    <sect2 id="performance-4">
      <title>Reduzir a Utilização de CPU Desligando a Animação de Painel</title>
      <indexterm>
        <primary>painéis</primary>
        <secondary>animação, desligar</secondary>
      </indexterm>
      <para>Quando os utilizadores escondem ou revelam painais, os painéis podem revelar-se ou esconder-se com uma animação. Para desligar a animação de painel, execute o seguinte comando:</para>
      <screen><userinput>gconftool-2 \
--type bool \
--set /apps/panel/global/enable_animations false</userinput></screen>
      <para>Em alternativa, os utilizadores podem utilizar a ferramenta de preferências <application>Painel</application> para desactivar a opção <guilabel>Animação de gavetas e painéis</guilabel>.</para>
    </sect2>
    <sect2 id="performance-7">
      <title>Melhorar o Desempenho do Gestor de Ficheiros</title>
      <indexterm>
        <primary>Nautilus</primary>
        <see>gestor de ficheiros</see>
      </indexterm>
      <para>O gestor de ficheiros <application>Nautilus</application> inclui algumas funcionalidades que pode alterar para melhorar o seu desempenho.</para>
      <sect3 id="performance-9">
        <title>Alterar Preferências de Desempenho</title>
        <indexterm>
          <primary>gestor de ficheiros</primary>
          <secondary>alterar preferências de desempenho</secondary>
        </indexterm>
        <para>O gestor de ficheiros inclui preferências relacionadas com o seu desempenho. Cada preferência de desempenho pode ter um de três valores. Os valores são descritos na tabela seguinte:</para>
        <informaltable frame="topbot">
          <tgroup cols="2" colsep="0" rowsep="0">
            <colspec colwidth="34.46*"/>
            <colspec colwidth="65.54*"/>
            <thead>
              <row rowsep="1">
                <entry>
                  <para>Valor</para>
                </entry>
                <entry>
                  <para>Descrição</para>
                </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry valign="top">
                  <para>
                    <literal>always</literal>
                  </para>
                </entry>
                <entry valign="top">
                  <para>Realiza a acção para ficheiros locais e ficheiros que residem noutros sistemas de ficheiros.</para>
                </entry>
              </row>
              <row>
                <entry valign="top">
                  <para>
                    <literal>local_only</literal>
                  </para>
                </entry>
                <entry valign="top">
                  <para>Realiza a acção apenas para ficheiros locais. Quando define uma preferência de desempenho como <literal>local_only</literal>, reduz a utilização de CPU.</para>
                </entry>
              </row>
              <row>
                <entry valign="top">
                  <para>
                    <literal>never</literal>
                  </para>
                </entry>
                <entry valign="top">
                  <para>Nunca realiza a acção. Quando define uma preferência de desempenho para "never", tanto a utilização de CPU como o tráfego de rede são reduzidos.</para>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </informaltable>
        <para>A tabela seguinte descreve as preferências de desempenho do gestor de ficheiros. Para o melhor desempenho, defina os valores das preferências como <literal>never</literal>.</para>
        <informaltable frame="topbot">
          <tgroup cols="2" colsep="0" rowsep="0">
            <colspec colwidth="43.34*"/>
            <colspec colwidth="56.66*"/>
            <thead>
              <row rowsep="1">
                <entry>
                  <para>Preferência</para>
                </entry>
                <entry>
                  <para>Descrição</para>
                </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry valign="top">
                  <para>
                    <literal>show_icon_text</literal>
                  </para>
                </entry>
                <entry valign="top">
                  <para>Especifica quando antever o conteúdo de ficheiros de texto no ícone que representa o ficheiro. Para nunca antever o conteúdo dos ficheiros de texto, execute o seguinte comando:</para>
                  <screen><userinput>gconftool-2 \
--type string \
--set /apps/nautilus/preferences/show_icon_text never</userinput></screen>
                  <para>Em alternativa, os utilizadores podem realizar os seguintes passos:</para>
                  <orderedlist>
                    <listitem>
                      <para>Seleccionar <menuchoice><guimenu>Editar</guimenu><guimenuitem>Preferências</guimenuitem></menuchoice> numa janela do gestor de ficheiros, depois seleccionar <guilabel>Antever</guilabel>.</para>
                    </listitem>
                    <listitem>
                      <para>Seleccionar uma opção para a preferência <guilabel>Apresentar texto nos ícones</guilabel>.</para>
                    </listitem>
                  </orderedlist>
                </entry>
              </row>
              <row>
                <entry valign="top">
                  <para>
                    <literal>show_directory_item_counts</literal>
                  </para>
                </entry>
                <entry valign="top">
                  <para>Especifica quando apresentar o número de itens nas pastas. Para nunca apresentar o número de itens nas pastas, execute o seguinte comando:</para>
                  <screen><userinput>gconftool-2 \
--type string \
--set /apps/nautilus/preferences/show_directory_item_counts never</userinput></screen>
                  <para>Em alternativa, os utilizadores podem realizar os seguintes passos:</para>
                  <orderedlist>
                    <listitem>
                      <para>Seleccionar <menuchoice><guimenu>Editar</guimenu><guimenuitem>Preferências</guimenuitem></menuchoice> numa janela do gestor de ficheiros, depois seleccionar <guilabel>Antever</guilabel>.</para>
                    </listitem>
                    <listitem>
                      <para>Seleccione uma opção para a preferência <guilabel>Contar o número de itens</guilabel>.</para>
                    </listitem>
                  </orderedlist>
                </entry>
              </row>
              <row>
                <entry valign="top">
                  <para>
                    <literal>show_image_thumbnails</literal>
                  </para>
                </entry>
                <entry valign="top">
                  <para>Especifica quando apresentar imagens de amostra dos ficheiros de imagens. Para nunca apresentar as imagens de amostra, execute o seguinte comando:</para>
                  <screen><userinput>gconftool-2 \
--type string \
--set /apps/nautilus/preferences/show_image_thumbnails never</userinput></screen>
                  <para>Em alternativa, os utilizadores podem realizar os seguintes passos:</para>
                  <orderedlist>
                    <listitem>
                      <para>Seleccionar <menuchoice><guimenu>Editar</guimenu><guimenuitem>Preferências</guimenuitem></menuchoice> numa janela do gestor de ficheiros, depois seleccionar <guilabel>Antever</guilabel>.</para>
                    </listitem>
                    <listitem>
                      <para>Seleccione uma opção para a preferência <guilabel>Apresentar amostras</guilabel>.</para>
                    </listitem>
                  </orderedlist>
                </entry>
              </row>
              <row>
                <entry valign="top">
                  <para>
                    <literal>preview_sound</literal>
                  </para>
                </entry>
                <entry valign="top">
                  <para>Especifica quando antever o conteúdo de ficheiros de som. Para nunca antever o conteúdo de ficheiros de som, execute o seguinte comando:</para>
                  <screen><userinput>gconftool-2 \
--type string \
--set /apps/nautilus/preferences/preview_sound never</userinput></screen>
                  <para>Em alternativa, os utilizadores podem realizar os seguintes passos:</para>
                  <orderedlist>
                    <listitem>
                      <para>Seleccionar <menuchoice><guimenu>Editar</guimenu><guimenuitem>Preferências</guimenuitem></menuchoice> numa janela do gestor de ficheiros, depois seleccionar <guilabel>Antever</guilabel>.</para>
                    </listitem>
                    <listitem>
                      <para>Seleccione uma opção para a preferência <guilabel>Antever ficheiros de som</guilabel>.</para>
                    </listitem>
                  </orderedlist>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </informaltable>
      </sect3>
      <sect3 id="performance-10">
        <title>Desligar o Painel Lateral, Barra de Ferramentas e Barra de Localização</title>
        <indexterm>
          <primary>gestor de ficheiros</primary>
          <secondary>painel lateral, desligar</secondary>
        </indexterm>
        <para>O gestor de ficheiros inclui preferências que lhe permitem desligar o painel lateral e a barra de ferramentas. Para melhorar o desempenho do gestor de ficheiros, desligue o painel lateral e a barra de ferramentas.</para>
        <para>Para desligar o painel lateral, execute o seguinte comando:</para>
        <screen><userinput>gconftool-2 \
--type bool \
--set /apps/nautilus/preferences/start_with_sidebar false</userinput></screen>
        <para><indexterm><primary>gestor de ficheiros</primary><secondary>barra de ferramentas, desligar</secondary></indexterm>Para desligar a barra de ferramentas, execute o seguinte comando:</para>
        <screen><userinput>gconftool-2 \
--type bool \
--set /apps/nautilus/preferences/start_with_toolbar false</userinput></screen>
        <para>Pode também desligar a barra de localização. Os utilizadores podem utilizar o atalho de teclado <keycombo><keycap>Ctrl</keycap><keycap>L</keycap></keycombo> para apresentar a barra de localização quando necessária.</para>
        <para><indexterm><primary>gestor de ficheiros</primary><secondary>barra de localização, desligar</secondary></indexterm>Para desligar a barra de localização, execute o seguinte comando:</para>
        <screen><userinput>gconftool-2 \
--type bool \
--set /apps/nautilus/preferences/start_with_location_bar false</userinput></screen>
      </sect3>
      <sect3 id="performance-11">
        <title>Desligar a Área de Trabalho</title>
        <indexterm>
          <primary>gestor de ficheiros</primary>
          <secondary>área de trabalho, desligar</secondary>
        </indexterm>
        <indexterm>
          <primary>área de trabalho</primary>
          <secondary>desligar</secondary>
        </indexterm>
        <para>O gestor de ficheiros contém uma preferência que permite aos utilizadores utilizar o <application>Nautilus</application> para gerir a área de trabalho. Pode desactivar a área de trabalho para melhorar o desempenho. No entanto, se desactivar a área de trabalho, não poderá realizar as seguintes acções:</para>
        <itemizedlist>
          <listitem>
            <para>Utilizar o gestor de ficheiros para alterar o padrão ou cor do fundo da área de trabalho.</para>
          </listitem>
          <listitem>
            <para>Utilizar objectos da área de trabalho, tais como o <guilabel>Lixo</guilabel>. Os objectos de área de trabalho não são apresentados sobre esta.</para>
          </listitem>
        </itemizedlist>
        <para>Para desactivar a área de trabalho, execute o seguinte comando:</para>
        <screen><userinput>gconftool-2 \
--type bool \
--set /apps/nautilus/preferences/show_desktop false</userinput></screen>
      </sect3>
    </sect2>
  </sect1>
  <sect1 id="performance-12">
    <title>Reduzir o Tráfego de Rede do Sistema de Janelas X</title>
    <indexterm>
      <primary>reduzir</primary>
      <secondary>tráfego de rede do Sistema de Janelas X</secondary>
    </indexterm>
    <indexterm>
      <primary>tráfego de rede do Sistema de Janelas X, reduzir</primary>
    </indexterm>
    <indexterm>
      <primary>tráfego de rede, reduzir</primary>
    </indexterm>
    <para>Esta secção descreve as preferências que pode definir, no Ambiente de Trabalho GNOME, para reduzir o tráfego de rede do Sistema de Janelas X.</para>
    <sect2 id="performance-14">
      <title>Utilizar Opções de Tema que Criem Menos Tráfego de Rede</title>
      <indexterm>
        <primary>temas</primary>
        <secondary>opções de moldura de janela</secondary>
        <tertiary>e tráfego de rede</tertiary>
      </indexterm>
      <indexterm>
        <primary>temas</primary>
        <secondary>e tráfego de rede</secondary>
      </indexterm>
      <para>Os protocolos de ecrã remoto não transferem todos os pixels num bloco de pixels se todos os pixels nesse bloco forem da mesma cor.</para>
      <para>Para reduzir o tráfego de rede do Sistema de Janelas X, utilize uma opção de tema de moldura das janelas que utilize cores sólidas. Isto é, utilize uma das seguintes opções de moldura de janela:</para>
      <itemizedlist>
        <listitem>
          <para>Atlanta</para>
        </listitem>
        <listitem>
          <para>Esco</para>
        </listitem>
      </itemizedlist>
      <para>Para informações sobre como alterar opções de temas, consulte <xref linkend="performance-3"/>.</para>
    </sect2>
    <sect2 id="performance-15">
      <title>Reduzir o Tráfego de Rede Desligando a Apresentação de Ícones em Menus</title>
      <indexterm>
        <primary>ícones de menus</primary>
        <secondary>e tráfego de rede</secondary>
      </indexterm>
      <para>Alguns itens nos menus apresentam um ícone ao lado do item. Se o ícone estiver noutro sistema de ficheiros, esta funcionalidade pode aumentar o tráfego de rede do Sistema de Janelas X. Esta funcionalidade pode também aumentar o tráfego de rede do Sistema de Janelas X se os painéis estiverem a ser apresentados numa máquina remota.</para>
      <para>Para informações sobre como desligar esta funcionalidade, consulte <xref linkend="performance-2"/>.</para>
    </sect2>
  </sect1>
  <sect1 id="performance-17">
    <title>Reduzir a Utilização de Cor e Melhorar a Qualidade da Apresentação</title>
    <indexterm>
      <primary>reduzir</primary>
      <secondary>utilização de cores</secondary>
    </indexterm>
    <indexterm>
      <primary>utilização de cores</primary>
      <secondary>reduzir</secondary>
    </indexterm>
    <indexterm>
      <primary>qualidade da apresentação, melhorar</primary>
    </indexterm>
    <para>A maioria dos computadores modernos suportam 24-bit de cores, isto é, 16.777.216 cores. No entanto, muitos utilizadores ainda utilizam sistemas que apenas suportam 8-bit de cores, isto é, 256 cores.</para>
    <para>O Ambiente de Trabalho GNOME utiliza uma <firstterm>paleta de cores segura para web</firstterm>. Esta paleta é uma multi-usos com 216 cores, desenhada para optimizar a utilização de cores em sistemas que suportam 8-bit de cores. No entanto, alguns componentes visuais do Ambiente de Trabalho GNOME foram desenhados para sistemas que suportam 24-bit de cores.</para>
    <para>Os seguintes problemas de visualização podem ocorrer em sistemas que suportem 8-bit de cores.</para>
    <itemizedlist>
      <listitem>
        <para>Janelas, ícones, e imagens de fundo poderão parecer granuladas. Muitos temas, imagens de fundo, e ícones utilizam cores que não constam na paleta segura para web. As cores que não constam nessa paleta são substituídas pelo equivalente mais semelhante ou uma aproximação. Esta utilização de cores de substituição causa a aparência granulada.</para>
      </listitem>
      <listitem>
        <para>Aplicações que não utilizam a paleta de cores seguras para web têm menos cores disponíveis. Podem ocorrer erros nas cores. Algumas cores podem não ser visíveis no interface de utilizador da aplicação. Algumas aplicações poderão terminar em erro se a aplicação for incapaz de alocar cores.</para>
      </listitem>
      <listitem>
        <para>Poderá ocorrer a intermitência de cores quando o utilizador alterna entre aplicações que utilizam a paleta de cores segura para web e aplicações que não utilizam esta paleta. As aplicações que não utilizam esta paleta poderão utilizar um mapa de cores personalizado. Quando este mapa é utilizado, outros componentes visuais poderão perder cores, e depois tornarem-se invisíveis.</para>
      </listitem>
    </itemizedlist>
    <para>As secções seguintes descrevem como optimizar a aparência do Ambiente de Trabalho GNOME para sistemas que apenas suportam 8-bit de cores.</para>
    <sect2 id="performance-20">
      <title>Utilizar Opções de Tema que Utilizam a Paleta de Cores Segura para Web</title>
      <indexterm>
        <primary>temas</primary>
        <secondary>opções de moldura de janela</secondary>
        <tertiary>e utilização de cor</tertiary>
      </indexterm>
      <indexterm>
        <primary>temas</primary>
        <secondary>e utilização de cor</secondary>
      </indexterm>
      <para>Algumas opções de temas de moldura das janelas utilizam cores que constam na paleta de cores seguras para web. Bright e Esco utilizam cores desta paleta. Bright e Esco não têm a aparência granulada de outras opções de moldura de janelas em ecrãs com 8-bit de cores. Utilize o Bright ou o Esco para a melhor apresentação de cores nos modos visuais de 8-bit de cores.</para>
      <para>Para informações sobre como alterar opções de temas, consulte <xref linkend="performance-3"/>.</para>
    </sect2>
    <sect2 id="performance-21">
      <title>Reduzir a Utilização de Cores Desligando a Apresentação de Ícones em Menus</title>
      <indexterm>
        <primary>ícones de menus</primary>
        <secondary>e utilização de cor</secondary>
      </indexterm>
      <para>Alguns itens nos menus apresentam um ícone ao lado do item. Se o ícone contiver cores que não constam da paleta de cores seguras para web, esta funcionalidade pode aumentar o número de cores utilizadas.</para>
      <para>Para informações sobre como desligar esta funcionalidade, consulte <xref linkend="performance-2"/>.</para>
    </sect2>
    <sect2 id="performance-18">
      <title>Reduzir a Utilização de Cores Desligando o Ecrã de Logotipo</title>
      <indexterm>
        <primary>ecrã de logotipo</primary>
        <secondary>e utilização de cor</secondary>
      </indexterm>
      <para>Pode desligar o ecrã de logotipo para tornar disponíveis mais cores para o Ambiente de Trabalho GNOME e as suas aplicações.</para>
      <para>Para informações sobre como desligar o ecrã de logotipo, consulte <xref linkend="performance-6"/>.</para>
    </sect2>
    <sect2 id="performance-19">
      <title>Reduzir a Utilização de Cores Utilizando uma Cor Sólida para o Fundo</title>
      <indexterm>
        <primary>fundo da área de trabalho</primary>
        <secondary>utilizar uma cor sólida</secondary>
      </indexterm>
      <para>Utilize uma cor sólida para o fundo da área de trabalho. A utilização de uma cor sólida reduz o número de cores utilizadas pelo Ambiente de Trabalho GNOME.</para>
      <para>Para definir uma cor sólida como fundo, execute os seguintes comandos:</para>
      <screen><userinput>gconftool-2 \
--type string \
--set /desktop/gnome/background/picture_options none</userinput></screen>
      <screen><userinput>gconftool-2 \
--type string \
--set /desktop/gnome/background/color_shading_type solid</userinput></screen>
      <screen><userinput>gconftool-2 \
--type string \
--set /desktop/gnome/background/primary_color #<replaceable>hexadecimal-da-cor</replaceable></userinput></screen>
      <para>Em alternativa, os utilizadores podem utilizar a ferramenta de preferências <application>Fundo da Área de Trabalho</application> para seleccionarem uma cor para o fundo.</para>
    </sect2>
  </sect1>
</chapter>

<chapter id="lockdown-0">
  <title>Desactivar Funcionalidades do Ambiente de Trabalho GNOME</title>
  <highlights>
    <para>Este capítulo descreve como desactivar certas funcionalidades do Ambiente de Trabalho GNOME.</para>
  </highlights>
  <sect1 id="lockdown-1">
    <title>Introdução à Desactivação de Funcionalidades do Ambiente de Trabalho GNOME</title>
    <indexterm>
      <primary>desactivar funcionalidades</primary>
      <secondary>introdução</secondary>
    </indexterm>
    <indexterm>
      <primary>trancar</primary>
      <see>desactivar funcionalidades</see>
    </indexterm>
    <para>O Ambiente de Trabalho GNOME inclui funcionalidades que pode utilizar para restringir o acesso a determinadas funcionalidades do GNOME. A desactivação de funcionalidades é útil em várias situações onde deseje limitar as acções que os utilizadores podem realizar no computador. Por exemplo, pode desejar impedir operações de linha de comando num computador que esteja disponível ao público numa exposição. O desactivar de funcionalidades é também conhecido como <emphasis>trancar</emphasis> funcionalidades.</para>
    <para>Pode definir chaves <application>GConf</application> para desactivar funcionalidades. Para informações sobre como definir chaves <application>GConf</application>, consulte <xref linkend="gconf-0"/>. Pode também utilizar a aplicação <application>Editor de Configuração</application> para definir chaves <application>GConf</application> na fonte de configuração de um utilizador. Para mais informações sobre a aplicação <application>Editor de Configuração</application>, consulte o <citetitle>Manual do Editor GConf</citetitle>.</para>
  </sect1>
  <sect1 id="lockdown-manual">
    <title>Definição de Trancar Manualmente</title>
    <sect2 id="lockdown-2">
      <title>Desactivar o Trancar de Ecrã e Terminar Sessão</title>
      <indexterm>
        <primary>desactivar funcionalidades</primary>
        <secondary>trancar o ecrã</secondary>
      </indexterm>
      <indexterm>
        <primary>desactivar funcionalidades</primary>
        <secondary>terminar a sessão</secondary>
      </indexterm>
      <para>Para desactivar as funcionalidades de trancar o ecrã e terminar a sessão, defina a chave <literal>/apps/panel/global/disable_lock_screen</literal> e a chave <literal>/apps/panel/global/disable_log_out</literal> como <literal>true</literal>.</para>
      <para>Quando desactiva as funcionalidades de trancar o ecrã e terminar sessão, são removidos dos painéis os seguintes itens:</para>
      <itemizedlist>
        <listitem>
          <para>Itens de menu <guimenuitem>Trancar Ecrã</guimenuitem> e <guimenuitem>Terminar a Sessão de <replaceable>user</replaceable></guimenuitem> do <guimenu>Menu Principal</guimenu>.</para>
        </listitem>
        <listitem>
          <para>Itens de menu <guimenuitem>Trancar</guimenuitem> e <guimenuitem>Terminar Sessão</guimenuitem> no menu <menuchoice><guimenu>Adicionar ao Painel</guimenu><guimenuitem>Acções</guimenuitem></menuchoice>. Para abrir este menu, clique com o botão direito sobre um espaço vazio de um painel, depois seleccione <menuchoice><guimenu>Adicionar ao Painel</guimenu><guimenuitem>Acções</guimenuitem></menuchoice>.</para>
        </listitem>
        <listitem>
          <para>Itens de menu <guimenuitem>Trancar Ecrã</guimenuitem> e <guimenuitem>Terminar a Sessão de <replaceable>user</replaceable></guimenuitem> do menu <guimenu>Acções</guimenu> na applet de <application>Barra de Menu</application>.</para>
        </listitem>
      </itemizedlist>
      <para>Adicionalmente, todos os botões <guibutton>Trancar Ecrã</guibutton> e <guibutton>Terminar Sessão</guibutton> nos painéis estão desactivados.</para>
    </sect2>
    <sect2 id="lockdown-12">
      <title>Desactivar Operações na Linha de Comando</title>
      <indexterm>
        <primary>desactivar funcionalidades</primary>
        <secondary>linha de comando</secondary>
      </indexterm>
      <para>Para desactivar operações a partir de uma linha de comando, defina a chave <literal>/desktop/gnome/lockdown/disable_command_line</literal> como <literal>true</literal>.</para>
      <para>Quando desactiva as operações a partir de uma linha de comando, ocorrem as seguintes alterações no interface de utilizador:</para>
      <itemizedlist>
        <listitem>
          <para>O item de menu <guimenuitem>Executar Aplicação</guimenuitem> é removido dos seguintes menus:</para>
          <itemizedlist>
            <listitem>
              <para>
                <guimenu>Menu Principal</guimenu>
              </para>
            </listitem>
            <listitem>
              <para>Submenu <guimenu>Acções</guimenu> no menu <guimenu>Adicionar ao Painel</guimenu></para>
            </listitem>
            <listitem>
              <para>Menu <guimenu>Acções</guimenu> na applet de <application>Barra de Menu</application></para>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <para>Todos os botões <guibutton>Executar</guibutton> em painéis são desactivados.</para>
        </listitem>
      </itemizedlist>
      <para>Para desactivar as operações a partir da linha de comando, terá também de remover os itens de menu que iniciem aplicações de consola. Por exemplo, poderá querer remover os itens de menu que contenham os seguintes comandos:</para>
      <itemizedlist>
        <listitem>
          <para>O comando <application>Consola GNOME</application>, isto é <command>/usr/bin/gnome-terminal</command></para>
        </listitem>
        <listitem>
          <para>
            <command>/usr/bin/xterm</command>
          </para>
        </listitem>
        <listitem>
          <para>
            <command>/usr/bin/setterm</command>
          </para>
        </listitem>
      </itemizedlist>
      <para>Os itens são removidos dos seguintes menus:</para>
      <itemizedlist>
        <listitem>
          <para>
            <guimenu>Menu Principal</guimenu>
          </para>
        </listitem>
        <listitem>
          <para>
            <menuchoice>
              <guimenu>Adicionar ao Painel</guimenu>
              <guimenuitem>Iniciar do menu</guimenuitem>
            </menuchoice>
          </para>
        </listitem>
      </itemizedlist>
      <para>Para desactivar operações a partir da linha de comando, terá também de desactivar a applet <application>Linha de Comando</application>. Para desactivar a applet <application>Linha de Comando</application>, adicione a applet à chave <literal>/apps/panel/global/disabled_applets</literal>. Ao desactivar a applet <application>Linha de Comando</application>, esta é removida do <guimenu>Menu Principal</guimenu> e do menu <menuchoice><guimenu>Adicionar ao Painel</guimenu><guimenuitem>Utilitários</guimenuitem></menuchoice>.</para>
    </sect2>
    <sect2 id="lockdown-11">
      <title>Desactivar a Configuração do Painel</title>
      <indexterm>
        <primary>desactivar funcionalidades</primary>
        <secondary>configuração do painel</secondary>
      </indexterm>
      <para>Para desactivar a configuração do painel, defina a chave <literal>/apps/panel/global/locked_down</literal> como <literal>true</literal>.</para>
      <para>Quando desactiva a configuração do painel, ocorrem as seguintes alterações no interface de utilizador:</para>
      <itemizedlist>
        <listitem>
          <para>Os itens seguintes são removidos do menu de contexto do painel, e do menu de contexto da gaveta:</para>
          <itemizedlist>
            <listitem>
              <para>
                <guimenuitem>Adicionar ao Painel</guimenuitem>
              </para>
            </listitem>
            <listitem>
              <para>
                <guimenuitem>Remover Este Painel</guimenuitem>
              </para>
            </listitem>
            <listitem>
              <para>
                <guimenuitem>Propriedades</guimenuitem>
              </para>
            </listitem>
            <listitem>
              <para>
                <guimenuitem>Novo Painel</guimenuitem>
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <para>O menu de contexto dos iniciadores é desactivado.</para>
        </listitem>
        <listitem>
          <para>Os itens seguintes são removidois do menu de contexto da applet:</para>
          <itemizedlist>
            <listitem>
              <para>
                <guimenuitem>Remover Do Painel</guimenuitem>
              </para>
            </listitem>
            <listitem>
              <para>
                <guimenuitem>Trancar</guimenuitem>
              </para>
            </listitem>
            <listitem>
              <para>
                <guimenuitem>Mover</guimenuitem>
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <para>O menu de contexto do <guimenu>Menu Principal</guimenu> é desactivado.</para>
        </listitem>
        <listitem>
          <para>A funcionalidade de arrasto do iniciador é desactivada, pelo que os utilizadores não poderão arrastar iniciadores de, ou para, os painéis.</para>
        </listitem>
        <listitem>
          <para>A funcionalidade de arrasto do painel é desactivada, pelo que os utilizadores não poderão arrastar os painéis para novas localizações.</para>
        </listitem>
      </itemizedlist>
    </sect2>
  </sect1>
  <sect1 id="lockdown">
    <title>Editor de Restrições</title>
  
    <para>A partir do GNOME 2.14, passou a estar incluído um editor gráfico das políticas de restrições, o <application>Pessulus</application>, para facilitar a tarefa de desactivação de funcionalidades do ambiente de trabalho.</para>
  
    <sect2 id="lockdown-start">
      <title>Introdução</title>
  
      <para>Para iniciar o editor de restrições:</para>
  
      <itemizedlist>
        <listitem>
          <para>Click the <menuchoice>
              <guimenu>System</guimenu>
  
              <guisubmenu>Administration</guisubmenu>
  
              <guimenuitem>Lockdown Editor</guimenuitem>
            </menuchoice></para>
        </listitem>
  
        <listitem>
          <para>Execute o comando <command>pessulus</command> numa consola.</para>
        </listitem>
      </itemizedlist>
  
      <para>É apresentada uma janela com vários separadores. Cada um dos separadores representa uma categoria diferente de definições do ambiente de trabalho que podem ser desactivadas. Na secção seguinte, será discutida cada categoria e disponibilizada uma breve descrição de cada funcionalidade que pode ser desactivada.</para>
    </sect2>
  
    <sect2 id="lockdown-disabling">
      <title>Desactivar Funcionalidades</title>
  
      <para>Para desactivar uma funcionalidade, certifique-se de que a caixa de selecção ao lado da descrição da funcionalidade está activada. A maioria das definições tomam efeito imediatamente, mas algumas irão requerer que a aplicação seja reiniciada para que tenham efeito.</para>
  
      <para>Quando o <application>pessulus</application> é iniciado, tenta obter uma ligação à fonte de configurações obrigatórias do GConf. O endereço desta fonte de configuração é <literal>xml:merged:<replaceable>$prefix</replaceable>/etc/gconf/gconf.xml.mandatory</literal>. Se o utilizador que estiver a executar o <application>pessulus</application> tiver acesso a esta fonte de configuração, será apresentado um ícone de cadeado ao lado da caixa de selecção de cada uma das opções. Clicar no cadeado irá alternar se a definição é ou não obrigatória. Se a definição for obrigatória, os utilizadores normais não a poderão alterar ou sobrepor. Se o utilizador que está a executar o pessulus não tiver acesso à fonte de configuração obrigatória, o ícone de cadeado não irá ser visível. Neste caso, todas as funcionalidades desactivadas apenas serão armazenadas na fonte de configuração do utilizador e poderão ser alteradas mais tarde utilizando outras ferramentas tais como o <application>gconf-editor</application> ou <application>gconftool-2</application>. Para mais informações sobre o GConf e fontes de configurações obrigatórias, consulte <xref linkend="gconf-26"/>.</para>
  
      <para>As subsecções seguintes irão apresentar uma breve descrição das definições que podem ser desactivadas em cada categoria.</para>
  
      <note>
        <para>Dependendo das aplicações que tiver instaladas, poderá ver menos categorias do que as descritas nesta secção.</para>
      </note>
  
      <sect3 id="lockdown-disabling-general">
        <title>Geral</title>
  
        <variablelist>
          <varlistentry>
            <term>Desactivar a linha de comando</term>
  
            <listitem>
              <para>Impedir o utilizador de aceder à consola ou especificar uma linha de comando a ser executada. Por exemplo, isto irá desactivar o acesso ao diálogo de painel "Executar Aplicação".</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Desactivar a impressão</term>
  
            <listitem>
              <para>Impedir o utilizador de imprimir. Por exemplo, desactivaria o acesso ao diálogo "Imprimir" de todas as aplicações.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Desactivar a configuração de impressora</term>
  
            <listitem>
              <para>Impedir o utilizador de alterar as configurações da impressora. Por exemplo, desactivaria o acesso aos diálogos de "Configuração de Impressão" de todas as aplicações.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Desactivar a gravação em disco</term>
  
            <listitem>
              <para>Impedir o utilizador de gravar ficheiros em disco. Por exemplo, desactivaria o acesso aos diálogos "Gravar como" de todas as aplicações.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect3>
  
      <sect3 id="lockdown-disabling-panel">
        <title>Painel</title>
  
        <variablelist>
          <varlistentry>
            <term>Trancar os painéis</term>
  
            <listitem>
              <para>Se verdadeiro, o painel não permitirá quaisquer alterações à configuração do painel. No entanto applets individuais poderão ter de ser trancadas separadamente. O painel terá de ser reiniciado para que esta alteração tenha efeito.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Desactivar a saída forçada</term>
  
            <listitem>
              <para>Se verdadeiro, o painel não permitirá que um utilizador force uma aplicação a terminar removendo o acesso ao botão de forçar a saída.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Desactivar o trancar de ecrã</term>
  
            <listitem>
              <para>Se verdadeiro, o painel não permitirá que um utilizador tranque o seu ecrã removendo o acesso de menu às entradas de trancar ecrã.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Desactivar o terminar sessão</term>
  
            <listitem>
              <para>Se verdadeiro, o painel não permitirá que um utilizador termine uma sessão removendo o acesso de menu às entradas de terminar sessão.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect3>
  
      <sect3 id="lockdown-disabling-browser">
        <title>Navegador Web Epiphany</title>
  
        <variablelist>
          <varlistentry>
            <term>Desactivar o sair</term>
  
            <listitem>
              <para>Utilizador não possui permissões para fechar o Epiphany.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Desactivar URL arbitrário</term>
  
            <listitem>
              <para>Desactivar a possibilidade do utilizador introduzir um URL no Epiphany.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Desactivar a edição de marcadores</term>
  
            <listitem>
              <para>Desactivar a possibilidade do utilizador adicionar ou editar os seus marcadores.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Desactivar o histórico</term>
  
            <listitem>
              <para>Desactivar toda a informação de histórico desactivando o botão de retroceder e avançar, não permitindo o acesso ao diálogo de histórico e escondendo a lista de marcadores mais utilizados.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Desactivar controlo de cor javascript</term>
  
            <listitem>
              <para>Desactivar controlo JavaScript sobre a cor da janela.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Desactivar a edição da barra de ferramentas</term>
  
            <listitem>
              <para>Desactivar a possibilidade do utilizador editar as barras de ferramentas.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Forçar o modo de ecrã completo</term>
  
            <listitem>
              <para>Tranca o Epiphany em modo de ecrã completo.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Esconder a barra de menu</term>
  
            <listitem>
              <para>Por omissão, esconde a barra de menu. A barra de menu continua acessível utilizando F10.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Desactivar protocolos inseguros</term>
  
            <listitem>
              <para>Inactiva a leitura de conteúdo através de protocolos inseguros. Protocolos seguros são http e https.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect3>
  
      <sect3 id="lockdown-disabling-screensaver">
        <title>Protector de Ecrã GNOME</title>
  
        <variablelist>
          <varlistentry>
            <term>Trancar ao activar</term>
  
            <listitem>
              <para>Definir como VERDADEIRO para trancar o ecrã quando o protector de ecrã se activar.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Allow log out</term>
  
            <listitem>
              <para>Definir como VERDADEIRO para disponibilizar uma opção no diálogo de destrancar para terminar sessão após uma espera. A Espera é definida na chave "logout_delay".</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Permitir trocar de utilizador</term>
  
            <listitem>
              <para>Definir como VERDADEIRO para disponibilizar uma opção no diálogo de destrancar para alternar para outra conta de utilizador.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect3>
    </sect2>
  </sect1>
</chapter>

  
  <appendix id="appendixa-0">
    <title>Directórios Escondidos</title>
    <highlights>
      <para>Este apendice descreve os directórios escondidos que o Ambiente de Trabalho GNOME adiciona aos directórios pessoais dos utilizadores.</para>
    </highlights>
    <indexterm>
      <primary>directórios escondidos</primary>
    </indexterm>
    <indexterm>
      <primary>directórios .*</primary>
      <see>directórios escondidos</see>
    </indexterm>
    <para>Um directório escondido é um que tem um nome iniciado por um ponto (.). <xref linkend="appendixa-TBL-2"/> descreve os directórios escondidos que o Ambiente de Trabalho GNOME adiciona aos directórios pessoais dos utilizadores.</para>
    <table frame="topbot" id="appendixa-TBL-2">
      <title>Directórios Escondidos nos Directórios Pessoais dos Utilizadores</title>
      <tgroup cols="2" colsep="0" rowsep="0">
        <colspec colname="colspec0" colwidth="33*"/>
        <colspec colname="colspec1" colwidth="67*"/>
        <thead>
          <row rowsep="1">
            <entry>
              <para>Directório</para>
            </entry>
            <entry>
              <para>Descrição</para>
            </entry>
          </row>
        </thead>
        <tbody>
          <row>
            <entry valign="top">
              <para>
                <filename>.config</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Esta é a localização por omissão da variável de ambiente <envar>XDG_CONFIG_HOME</envar>, caso esta não esteja definida. Os menus definidos pelo utilizador podem ser criados em <filename>menus/applications.menu</filename>.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.fonts</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Contém fontes exclusivamente para um determinado utilizador. Quando um utilizador instala uma fonte arrastando-a para o URI <filename>fonts:///</filename> no nautilus, a fonte é copiada para esta localização.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.esd_auth</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Contém a cookie de autenticação do daemon de som GNOME. O daemon de som GNOME é o Enlightened Sound Daemon (ESD).</para>
<para><emphasis>NOTA: Este é um ficheiro, não um directório.</emphasis></para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.gconf</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Contém a fonte de configuração <application>GConf</application> do utilizador. Quando o utilizador define uma preferência, a nova informação de preferência é adicionada a esta localização.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.gconfd</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Contém os seguintes detalhes do daemon <application>GConf</application>:</para>
              <itemizedlist>
                <listitem>
                  <para>Informação de configuração.</para>
                </listitem>
                <listitem>
                  <para>Informação de restrições de objectos que são referenciados por uma <firstterm>Referência Inter-operável de Objecto (IOR)</firstterm>.</para>
                </listitem>
                <listitem>
                  <para>Informação de estado de objectos que são referenciados por uma IOR.</para>
                </listitem>
              </itemizedlist>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.gnome</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Contém dados de aplicação específicos do utilizador que não são armazenados no repositório do <application>GConf</application>.</para>
<para><emphasis>NOTA: este directório é obsoleto e apenas é utilizado por aplicações do GNOME 1.x.</emphasis></para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.gnome2</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Contém dados de aplicação específicos do utilizador que não são armazenados no repositório do <application>GConf</application>. Por exemplo, este directório contém o seguinte:</para>
              <itemizedlist>
                <listitem>
                  <para>Informação de atalhos de teclado.</para>
                </listitem>
                <listitem>
                  <para>Informação de localização das janelas.</para>
                </listitem>
                <listitem>
                  <para>Ficheiros de definição dos iniciadores dos painéis.</para>
                </listitem>
              </itemizedlist>
              <para>Este directório poderá também conter subdirectórios onde são armazenados dados específicos de aplicações.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.gnome2-private</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Ignore este directório. Ele não tem qualquer propósito, à data de elaboração deste guia.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.local/share</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Esta é a localização por omissão da variável de ambiente <envar>XDG_DATA_HOME</envar>, se não estiver definida. Os iniciadores criados pelo utilizador poderão estar no subdirectório <filename>applications</filename>. Tipos mime definidos pelo utilizador poderão ser criados em <filename>mime/packages/Overrides.xml</filename>.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.metacity</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Contém dados de sessão do gestor de janelas <application>Metacity</application>.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.nautilus</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Contém dados do gestor de ficheiros que são específicos do utilizador. Por exemplo, este directório poderá conter o seguinte:</para>
              <itemizedlist>
                <listitem>
                  <para>Metadados sobre os directórios com que o utilizador trabalha.</para>
                </listitem>
<!--Removed Nautilus themes.-->
                <listitem>
                  <para>Emblemas <application>Nautilus</application> adicionados pelo utilizador.</para>
                </listitem>
                <listitem>
                  <para>Imagens de fundo do <application>Nautilus</application>.</para>
                </listitem>
              </itemizedlist>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.themes</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Contém opções de temas de controlos, de moldura de janelas, e ícones que o utilizador tenha adicionado. O utilizador pode adicionar temas a partir da ferramenta de preferências <application>Tema</application>.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.thumbnails</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Contém imagens de amostra do utilizador. As imagens de amostra são utilizadas no gestor de ficheiros. O gestor de ficheiros contém uma preferência que o utilizador pode seleccionar para parar de gerar imagens de amostra.</para>
            </entry>
          </row>
        </tbody>
      </tgroup>
    </table>
  </appendix>

  
  <appendix id="appendixb-0">
    <title>Nota de Segurança sobre a Configuração de Impressoras SMB</title>
    <highlights>
      <para>Este apêndice apresenta uma nota de segurança relacionada com a configuração de impressoras em partilhas de rede Windows.</para>
    </highlights>
    <indexterm>
      <primary>Samba</primary>
      <see>SMB</see>
    </indexterm>
    <indexterm>
      <primary>Partilhas de rede Windows</primary>
      <see>SMB</see>
    </indexterm>
    <indexterm>
      <primary>SMB</primary>
      <secondary>configurar impressoras</secondary>
    </indexterm>
    <para>Partilhas de rede Windows são também referidas como partilhas Samba ou <firstterm>SMB</firstterm>. Quando configura uma impressora numa partilha SMB, tem de introduzir um nome de utilizador e senha para a fila de impressão.</para>
    <para>O nome de utilizador e senha para a fila de impressão são armazenados como texto não-encriptado no ficheiro <filename>/etc/cups/printers.conf</filename>. Este ficheiro tem permissões de leitura para utilizadores com privilégios de root, pelo que qualquer utilizador com estes privilégios poderá ler o nome de utilizador e senha da fila de impressão.</para>
    <para>Para reduzir o impacto de possíveis violações de segurança, certifique-se de que o utilizador e senha necessários para aceder à fila de impressão apenas são utilizados para esse propósito. Isto garante que qualquer violação de segurança será restrita à utilização indevida da fila de impressão.</para>
  </appendix>

<glossary id="glossary-1">
  <title>Glossário</title>
  <!-- these anchors are to maintain backwards compatibility for 
       obsolete glossary entries -->

  <!-- file content sniffer -->
  <anchor id="glossary-23"/>
  <!-- MIME information file -->
  <anchor id="glossary-20"/>
  <!-- MIME keys file -->
  <anchor id="glossary-21"/>
  <!-- MIME type registry -->
  <anchor id="glossary-22"/>
  <!-- pattern mask -->
  <anchor id="glossary-25"/>
  <!-- vfolder -->
  <anchor id="glossary-9"/>
  <!-- vfolder information file -->
  <anchor id="glossary-10"/>

  <glossentry id="glossary-13">
    <glossterm>ficheiro <filename>.desktop</filename></glossterm>
    <glosssee otherterm="glossary-11"/>
  </glossentry>
  <glossentry id="glossary-14">
    <glossterm>ficheiro <filename>.directory</filename></glossterm>
    <glosssee otherterm="glossary-12"/>
  </glossentry>
  <glossentry id="glossary-32">
    <glossterm>ficheiro <filename>.omf</filename></glossterm>
    <glosssee otherterm="glossary-31"/>
  </glossentry>
  <glossentry id="glossary-18">
    <glossterm>registo de aplicações</glossterm>
    <glossdef>
      <para>O registo de aplicações é uma colecção de ficheiros de definição de iniciadores que registam aplicações. A localização do registo de aplicações do Ambiente de Trabalho GNOME é <filename>$XDG_DATA_DIRS:$XDG_DATA_HOME/applications/</filename>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-11">
    <glossterm>ficheiro de definição de iniciador</glossterm>
    <glossdef>
      <para>Um ficheiro de dados que disponibiliza informação sobre um item num menu. O ficheiro de definição de iniciador especifica os detalhes do item tais como o nome, o comando a executar, o ícone, etc. Ficheiros de definição de iniciador têm a extensão <filename>.desktop</filename>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-12">
    <glossterm>ficheiro de definição de directório</glossterm>
    <glossdef>
      <para>Um ficheiro de dados que disponibiliza informação sobre um menu. O ficheiro de definição de directório especifica detalhes tais como o nome do menu, a sua dica, e o ícone que o representa. Os ficheiros de definição de directório têm a extensão <filename>.directory</filename>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-5">
    <glossterm>Fonte de configuração GConf</glossterm>
    <glossdef>
      <para>Uma localização de armazenamento no repositório <application>GConf</application>. Por exemplo, <literal>xml:readonly:/etc/gconf/gconf.xml.defaults</literal>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-2">
    <glossterm>Chave de preferência GConf</glossterm>
    <glossdef>
      <para>Um elemento no repositório <application>GConf</application> que corresponde a uma preferência numa aplicação. Por exemplo, a chave <literal>/apps/gnome-session/options/show_splash_screen</literal> corresponde à opção <guilabel>Show splash screen on login</guilabel> na ferramenta de preferências <application>Sessões</application>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-6">
    <glossterm>Ficheiro de caminhos Gconf</glossterm>
    <glossdef>
      <para>Um ficheiro que lista as fontes de configuração GConf, e a ordem pela qual procurá-las.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-3">
    <glossterm>Esquema GConf</glossterm>
    <glossdef>
      <para>Um termo agregador para uma chave e um objecto de esquema.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-4">
    <glossterm>Ficheiro de definição de esquema GConf</glossterm>
    <glossdef>
      <para>Um ficheiro de definição de esquema <application>GConf</application> lista as chaves de uma aplicação específica, e define as características das chaves. Os esquemas <application>GConf</application> são gerados a partir de ficheiros de definição de esquema. Estes ficheiros têm a extensão <filename>.schemas</filename>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-7">
    <glossterm>Chave de esquema GConf</glossterm>
    <glossdef>
      <para>Uma chave que armazena um objecto de esquema para uma chave de preferências. Por exemplo, <literal>/schemas/desktop/gnome/interface/font_name</literal> é uma chave de esquema para a chave de preferência <literal>/desktop/gnome/interface/font_name</literal>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-8">
    <glossterm>Objecto de esquema GConf</glossterm>
    <glossdef>
      <para>Um elemento numa fonte de configuração que contém informação sobre uma chave de preferência. O objecto de esquema contém informação tal como o valor por omissão da chave de preferência e a documentação da mesma.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-glob-pattern">
    <glossterm>padrão glob</glossterm>
    <glossdef>
      <para>Um padrão glob é utilizado para realizar equivalências a um nome de ficheiro utilizando caracteres especiais tais como <literal>*</literal> e <literal>?</literal>. O sistema MIME utiliza padrões glob para atribuir tipos MIME baseados nos nomes dos ficheiros e, mais frequentemente, nas extensões dos ficheiros.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-26">
    <glossterm>Referência de Objecto Interoperável</glossterm>
    <glossdef>
      <para>Uma Referência de Objecto Interoperável (IOR) é uma expressão que representa uma referência a um objecto CORBA. Uma IOR codifica um nome de máquina e porto para onde podem ser enviadas mensagens para controlar o objecto. A IOR também contém uma chave de objecto para identificá-lo.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-magic-rule">
    <glossterm>regra mágica</glossterm>
    <glossdef>
      <para>Uma regra mágica define o tipo MIME de um ficheiro especificando dados de texto ou binários a procurar no início desse ficheiro. Deslocações para realizar a procura são definidas numa regra mágica.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-menu-def">
    <glossterm>Ficheiros de definição de menus</glossterm>
    <glossdef>
      <para>Ficheiros de definição de menu definem a hierarquia de menus que é utilizada na barra de menu do GNOME.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-27">
    <glossterm>MIME</glossterm>
    <glossdef>
      <para>Extensão Multi-propósito de Correio na Internet</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-mime-source-xml">
    <glossterm>ficheiro XML de origem MIME</glossterm>
    <glossdef>
      <para>Um ficheiro XML de origem MIME define como são os tipos MIME resolvidos para diferentes tipos de ficheiros. Existem três formas de o fazer: utilizando extensões de ficheiros (padrões glob), regras mágicas ou nomes de espaço XML. Ficheiros XML de origem MIME encontram-se no directório <filename>$XDG_DATA_DIRS:$XDG_DATA_HOME/mime/packages</filename>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-16">
    <glossterm>Tipo MIME</glossterm>
    <glossdef>
      <para>Um tipo MIME identifica o formato de um ficheiro. O tipo MIME permite às aplicações lerem o ficheiro. Por exemplo, uma aplicação de correio pode utilizar o tipo MIME <literal>image/png</literal> para detectar que um ficheiro de Gráfico Portável de Rede (PNG) está anexado a uma imagem.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-mime-type-database">
    <glossterm>base de dados de tipos MIME</glossterm>
    <glossdef>
      <para>A base de dados de tipos MIME é uma colecção de ficheiros que registam tipos MIME no ambiente de trabalho. A localização da base de dados de tipos MIME é o directório <filename>$XDG_DATA_DIRS:$XDG_DATA_HOME/mime</filename>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-31">
    <glossterm>ficheiro OMF</glossterm>
    <glossdef>
      <para>Ficheiro de Arquitectura de Metadados em Código Aberto. Este é o ficheiro que é associado ao ficheiro XML de um manual. O ficheiro OMF contém informação sobre o manual que é utilizada pelo navegador de Ajuda. Os ficheiros OMF têm a extensão <filename>.omf</filename>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-33">
    <glossterm>PAM</glossterm>
    <glossdef>
      <para>Módulos Adicionáveis de Autenticação.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-28">
    <glossterm>protector de ecrã</glossterm>
    <glossdef>
      <para>Um protector de ecrã é uma aplicação que substitui a imagem num ecrã quando este não está a ser utilizado. A aplicação de protecção de ecrã do Ambiente de Trabalho GNOME é o <application>XScreenSaver</application>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-29">
    <glossterm>protector de ecrã</glossterm>
    <glossdef>
      <para>Um protector de ecrã é uma aplicação que substitui a imagem num ecrã quando este não está a ser utilizado.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-34">
    <glossterm>UDP</glossterm>
    <glossdef>
      <para>Protocolo de Datagramas de Utilizador (UDP).</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-15">
    <glossterm>Identificador Uniforme de Recurso.</glossterm>
    <glossdef>
      <para>Um Identificador Uniforme de Recurso (URI) é uma expressão que identifica uma locatização específica num sistema de ficheiros ou na web. Por exemplo, o endereço de uma página web é um URI.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-24">
    <glossterm>paleta de cores seguras web</glossterm>
    <glossdef>
      <para>A paleta de cores seguras web é uma paleta de 216 cores multi-propósito. Esta está desenhada para optimizar a utilização de cores em sistemas que suportam 8-bit de cor. A paleta de cores seguras web é também designada de <emphasis>paleta de cores Netscape</emphasis> e de <emphasis>cubo de cores Netscape</emphasis>.</para>
    </glossdef>
  </glossentry>
</glossary>


<!-- If generating PDFs and if you want an index, then uncomment <index/> -->
<!-- <index/> -->

</book>
