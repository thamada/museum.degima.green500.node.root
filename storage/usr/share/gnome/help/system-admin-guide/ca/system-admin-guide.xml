<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN" "http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd" [
<!ENTITY gnomeversion "2.14">
<!ENTITY manrevision "2.4">
<!ENTITY date "March 2004">
<!ENTITY LEGAL SYSTEM "legal.xml">
<!ENTITY gconf SYSTEM "gconf.xml">
<!ENTITY menustructure SYSTEM "menustructure.xml">
<!ENTITY themes SYSTEM "themes.xml">
<!ENTITY fontconfig SYSTEM "fontconfig.xml">
<!ENTITY mimetypes SYSTEM "mimetypes.xml">
<!ENTITY screensavers SYSTEM "screensavers.xml">
<!ENTITY sessions SYSTEM "sessions.xml">
<!ENTITY help SYSTEM "help.xml">
<!ENTITY performance SYSTEM "performance.xml">
<!ENTITY lockdown SYSTEM "lockdown.xml">
<!ENTITY appendixa SYSTEM "appendixa.xml">
<!ENTITY appendixb SYSTEM "appendixb.xml">
<!ENTITY gloss SYSTEM "glossary.xml">
]>
<book id="index" lang="ca"> 
  <title>Guia de l'administració del sistema del GNOME</title> 
  <bookinfo> 
    <abstract role="description">
    <para>La guia de l'administració del sistema proporciona informació als administradors sobre com configurar i gestionar els diferents aspectes de l'entorn d'escriptori per als usuaris.</para>
    </abstract>
	 <copyright> 
		<year>2006</year> 
		<holder>Brent Smith</holder> 
	 </copyright>
	 <copyright> 
		<year>2005</year> 
		<holder>Brent Smith</holder> 
	 </copyright>
	 <copyright> 
		<year>2004</year> 
		<holder>Sun Microsystems</holder> 
	 </copyright>
	 <copyright> 
		<year>2003</year> 
		<holder>Sun Microsystems</holder> 
	 </copyright><copyright><year>2008, 2009</year><holder>Joan Duran (jodufi@gmail.com)</holder></copyright>

<!-- translators: uncomment this:
  <copyright>
   <year>2002</year>
   <holder>ME-THE-TRANSLATOR (Latin translation)</holder>
  </copyright>
-->
	 <publisher role="maintainer"> 
		<publishername>Projecte de documentació del GNOME</publishername> 
	 </publisher>   <legalnotice id="legalnotice">
	<para>Teniu permís per a copiar, distribuir i/o modificar aquest document, sota els termes de la Llicència de documentació lliure GNU (GFDL), versió 1.1 o qualsevol versió publicada posteriorment per la Free Software Foundation, sense seccions invariants, sense texts de portada i sense texts de contraportada. Podeu trobar una còpia de la GFDL en aquest <ulink type="help" url="ghelp:fdl">enllaç</ulink> o en el fitxer COPYING-DOCS distribuït amb aquest manual.</para>
         <para>Aquest manual forma part d'una col·lecció de manuals del GNOME distribuïts sota la GFDL. Si voleu distribuir aquest manual independentment de la col·lecció, podeu fer-ho afegint una còpia de la llicència al manual, tal com es descriu a la secció 6 de la llicència.</para>

	<para>Molts dels noms que les empreses utilitzen per a distingir els seus productes i serveis es consideren marques comercials. Quan aquests noms apareguin en qualsevol documentació del GNOME, i en cas que els membres del Projecte de documentació del GNOME en tinguin coneixement, aquests apareixeran en majúscules o amb les inicials en majúscules.</para>

	<para>EL DOCUMENT I LES VERSIONS MODIFICADES DEL DOCUMENT S'OFEREIXEN SOTA ELS TERMES DE LA LLICÈNCIA DE DOCUMENTACIÓ LLIURE DE GNU, TENINT EN COMPTE QUE: <orderedlist>
		<listitem>
		  <para>EL DOCUMENT S'OFEREIX «TAL COM ÉS», SENSE CAP TIPUS DE GARANTIA, NI EXPLÍCITA NI IMPLÍCITA; AIXÒ INCLOU, SENSE LIMITAR-S'HI, LES GARANTIES QUE EL DOCUMENT O LA VERSIÓ MODIFICADA DEL DOCUMENT NO TINGUI DEFECTES, SIGUI COMERCIALITZABLE, SIGUI ADEQUAT PER A UN ÚS CONCRET O NO INFRINGEIXI CAP LLEI. TOT EL RISC PEL QUE FA A LA QUALITAT, EXACTITUD I RENDIMENT DEL DOCUMENT O LA VERSIÓ MODIFICADA DEL DOCUMENT ÉS VOSTRE. EN CAS QUE EL DOCUMENT RESULTÉS DEFECTUÓS EN QUALSEVOL ASPECTE, VÓS (NO PAS L'ESCRIPTOR INICIAL, L'AUTOR O CAP ALTRE COL·LABORADOR) ASSUMIU TOT EL COST DE MANTENIMENT, REPARACIÓ O CORRECCIÓ. AQUESTA RENÚNCIA DE GARANTIA CONSTITUEIX UNA PART ESSENCIAL D'AQUESTA LLICÈNCIA. NO S'AUTORITZA L'ÚS DE CAP DOCUMENT O VERSIÓ MODIFICADA DEL DOCUMENT EXCEPTE SOTA AQUESTA RENÚNCIA DE GARANTIA; I </para>
		</listitem>
		<listitem>
		  <para>EN CAP CAS I SOTA CAP INTERPRETACIÓ LEGAL, JA SIGUI PER AGREUJAMENT (INCLOENT-HI LA NEGLIGÈNCIA), CONTRACTE O ALTRE CAS, L'AUTOR, L'ESCRIPTOR ORIGINAL, QUALSEVOL DELS COL·LABORADORS O DISTRIBUÏDORS DEL DOCUMENT O UNA VERSIÓ MODIFICADA DEL DOCUMENT NI CAP PROVEÏDOR D'AQUESTES PARTS NO SERAN RESPONSABLES DAVANT DE NINGÚ PER CAP DANY DIRECTE, INDIRECTE, ESPECIAL, ACCIDENTAL O CONSECUTIU DE QUALSEVOL TIPUS; AIXÒ INCLOU, SENSE LIMITAR-S'HI, ELS DANYS PER PÈRDUA DE CLIENTS, INTERRUPCIONS DE LA FEINA, FALLADA O MALFUNCIONAMENT DE L'ORDINADOR, O QUALSEVOL ALTRA PÈRDUA O DANY RELACIONAT AMB L'ÚS DEL DOCUMENT I LES VERSIONS MODIFICADES DEL DOCUMENT, FINS I TOT SI S'HA INFORMAT AQUESTA PART DE LA POSSIBILITAT D'AQUESTS DANYS.</para>
		</listitem>
	  </orderedlist></para>
  </legalnotice>

 

	 <authorgroup> 
		<author>
                  <firstname>Brent</firstname>
		  <surname>Smith</surname> 
		  <affiliation> 
			 <orgname>Projecte de documentació del GNOME</orgname> 
		  </affiliation> 
		</author> 
		<author> 
		  <firstname>Sun</firstname> 
		  <surname>Equip de documentació del GNOME</surname> 
		  <affiliation> 
			 <orgname>Sun Microsystems</orgname> 
		  </affiliation> 
		</author> 
	 </authorgroup>

	 <revhistory>
		<revision> 
		  <revnumber>Guia de l'administració del sistema del GNOME 2.14 (versió 2.4)</revnumber> 
		  <date>Març de 2004</date> 
		  <revdescription> 
			 <para role="author">Projecte de documentació del GNOME</para> 
			 <para role="publisher">Projecte de documentació del GNOME</para> 
		  </revdescription> 
		</revision> 
		<revision> 
		  <revnumber>Guia de l'administració del sistema del GNOME 2.6 (versió 2.3)</revnumber> 
		  <date>Març de 2004</date> 
		  <revdescription> 
			 <para role="author">Sun Microsystems</para> 
			 <para role="publisher">Projecte de documentació del GNOME</para> 
		  </revdescription> 
		</revision> 
		<revision> 
		  <revnumber>Guia de l'administració del sistema del GNOME 2.4 (versió 2.2)</revnumber> 
		  <date>Setembre de 2003</date> 
		  <revdescription> 
			 <para role="author">Sun Microsystems</para> 
			 <para role="publisher">Projecte de documentació del GNOME</para> 
		  </revdescription> 
		</revision> 
		<revision> 
		  <revnumber>Guia de l'administració del sistema del GNOME 2.1 (versió 2.2)</revnumber> 
		  <date>Gener de 2003</date> 
		  <revdescription> 
			 <para role="author">Sun Microsystems</para> 
			 <para role="publisher">Projecte de documentació del GNOME</para> 
		  </revdescription> 
		</revision> 
		<revision> 
		  <revnumber>Guia de l'administració del sistema del GNOME 2.0 (versió 2.0)</revnumber> 
		  <date>Desembre de 2002</date> 
		  <revdescription> 
			 <para role="author">Sun Microsystems</para> 
			 <para role="publisher">Projecte de documentació del GNOME</para> 
		  </revdescription> 
		</revision> 
	 </revhistory> 
	 <releaseinfo>Aquest manual descriu la versió 2.14 de l'escriptori del GNOME.</releaseinfo> 
	 <legalnotice> 
		<title>Comentaris</title> 
		<para>Per a informar d'un error o fer algun suggeriment referent a l'escriptori del GNOME o a aquest manual, seguiu les indicacions a la <ulink url="ghelp:gnome-feedback" type="help">pàgina de comentaris del GNOME</ulink>.</para>
	 </legalnotice> 
  </bookinfo>
<chapter id="gconf-0">
  <title>Utilització del GConf</title>
  <highlights>
    <para>La informació d'aquest capítol descriu com utilitzar el <application>GConf</application> per a gestionar les preferències dels usuaris.</para>
  </highlights>
  <sect1 id="gconf-1">
    <title>Introducció al GConf</title>
    <indexterm>
      <primary>GConf</primary>
      <secondary>introducció</secondary>
    </indexterm>
    <para>El <application>GConf</application> simplifica l'administració de les preferències per als usuaris de l'escriptori del GNOME. El <application>GConf</application> permet als administradors del sistema fer el següent:</para>
    <itemizedlist>
      <listitem>
        <para>Establir els valors obligatoris per a preferències determinades per a tots els usuaris. D'aquesta manera, els administradors del sistema poden controlar si els usuaris poden actualitzar preferències determinades.</para>
      </listitem>
      <listitem>
        <para>Establir els valors predeterminats per a preferències determinades per a tots els usuaris.</para>
      </listitem>
      <listitem>
        <para>Utilitzar els valors suggerits per a les preferències que són especificades en els fitxers de definició de les preferències.</para>
      </listitem>
      <listitem>
        <para>Llegir la documentació sobre cada preferència.</para>
      </listitem>
    </itemizedlist>
    <para>El <application>GConf</application> també notifica les aplicacions quan el valor d'una preferència canvia, de forma local o a través d'una xarxa. D'aquesta manera, quan canvieu una preferència, totes les aplicacions que la utilitzen s'actualitzen immediatament.</para>
    <para>El <application>GConf</application> està format pels components següents:</para>
    <itemizedlist>
      <listitem>
        <para>Un dipòsit de preferències d'usuari.</para>
      </listitem>
      <listitem>
        <para>Un dimoni, <command>gconfd-2</command>.</para>
      </listitem>
      <listitem>
        <para>Una eina per a la línia d'ordres, el <command>gconftool-2</command>.</para>
      </listitem>
    </itemizedlist>
  </sect1>
  <sect1 id="gconf-24">
    <title>Dipòsit del GConf</title>
    <indexterm>
      <primary>GConf</primary>
      <secondary>dipòsit</secondary>
    </indexterm>
    <para>Cada preferència en el dipòsit del <application>GConf</application> s'expressa com un parell de clau-valor. Una <firstterm>clau de preferència del GConf</firstterm> és un element en el dipòsit que correspon a una preferència d'una aplicació. Per exemple, la clau de preferència <systemitem>/apps/gnome-session/options/show_splash_screen</systemitem> correspon a l'opció <guilabel>Mostra la pantalla de presentació en entrar</guilabel> de l'eina de preferències <application>Sessions</application>. La interfície d'usuari de l'escriptori del GNOME no conté totes les claus de preferència que hi ha al dipòsit del <application>GConf</application>. Per exemple, l'eina de preferències <application>Quadre</application> no conté una opció que correspongui a la clau <systemitem>/apps/panel/global/tooltips_enabled</systemitem>.</para>
    <para>El dipòsit s'estructura com un sistema de fitxers jeràrquic. El diposit conté el següent:</para>
    <itemizedlist>
      <listitem>
        <para>Els directoris que corresponen a les aplicacions que utilitza el dipòsit del <application>GConf</application>. Per exemple, el sistema de fitxers conté el directori <systemitem>/apps/metacity</systemitem>.</para>
      </listitem>
      <listitem>
        <para>Els subdirectoris que corresponen a categories de preferències. Per exemple, el sistema de fitxers conté el directori <systemitem>/apps/metacity/general</systemitem>.</para>
      </listitem>
      <listitem>
        <para>Fitxers especials que llisten les claus de preferència del directori i contenen informació sobre les claus. Per exemple, al directori <systemitem>/system/http_proxy</systemitem> hi ha un fitxer que conté informació sobre les claus referents a les preferències del servidor intermediari HTTP.</para>
      </listitem>
      <listitem>
        <para>Un directori <systemitem>/schemas</systemitem> que conté fitxers que descriuen totes les claus de preferència.</para>
      </listitem>
    </itemizedlist>
    <para>Les claus de preferència tenen valors simples com ara cadenes, enters o llistes de cadenes i d'enters. El format de la clau de preferència en el dipòsit depèn del mòdul de rerefons que s'utilitza per a llegir el dipòsit. A continuació es mostra un exemple de la clau de preferència <systemitem>/desktop/gnome/interface/font_name</systemitem> quan un mòdul de rerefons «Llenguatge de marques extensible» (XML) s'utilitza per a llegir el dipòsit:</para>
    <programlisting><![CDATA[<entry name="font_name" mtime="1038323555" muser="user123" type="string">
<stringvalue>Sans 10</stringvalue></entry>]]></programlisting>
    <note>
      <para>Quan aquesta guia es refereix a una clau de preferència, el camí a la clau s'afegeix al nom de la clau. Per exemple, la clau de preferència <systemitem>font_name</systemitem> en el subdirectori <systemitem>/desktop/gnome/interface</systemitem> serà referenciada com a <systemitem>/desktop/gnome/interface/font_name</systemitem>.</para>
    </note>
    <sect2 id="gconf-26">
      <title>Fonts de configuració del GConf</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>fonts de configuració</secondary>
      </indexterm>
      <para>El dipòsit del <application>GConf</application> conté una serie d'ubicacions emmagatzemament que s'anomenen <firstterm>fonts de configuració</firstterm>. Les fonts de configuració es llisten en el <firstterm>fitxer de camins del GConf</firstterm>. La ubicació del fitxer de camins del <application>GConf</application> és <systemitem>/etc/gconf/<replaceable>gconf-version-number</replaceable>/path</systemitem>. Cada usuari té un fitxer de camins. El fitxer de camins especifica la informació següent per a cada font de configuració:</para>
      <itemizedlist>
        <listitem>
          <para>El mòdul de rerefons a utilitzar per a llegir el dipòsit.</para>
        </listitem>
        <listitem>
          <para>Els permisos sobre el dipòsit.</para>
        </listitem>
        <listitem>
          <para>La ubicació del dipòsit.</para>
        </listitem>
      </itemizedlist>
      <para>El fitxer de camins del <application>GConf</application> també conté instruccions <systemitem>include</systemitem>. Per defecte, el contingut del fitxer de camins del <application>GConf</application> és el següent:</para>
      <programlisting>xml:readonly:/etc/gconf/gconf.xml.mandatory
include /etc/gconf/2/local-mandatory.path
include "$(HOME)/.gconf.path"
include /etc/gconf/2/local-defaults.path
xml:readwrite:$(HOME)/.gconf
xml:readonly:/etc/gconf/gconf.xml.defaults</programlisting>
      <para>Quan el <application>GConf</application> cerca el valor d'una preferència, el <application>GConf</application> llegeix les fonts de configuració en l'ordre especificat al fitxer de camins. La taula següent descriu les fonts de configuració en el fitxer de camins:</para>
      <informaltable frame="topbot">
        <tgroup cols="2" colsep="0" rowsep="0">
          <colspec colwidth="31.29*"/>
          <colspec colwidth="68.71*"/>
          <thead>
            <row rowsep="1">
              <entry>
                <para>Font de configuració</para>
              </entry>
              <entry>
                <para>Descripció</para>
              </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry valign="top">
                <para>Obligatori</para>
              </entry>
              <entry valign="top">
                <para>Els permisos sobre aquesta font de configuració estan establerts a només lectura. Els usuaris no poden sobreescriure els valors en aquesta font, de manera que les preferències de la font són obligatòries.</para>
              </entry>
            </row>
            <row>
              <entry valign="top">
                <para>Usuari</para>
              </entry>
              <entry valign="top">
                <para>Aquesta font de configuració s'emmagatzema en el directori <filename>.gconf</filename> dins del directori de l'usuari. Quan l'usuari estableix una preferència, la informació de la preferència nova s'afegeix en aquesta ubicació.</para>
                <para>Podeu utilitzar l'<application>Editor de configuració</application> per a modificar la font de configuració de l'usuari.</para>
              </entry>
            </row>
            <row>
              <entry valign="top">
                <para>Predeterminat</para>
              </entry>
              <entry valign="top">
                <para>Aquesta font de configuració conté els paràmetres de preferències predeterminats.</para>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
      <para>La seqüència de les fonts de configuració al fitxer de camins assegura que els paràmetres de preferències obligatoris sobreescriuen els paràmetres de preferències d'usuari. La seqüència també assegura que els paràmetres de preferències d'usuari sobreescriuen els paràmetres de preferències predeterminats. D'aquesta manera, el <application>GConf</application> aplica les preferències en l'ordre següent de prioritat:</para>
      <orderedlist>
        <listitem>
          <para>Preferències obligatòries</para>
        </listitem>
        <listitem>
          <para>Preferències especificades per l'usuari</para>
        </listitem>
        <listitem>
          <para>Preferències predeterminades</para>
        </listitem>
      </orderedlist>
      <para>Les instruccions <systemitem>include</systemitem> en el fitxer de camins del <application>GConf</application> permeten als administradors del sistema especificar altres fonts de configuració.</para>
      <informaltable frame="topbot">
        <tgroup cols="2" colsep="0" rowsep="0">
          <colspec colwidth="50*"/>
          <colspec colwidth="50*"/>
          <thead>
            <row rowsep="1">
              <entry>
                <para>Font de configuració inclosa</para>
              </entry>
              <entry>
                <para>Descripció</para>
              </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry valign="top">
                <para>
                  <filename>/etc/gconf/2/local-mandatory.path</filename>
                </para>
              </entry>
              <entry valign="top">
                <para>Utilitzeu aquesta font de configuració per a emmagatzemar els valors obligatoris de les preferències per a un sistema determinat.</para>
              </entry>
            </row>
            <row>
              <entry valign="top">
                <para>
                  <filename>$(HOME)/.gconf.path</filename>
                </para>
              </entry>
              <entry valign="top">
                <para>L'usuari especifica la ubicació de la font de configuració en el directori de l'usuari, en un fitxer anomenat <filename>.gconf.path</filename>.</para>
              </entry>
            </row>
            <row>
              <entry valign="top">
                <para>
                  <filename>/etc/gconf/2/local-defaults.path</filename>
                </para>
              </entry>
              <entry valign="top">
                <para>Utilitzeu aquesta font de configuració per a emmagatzemar els valors predeterminats de les preferències per a un sistema determinat.</para>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </sect2>
    <sect2 id="gconf-27">
      <title>Esquemes del GConf</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>esquemes</secondary>
      </indexterm>
      <indexterm>
        <primary>GConf</primary>
        <secondary>claus d'esquema</secondary>
      </indexterm>
      <indexterm>
        <primary>GConf</primary>
        <secondary>objectes d'esquema</secondary>
      </indexterm>
      <indexterm>
        <primary>esquemes</primary>
        <secondary>descripció</secondary>
      </indexterm>
      <indexterm>
        <primary>esquemes</primary>
        <secondary>claus d'esquema</secondary>
      </indexterm>
      <indexterm>
        <primary>esquemes</primary>
        <secondary>objectes d'esquema</secondary>
      </indexterm>
      <para>Un <firstterm>esquema del GConf</firstterm> és un terme col·lectiu per a una <firstterm>clau d'esquema del GConf</firstterm> i un <firstterm>objecte d'esquema del GConf</firstterm>. La taula següent descriu les claus d'esquema i els objectes d'esquema i la relació d'aquests elements amb les claus de preferència:</para>
      <informaltable frame="topbot">
        <tgroup cols="2" colsep="0" rowsep="0">
          <colspec colname="colspec0" colwidth="24.31*"/>
          <colspec colname="colspec1" colwidth="75.69*"/>
          <thead>
            <row rowsep="1">
              <entry>
                <para>Element</para>
              </entry>
              <entry>
                <para>Descripció</para>
              </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry colname="colspec0" valign="top">
                <para>Clau de preferència</para>
              </entry>
              <entry colname="colspec1" valign="top">
                <para>Un element en el dipòsit del <application>GConf</application> que correspon a la preferència d'una aplicació.</para>
              </entry>
            </row>
            <row>
              <entry valign="top">
                <para>Clau d'esquema</para>
              </entry>
              <entry valign="top">
                <para>Una clau que emmagatzema un objecte d'esquema per a una clau de preferència.</para>
              </entry>
            </row>
            <row>
              <entry valign="top">
                <para>Objecte d'esquema</para>
              </entry>
              <entry valign="top">
                <para>Un element en una font de configuració que conté informació per a una clau de preferència, com ara la següent:</para>
                <itemizedlist>
                  <listitem>
                    <para>El nom de l'aplicació que utilitza la clau de preferència.</para>
                  </listitem>
                  <listitem>
                    <para>El tipus de valor necessari per la clau de preferència, per exemple enter, booleà, etc.</para>
                  </listitem>
                  <listitem>
                    <para>Un valor predeterminat per a una clau de preferència.</para>
                  </listitem>
                  <listitem>
                    <para>Una breu documentació sobre la clau de preferència.</para>
                  </listitem>
                </itemizedlist>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
      <para>La taula següent proporciona exemples d'una clau de preferència, una clau d'esquema i un objecte d'esquema:</para>
      <informaltable frame="topbot">
        <tgroup cols="2" colsep="0" rowsep="0">
          <colspec colname="colspec0" colwidth="24.31*"/>
          <colspec colname="colspec1" colwidth="75.69*"/>
          <thead>
            <row rowsep="1">
              <entry>
                <para>Element</para>
              </entry>
              <entry>
                <para>Exemple</para>
              </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry colname="colspec0" valign="top">
                <para>Clau de preferència</para>
              </entry>
              <entry colname="colspec1" valign="top">
                <para>
                  <systemitem>desktop/gnome/interface/font_name</systemitem>
                </para>
              </entry>
            </row>
            <row>
              <entry colname="colspec0" valign="top">
                <para>Clau d'esquema</para>
              </entry>
              <entry colname="colspec1" valign="top">
                <para>
                  <systemitem>/schemas/desktop/gnome/interface/font_name</systemitem>
                </para>
              </entry>
            </row>
            <row>
              <entry valign="top">
                <para>Objecte d'esquema</para>
              </entry>
              <entry valign="top">
                <programlisting><![CDATA[<schema>
  <applyto>/desktop/gnome/interface/font_name</applyto>
  <key>/schemas/desktop/gnome/interface/font_name</key>
  <owner>gnome</owner>
  <type>string</type>
  <default>Sans 10</default>
  <locale name="C">
    <short>Default font</short>
      <long>Name of the default font used by gtk+.</long>
  </locale>
</schema>]]></programlisting>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
      <para>Podeu associar una clau d'esquema amb una clau de preferència. Pes exemple, la clau següent <systemitem>/desktop/gnome/interface/font_name</systemitem> inclou una clau d'esquema:</para>
      <programlisting><![CDATA[<entry name="font_name" mtime="1034873859"
schema="/schemas/desktop/gnome/interface/font_name"/>]]></programlisting>
      <para>Quan associeu una clau d'esquema amb una clau de preferència, la preferència utilitza el valor suggerit que està especificat en l'objecte d'esquema de la clau d'esquema. El valor suggerit està contingut en l'element <sgmltag>&lt;default&gt;</sgmltag> de l'objecte d'esquema. Per defecte, totes les claus de preferència de la font de configuració predeterminada estan associades amb les claus d'esquema.</para>
      <para>Normalment, els esquemes s'emmagatzemen a la font de configuració predeterminada.</para>
    </sect2>
    <sect2 id="gconf-2">
      <title>Fitxers de definició d'esquemes del GConf</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>fitxers de definició d'esquemes</secondary>
        <tertiary>introducció</tertiary>
      </indexterm>
      <indexterm>
        <primary>esquemes</primary>
        <secondary>fitxers de definició d'esquemes</secondary>
        <tertiary>introducció</tertiary>
      </indexterm>
      <para>Els esquemes es generen a partir dels <firstterm>fitxers de definició d'esquemes</firstterm>. Un fitxer de definició d'esquemes defineix les característiques de totes les claus d'una aplicació determinada. Els fitxers de definició d'esquemes tenen l'extensió <filename>.schemas</filename>.</para>
      <para>Els fitxers de definició d'esquemes estan inclosos en el directori <filename>/etc/gconf/schemas</filename>. Podeu utilitzar els fitxers de definició d'esquemes per a crear una font de configuració nova.</para>
      <para>Alguns fitxers de definició d'esquemes corresponen a una part de la interfície d'usuari de l'escriptori del GNOME. Per exemple, el fitxer <filename>system_http_proxy.schemas</filename> correspon a l'eina de preferències <application>Servidor intermediari de xarxa</application>. Altres fitxers de definició d'esquemes contenen claus de preferència que no apareixen en la interfície d'usuari de l'escriptori del GNOME. Per exemple, la clau <systemitem>/apps/panel/global/tooltips_enabled</systemitem> no està present en la interfície d'usuari.</para>
      <para>Algunes parts de la interfície d'usuari de l'escriptori del GNOME contenen preferències que representen claus de preferència de més d'un fitxer de definició d'esquemes. Per exemple, l'eina de preferències <application>Dreceres de teclat</application> conté preferències que representen claus dels fitxers <filename>panel-global-config.schemas</filename> i <filename>metacity.schemas</filename>.</para>
    </sect2>
  </sect1>
  <sect1 id="gconf-25">
    <title>Dimoni del GConf</title>
    <indexterm>
      <primary>gconfd</primary>
      <see>Dimoni del GConf</see>
    </indexterm>
    <indexterm>
      <primary>GConf</primary>
      <secondary>dimoni</secondary>
    </indexterm>
    <para>El dimoni del <application>GConf</application> s'anomena <command>gconfd-2</command>. El dimoni del <application>GConf</application> notifica les aplicacions quan el valor d'una preferència canvia. Per exemple, podeu seleccionar de només mostrar icones en les barres d'eines mitjançant l'eina de preferències <application>Menús i barres d'eines</application>. Quan seleccioneu aquesta opció en l'eina de preferències, les barres d'eines de totes les aplicacions obertes s'actualitzaran instantàniament. El dimoni del <application>GConf</application> pot operar de forma local o a través d'una xarxa.</para>
    <para>S'inicia una instància del dimoni del <application>GConf</application> per a cada usuari. El dimoni del <application>GConf</application> no ha de tractar amb problemes complexos com ara l'autenticació i la seguretat de les dades. Quan s'inicia el dimoni del <application>GConf</application>, el dimoni carrega el fitxer de camins del <application>GConf</application>. El dimoni del <application>GConf</application> gestiona tots els accessos entre les aplicacions i les fonts de configuració.</para>
    <para>Quan una aplicació sol·licita el valor d'una clau de preferència, el dimoni cerca a les fonts de configuració de la manera següent:</para>
    <orderedlist>
      <listitem>
        <para>Cerca el valor de la clau de preferència en cada font de configuració, en l'ordre especificat en el fitxer de camins. Si troba el valor, el retorna.</para>
      </listitem>
      <listitem>
        <para>Si un valor no es troba, cerca en la clau d'esquema que correspon a la clau de preferència en cada font de configuració, en l'ordre especificat en el fitxer de camins.</para>
      </listitem>
      <listitem>
        <para>Si la clau d'esquema no es troba, comprova el valor de la clau d'esquema.</para>
      </listitem>
      <listitem>
        <para>Si el valor de la clau d'esquema és un objecte d'esquema, retorna el valor suggerit en l'element <sgmltag>&lt;default&gt;</sgmltag> de l'objecte d'esquema.</para>
      </listitem>
    </orderedlist>
    <para>El dimoni del <application>GConf</application> també manté a la memòria cau els valors de les claus de preferència. Totes les aplicacions utilitzen aquesta memòria cau, de manera que les aplicacions només necessiten accedir un cop a les fonts de configuració.</para>
    <para>Per a finalitzar el dimoni del <application>GConf</application>, executeu l'ordre següent:</para>
    <screen><userinput>gconftool-2 --shutdown</userinput></screen>
  </sect1>
  <sect1 id="gconf-6">
    <title>Eina per a la línia d'ordres del GConf</title>
    <anchor id="gconf-TBL-7"/>
    <indexterm>
      <primary>gconftool-2</primary>
      <see>Eina per a la línia d'ordres del GConf</see>
    </indexterm>
    <indexterm>
      <primary>GConf</primary>
      <secondary>eina per a la línia d'ordres</secondary>
    </indexterm>
    <para>El <application>GConf</application> inclou una eina per a la línia d'ordres, el <command>gconftool-2</command>. Podeu utilitzar l'ordre <command>gconftool-2</command> per a realitzar les tasques següents:</para>
    <itemizedlist>
      <listitem>
        <para>Establir els valors de les claus.</para>
      </listitem>
      <listitem>
        <para>Mostrar els valors de les claus.</para>
      </listitem>
      <listitem>
        <para>Instal·lar esquemes des dels fitxers de definició d'esquemes quan s'instal·la una aplicació.</para>
      </listitem>
    </itemizedlist>
    <para>Per exemple, utilitzeu l'ordre següent per a mostrar els valors de totes les claus en el directori i subdirectoris de <systemitem>/desktop/gnome</systemitem>.</para>
    <screen><userinput>gconftool-2 --recursive-list /desktop/gnome</userinput></screen>
    <para>A sota es llisten algunes de les opcions que podeu utilitzar amb l'ordre <command>gconftool-2</command>. Per a obtenir més informació sobre les opcions de la línia d'ordres, vegeu <ulink url="man:gconftool-2(1)">man:gconftool-2(1)</ulink>.</para>
    <variablelist>
      <title>Opcions de les ordres del gconftool-2</title>
      <varlistentry>
        <term>
            <option>--all-dirs</option>
        </term>
        <listitem>
          <para>Llista tots els subdirectoris en un directori que especifiqueu.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--all-entries</option>
        </term>
        <listitem>
          <para>Mostra els valors de totes les claus en un directori que especifiqueu.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--config-source=<replaceable>font-de-configuració</replaceable></option>
        </term>
        <listitem>
          <para>Utilitzeu aquesta opció amb l'opció <option>--direct</option> per a especificar una font de configuració a utilitzar. Si no especifiqueu una font de configuració amb aquesta opció, l'ordre s'executa sobre totes les fonts de configuració en el fitxer de camins.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--direct</option>
        </term>
        <listitem>
          <para>Utilitzeu aquesta opció amb l'opció <option>--config-source</option> per a accedir directament a una font de configuració. Quan utilitzeu aquesta opció, el <application>GConf</application> omet el servidor. Assegureu-vos que el dimoni del <application>GConf</application>, el <command>gconfd-2</command>, no s'està executant abans d'utilitzar aquesta opció.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--dump</option>
        </term>
        <listitem>
          <para>Genera una llista que conté totes les claus de preferència d'un directori de dipòsit del <application>GConf</application> que especifiqueu. La llista conté descripcions XML de totes les claus. La llista està dins d'un element <sgmltag>&lt;gconfentryfile&gt;</sgmltag>.</para>
          <para>Per exemple, podeu redirigir la sortida des d'aquesta opció per a generar un fitxer que llisti totes les claus que estan relacionades amb la configuració del quadre. Podeu utilitzar l'opció <option>--load</option> amb aquest fitxer.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--get</option>
        </term>
        <listitem>
          <para>Mostra el valor d'una clau de preferència que especifiqueu. També mostra els valors dels elements en l'objecte d'esquema d'una clau d'esquema que especifiqueu.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--help</option>
        </term>
        <listitem>
          <para>Mostra un missatge d'ajuda sobre l'ordre <command>gconftool-2</command> i les opcions que podeu utilitzar amb l'ordre <command>gconftool-2</command>.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--load=<replaceable>nom-del-fitxer</replaceable></option>
        </term>
        <listitem>
          <para>Utilitzeu aquesta opció per a establir els valors de les claus de preferència en el directori actual d'una font de configuració als valors en el fitxer que especifiqueu. Aquest fitxer ha de tenir descripcions XML de les claus, en un element <literal>&lt;gconfentryfile&gt;</literal>.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--long-desc=<replaceable>descripció</replaceable></option>
        </term>
        <listitem>
          <para>Utilitzeu aquesta opció amb l'opció <option>--set-schema</option> per a especificar una descripció llarga per a una clau d'esquema.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--makefile-install-rule</option>
        </term>
        <listitem>
          <para>Instal·la els fitxers de definició d'esquemes a les aplicacions.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--owner=<replaceable>propietari</replaceable></option>
        </term>
        <listitem>
          <para>Utilitzeu aquesta opció amb l'opció <option>--set-schema</option> per a especificar un propietari per a una clau d'esquema.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--recursive-list</option>
        </term>
        <listitem>
          <para>Mostra els valors de totes les claus de preferència en tots els subdirectoris d'un directori que especifiqueu.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--recursive-unset</option>
        </term>
        <listitem>
          <para>Torna a iniciar els valors de totes les claus de preferència, en tots els subdirectoris d'un directori, des del paràmetre d'usuari al paràmetre de la font de configuració predeterminada.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--set</option>
        </term>
        <listitem>
          <para>Estableix el valor d'una clau de preferència i escriu el valor a la font de configuració de l'usuari. Utilitzeu l'opció <option>--type</option> amb l'opció <option>--set</option> per a especificar el tipus de dada del valor que voleu establir. Per exemple, l'ordre següent estableix el valor de la clau <systemitem>/apps/gnome-terminal/profiles/Default/background_color</systemitem> en la font de configuració de l'usuari:</para>
          <screen><userinput>gconftool-2 \
  --set "/apps/gnome-terminal/profiles/Default/background_color" \
  --type string "#000000"</userinput></screen>
          <para>També podeu utilitzar l'opció <option>--direct</option> i l'opció <option>--config-source</option> amb l'opció <option>--set</option> per a escriure un valor a una altra font de configuració.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--set-schema</option>
        </term>
        <listitem>
          <para>Estableix el valor d'un atribut en una clau d'esquema i escriu escriu el valor a la font de configuració predeterminada.</para>
          <para>Utilitzeu les opcions següents amb l'opció <option>--set-schema</option> per a especificar l'atribut que voleu actualitzar:</para>
          <itemizedlist>
            <listitem>
              <para>
                <option>--type</option>
              </para>
            </listitem>
            <listitem>
              <para>
                <option>--short-desc</option>
              </para>
            </listitem>
            <listitem>
              <para>
                <option>--long-desc</option>
              </para>
            </listitem>
            <listitem>
              <para>
                <option>--owner</option>
              </para>
            </listitem>
          </itemizedlist>
          <para>Per exemple, l'ordre següent estableix la descripció curta de la clau d'esquema per a la clau <systemitem>/apps/gnome-terminal/profiles/Default/background_color</systemitem>:</para>
          <screen><userinput>gconftool-2 \
  --set-schema  "/schemas/apps/gnome-terminal/profiles/Default/background_color" \
  --short-desc "El color de fons del terminal per defecte"</userinput></screen>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--short-desc=<replaceable>descripció</replaceable></option>
        </term>
        <listitem>
          <para>Utilitzeu aquesta opció amb l'opció <option>--set-schema</option> per a especificar una descripció curta per a una clau d'esquema.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--shutdown</option>
        </term>
        <listitem>
          <para>Finalitza el dimoni del <application>GConf</application>.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--type=<replaceable>tipus-de-dada</replaceable></option>
        </term>
        <listitem>
          <para>Utilitzeu aquesta opció per a especificar el tipus de dada quan establiu un valor d'una clau de preferència. També podeu utilitzar aquesta opció quan establiu el valor d'un atribut en una clau d'esquema. A continuació es mostra una llista dels tipus de dades vàlids:</para>
          <itemizedlist>
            <listitem>
              <para>
                <type>bool</type>
              </para>
            </listitem>
            <listitem>
              <para>
                <type>float</type>
              </para>
            </listitem>
            <listitem>
              <para>
                <type>int</type>
              </para>
            </listitem>
            <listitem>
              <para>
                <type>list</type>
              </para>
            </listitem>
            <listitem>
              <para>
                <type>pair</type>
              </para>
            </listitem>
            <listitem>
              <para>
                <type>string</type>
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--unset</option>
        </term>
        <listitem>
          <para>Torna a iniciar el valor d'una clau de preferència des del paràmetre d'usuari al paràmetre en la font de configuració predeterminada.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--usage</option>
        </term>
        <listitem>
          <para>Mostra un breu missatge d'ajuda sobre l'ordre <command>gconftool-2</command> i les opcions que podeu utilitzar amb l'ordre <command>gconftool-2</command>.</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect1>
  <sect1 id="gconf-7">
    <title>Establiment dels valors de les preferències</title>
    <indexterm>
      <primary>GConf</primary>
      <secondary>valors de les preferències, paràmetre</secondary>
    </indexterm>
    <indexterm>
      <primary>valors de les preferències</primary>
      <secondary>establir amb el GConf</secondary>
    </indexterm>
    <para>Podeu establir un valor obligatori o un valor predeterminat per a una clau de preferència. Abans de canviar valors obligatoris de les preferències o els valors predeterminats de les preferència per als usuaris, heu d'assegurar-vos que el dimoni del <application>GConf</application> no s'està executant per a cap usuari. Assegureu-vos que tots els usuaris estan desconnectats abans de canviar valors de preferència per als usuaris.</para>
    <para>Per a establir un valor obligatori o un valor predeterminat per a una clau de preferència, utilitzeu l'ordre <command>gconftool-2</command> de la manera següent:</para>
    <screen><userinput>gconftool-2 --direct \
  --config-source <replaceable>font-de-configuració</replaceable> \
  --type <replaceable>tipus-de-dada</replaceable> \
  --set <replaceable>clau-de-preferència</replaceable> <replaceable>valor</replaceable></userinput></screen>
    <para>Per exemple, per a establir <literal>wwwproxy.xyz.com</literal> com a servidor intermediari HTTP obligatori, executeu l'ordre següent:</para>
    <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.mandatory \
  --type string \
  --set /system/http_proxy/host wwwproxy.xyz.com</userinput></screen>
    <para>L'usuari no pot sobreescriure aquest valor de la preferència.</para>
    <para>També podeu utilitzar l'ordre <command>gconftool-2</command> per a establir els valors predeterminats. Per exemple, per a establir el número predeterminat d'espais de treball a cinc, executeu l'ordre següent:</para>
    <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.defaults \
  --type int \
  --set /apps/metacity/general/num_workspaces 5</userinput></screen>
    <para>L'usuari pot sobreescriure aquest valor de la preferència.</para>
    <caution>
      <para>Abans de canviar valors obligatoris de les preferències o els valors predeterminats de les preferències per als usuaris, heu d'assegureu-vos que tots els usuaris estan desconnectats.</para>
    </caution>
  </sect1>
  <sect1 id="gconf-8">
    <title>Establiment de les preferències generals</title>
    <para>Les seccions següents descriuen com assignar valors obligatoris o predeterminats a preferències generals.</para>
    <sect2 id="gconf-10">
      <title>Establiment de les preferències del servidor intermediari HTTP</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>servidor intermediari HTTP, paràmetre</secondary>
      </indexterm>
      <indexterm>
        <primary>servidor intermediari HTTP</primary>
        <secondary>establir amb el GConf</secondary>
      </indexterm>
      <para>Per a establir les preferències del servidor intermediari HTTP, modifiqueu els valors de les claus de preferència a la ubicació <systemitem>/system/http_proxy/</systemitem>. Per exemple, per a establir un valor obligatori per al servidor intermediari HTTP, executeu l'ordre següent:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.mandatory \
  --type string \
  --set /system/http_proxy/host <replaceable>nom-del-servidor-intermediari</replaceable></userinput></screen>
      <para>Per a establir el valor predeterminat per al servidor intermediari HTTP, executeu l'ordre següent:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.defaults \
  --type string \
  --set /system/http_proxy/host <replaceable>nom-del-servidor-intermediari</replaceable></userinput></screen>
      <para>També podeu establir altres preferències relacionades amb el servidor intermediari HTTP. Per a obtenir més informació de les altres preferències del servidor intermediari HTTP, vegeu el fitxer de definició d'esquemes <filename>system_http_proxy.schemas</filename>.</para>
    </sect2>
    <sect2 id="gconf-11">
      <title>Establiment de les preferències de la gestió d'impressió</title>
      <para>Per a establir les preferències de la gestió d'impressió, modifiqueu els valors de les claus de preferència a la ubicació <systemitem>/apps/gnome-print-manager</systemitem>. Per exemple, si no voleu que els usuaris vegin les tasques d'impressió d'altres usuaris, establiu un valor obligatori de la manera següent:</para>
      <indexterm>
        <primary>GConf</primary>
        <secondary>gestió d'impressió, paràmetre</secondary>
      </indexterm>
      <indexterm>
        <primary>gestió d'impressió</primary>
        <secondary>establir amb el GConf</secondary>
      </indexterm>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.mandatory \
  --type bool \
  --set /apps/gnome-print-manager/show_all_jobs false</userinput></screen>
      <para>Per a establir el valor predeterminat per a aquesta preferència, executeu l'ordre següent:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.defaults \
  --type bool \
  --set /apps/gnome-print-manager/show_all_jobs false</userinput></screen>
      <para>També podeu establir altres preferències de la gestió d'impressió. Per a obtenir més informació de les altres preferències de la gestió d'impressió, vegeu el fitxer de definició d'esquemes <filename>gnome-print-manager.schemas</filename>.</para>
<!--gnome-print-manager isn't in Mercury. Is there a replacement?-->
    </sect2>
    <sect2 id="gconf-12">
      <title>Establiment del número d'espais de treball</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>número d'espais de treball, paràmetre</secondary>
      </indexterm>
      <indexterm>
        <primary>espais de treball</primary>
        <secondary>establir el número d'espais de treball amb el GConf</secondary>
      </indexterm>
      <para>Per a establir un número obligatori d'espais de treball, utilitzeu l'ordre següent:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.mandatory \
  --type int \
  --set /apps/metacity/general/num_workspaces <replaceable>enter</replaceable></userinput></screen>
      <para>Per a establir un número predeterminat d'espais de treball, utilitzeu l'ordre següent:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.defaults \
  --type int \
  --set /apps/metacity/general/num_workspaces <replaceable>enter</replaceable></userinput></screen>
      <para>També podeu establir altres preferències de la gestió de les finestres. Per a obtenir més informació de les altres preferències de la gestió de les finestres, vegeu el fitxer de definició d'esquemes <filename>metacity.schemas</filename>.</para>
    </sect2>
    <sect2 id="gconf-16">
      <title>Establiment de les preferències de l'accessibilitat del teclat</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>accessibilitat del teclat, paràmetre</secondary>
      </indexterm>
      <indexterm>
        <primary>teclat</primary>
        <secondary>establir les preferències de l'accessibilitat del teclat amb el GConf</secondary>
      </indexterm>
      <para>Per a establir les preferències de l'accessibilitat del teclat, modifiqueu els valors de les claus de preferència a la ubicació <systemitem>/desktop/gnome/accessibility/keyboard</systemitem>. Per exemple, si voleu establir un valor obligatori de manera que les funcions d'accessibilitat del teclat estiguin habilitades, executeu l'ordre següent:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.mandatory \
  --type bool \
  --set /desktop/gnome/accessibility/keyboard/enable true</userinput></screen>
      <para>Per a establir el valor predeterminat per a aquesta preferència, executeu l'ordre següent:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.defaults \
  --type bool \
  --set /desktop/gnome/accessibility/keyboard/enable false</userinput></screen>
      <para>També podeu establir altres preferències de l'accessibilitat del teclat. Per a obtenir més informació de les altres preferències de l'accessibilitat del teclat, vegeu el fitxer de definició d'esquemes <filename>desktop_gnome_accessibility_keyboard.schemas</filename>.</para>
    </sect2>
    <sect2 id="gconf-18">
      <title>Establiment de les preferències de les dreceres de teclat</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>dreceres de teclat, paràmetre</secondary>
      </indexterm>
      <indexterm>
        <primary>teclat</primary>
        <secondary>establir les preferències de les dreceres amb el GConf</secondary>
      </indexterm>
      <para>Per a establir les preferències de les dreceres de teclat, modifiqueu els valors de les claus de preferència en la ubicació <systemitem>/apps/metacity/global_keybindings</systemitem>. Per exemple, en cas que vulgueu que els usuaris només puguin utilitzar la drecera de teclat <keycombo><keycap>Alt</keycap><keycap>F3</keycap></keycombo> per a obrir el diàleg <guilabel>Executa una aplicació</guilabel>. Per a establir aquest valor obligatori, executeu l'ordre següent:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.mandatory \
  --type string \
  --set /apps/metacity/global_keybindings/panel_run_dialog '&lt;Alt&gt;F3'</userinput></screen>
      <para>També podeu establir altres preferències de les dreceres de teclat. Per a obtenir més informació sobre les altres preferències de les dreceres de teclat, vegeu el fitxer de definició d'esquemes <filename>metacity.schemas</filename>.</para>
    </sect2>
    <sect2 id="gconf-14">
      <title>Establiment de les preferències del quadre i dels objectes del quadre</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>preferències dels objectes del quadre, paràmetre</secondary>
      </indexterm>
      <indexterm>
        <primary>GConf</primary>
        <secondary>preferències del quadre, paràmetre individual</secondary>
      </indexterm>
      <indexterm>
        <primary>quadres</primary>
        <secondary>preferències, individual, establir amb el GConf</secondary>
      </indexterm>
      <para>El fitxer <filename>panel-default-setup.entries</filename> especifica els detalls següents dels quadres en l'escriptori del GNOME:</para>
      <itemizedlist>
        <listitem>
          <para>Número de quadres.</para>
        </listitem>
        <listitem>
          <para>Tipus de quadres.</para>
        </listitem>
        <listitem>
          <para>Propietats dels quadres.</para>
        </listitem>
        <listitem>
          <para>Continguts dels quadres.</para>
        </listitem>
      </itemizedlist>
      <para>La construcció de quadres individuals i objectes del quadre és una tasca complexe. Per a configurar quadres individuals i objectes del quadre, primer heu d'entendre l'estructura del fitxer <filename>panel-default-setup.entries</filename>. Per a obtenir més informació sobre el fitxer <filename>panel-default-setup.entries</filename>, vegeu la secció següent.</para>
      <para>Per a establir les preferències per a quadres individuals i objectes del quadre, heu d'establir els valors de moltes preferències en una font de configuració. La manera més fàcil d'establir els valors de les preferències del quadre és utilitzar l'ordre <command>gconftool-2</command> amb les opcions <option>--dump</option> i <option>--load</option>. Per a obtenir més informació sobre com establir les preferències dels quadres i del objectes dels quadres, vegeu la <xref linkend="gconf-3"/>.</para>
      <sect3 id="gconf-23">
        <title>Especificació de quadres individuals i objectes del quadre</title>
        <indexterm>
          <primary>GConf</primary>
          <secondary>fitxers de definició d'esquemes</secondary>
          <tertiary>quadre i objecte del quadre</tertiary>
        </indexterm>
        <indexterm>
          <primary>esquemes</primary>
          <secondary>fitxers de definició d'esquemes</secondary>
          <tertiary>quadre i objecte del quadre</tertiary>
        </indexterm>
        <para>El fitxer <filename>panel-default-setup.entries</filename> conté seccions que especifiquen els quadres i els continguts dels quadres. El fitxer <filename>panel-default-setup.entries</filename> especifica els valors de les claus d'esquema. El fitxer <filename>panel-default-setup.entries</filename> està ubicat en el directori <filename>/etc/gconf/schemas</filename>.</para>
        <para>El fitxer <filename>panel-default-setup.entries</filename> s'estructura com es mostra a continuació:</para>
        <orderedlist>
          <listitem>
            <para>Claus que especifiquen l'estructura general dels quadres, miniaplicacions i altre objectes del quadre a l'escriptori del GNOME. Les claus següents especifiquen el número de quadres, objectes del quadre i miniaplicacions que apareixen a l'escriptori del GNOME:</para>
            <itemizedlist>
              <listitem>
                <para>
                  <systemitem>/apps/panel/default_setup/general/toplevel_id_list</systemitem>
                </para>
              </listitem>
              <listitem>
                <para>
                  <systemitem>/apps/panel/default_setup/general/object_id_list</systemitem>
                </para>
              </listitem>
              <listitem>
                <para>
                  <systemitem>/apps/panel/default_setup/general/applet_id_list</systemitem>
                </para>
              </listitem>
            </itemizedlist>
            <para>Les claus també assignen identificadors a cada quadre, objecte del quadre i miniaplicació. Per exemple, l'exemple següent del <filename>panel-default-setup.entries</filename> especifica que només hi haurà un quadre a l'escriptori del GNOME:</para>
            <programlisting><![CDATA[<entry>
  <key>toplevel_id_list</key>
  <schema_key>/schemas/apps/panel/general/toplevel_id_list</schema_key>
  <value>
    <list type="string">
      <value>
        <string>bottom_panel</string>
      </value>
    </list>
  </value>
</entry>]]></programlisting>
            <para>En el fitxer <filename>panel-default-setup.entries</filename>, l'identificador <systemitem>bottom_panel</systemitem> identifica el quadre de la part inferior.</para>
          </listitem>
          <listitem>
            <para>Les claus que especifiquen les propietats dels quadres. Les claus de les propietats del quadre estan estructurades de la manera següent:</para>
            <programlisting>/apps/panel/default_setup/toplevels/<replaceable>nom-del-quadre</replaceable>/<replaceable>clau-de-la-propietat-del-quadre</replaceable></programlisting>
            <para>Per exemple, la clau <systemitem>/apps/panel/default_setup/toplevels/bottom_panel/size</systemitem> especifica la mida del quadre de la part inferior.</para>
          </listitem>
          <listitem>
            <para>Les claus que especifiquen els objectes del quadre, les propietats de l'objecte del quadre i els quadres on hi ha els objectes. Per exemple, l'exemple següent del <filename>panel-default-setup.entries</filename> especifica un objecte <guimenu>Menú principal</guimenu> a la banda esquerra del quadre inferior:</para>
            <programlisting><![CDATA[<entrylist base="/apps/panel/default_setup/objects/main_menu">
  <entry>
    <key>object_type</key>
    <schema_key>/schemas/apps/panel/objects/object_type</schema_key>
    <value>
      <string>menu-object</string>
    </value>
  </entry>
  <entry>
    <key>toplevel_id</key>
    <schema_key>/schemas/apps/panel/objects/toplevel_id</schema_key>
    <value>
      <string>bottom_panel</string>
    </value>
  </entry>
  <entry>
    <key>position</key>
    <schema_key>/schemas/apps/panel/objects/position</schema_key>
    <value>
      <int>0</int>
    </value>
  </entry>
  <!-- Possibly more entry elements -->
</entrylist>]]></programlisting>
          </listitem>
          <listitem>
            <para>Les claus que especifiquen les miniaplicacions, les preferències de la miniaplicació i els quadres on hi han les miniaplicacions. Per exemple, l'exemple següent del <filename>panel-default-setup.entries</filename> especifica la miniaplicació <application>Llista de finestres</application>, en el quadre inferior:</para>
            <programlisting><![CDATA[<entrylist base="/apps/panel/default_setup/applets/window_list">
  <entry>
    <key>object_type</key>
    <schema_key>/schemas/apps/panel/objects/object_type</schema_key>
    <value>
      <string>bonobo-applet</string>
    </value>
  </entry>
  <entry>
    <key>toplevel_id</key>
    <schema_key>/schemas/apps/panel/objects/toplevel_id</schema_key>
    <value>
      <string>bottom_panel</string>
    </value>
  </entry>
  <entry>
    <key>position</key>
    <schema_key>/schemas/apps/panel/objects/position</schema_key>
    <value>
      <int>2</int>
    </value>
  </entry>
  <!-- Possibly more entry elements -->
  <entry>
    <key>bonobo_iid</key>
    <schema_key>/schemas/apps/panel/objects/bonobo_iid_type</schema_key>
    <value>
      <string>OAFIID:GNOME_WindowListApplet</string>
    </value>
  </entry>
</entrylist>]]></programlisting>
            <para>L'OAFIID és un identificador únic per a cada miniaplicació. Per a trobar l'OAFIID d'una miniaplicació determinada, vegeu el fitxer <filename>.server</filename> per a la miniaplicació en el directori <filename>/usr/lib/bonobo/servers</filename>. Per exemple, l'extracte següent del <filename>GNOME_Wncklet_Factory.server</filename> mostra l'OAFIID de la miniaplicació <application>Llista de finestres</application>:</para>
            <programlisting><![CDATA[<oaf_server iid="OAFIID:GNOME_WindowListApplet" 
type="factory" location="OAFIID:GNOME_Wncklet_Factory">]]></programlisting>
          </listitem>
        </orderedlist>
      </sect3>
      <sect3 id="gconf-3">
        <title>Establiment de les preferències dels quadres individuals i dels objectes del quadre</title>
        <para>Per a establir les preferències d'un quadre i dels objectes d'un quadre realitzeu els passos següents:</para>
        <orderedlist>
          <listitem>
            <para>Entreu en una sessió del GNOME i configureu els quadres de la manera que calgui.</para>
          </listitem>
          <listitem>
            <para>Utilitzeu l'opció <option>--dump</option> amb l'ordre <command>gconftool-2</command> per a generar un fitxer que contingui una descripció XML de la configuració del quadre. L'opció <option>--dump</option> genera una llista que conté totes les claus de preferència d'un directori de dipòsit del <application>GConf</application> que especifiqueu.</para>
            <para>Per exemple, l'ordre següent crea una descripció XML de la configuració predeterminada del quadre en un fitxer anomenat <filename>configuració-del-quadre.entries</filename>:</para>
            <screen><userinput>gconftool-2 --dump /apps/panel &gt; configuració-del-quadre.entries</userinput></screen>
          </listitem>
          <listitem>
            <para>Obriu el fitxer <filename>configuració-del-quadre.entries</filename> amb un editor de text i modifiqueu el fitxer com sigui necessari.</para>
            <para>Per exemple, en cas que vulgueu canviar la ubicació dels fitxers d'entrada de l'escriptori. L'extracte següent és d'un fitxer generat amb l'opció <option>--dump</option>:</para>
            <programlisting><![CDATA[<entry>
  <key>objects/object_16/launcher_location</key>
  <schema_key>/schemas/apps/panel/objects/launcher_location</schema_key>
  <value>
    <string>hadjaha-00adce02f7.desktop</string>
  </value>
</entry>]]></programlisting>
            <para>En l'exemple anterior, potser volíeu canviar la referència de <filename>hadjaha-00adce02f7.desktop</filename> a un altre fitxer d'entrada de l'escriptori que fos disponible globalment.</para>
            <para>Quan genereu una configuració de quadre amb l'opció <option>--dump</option>, les posicions dels objectes del quadre són posicions absolutes. Podeu canviar les posicions dels objectes del quadre des de posicions absolutes a posicions relatives. L'objecte a l'extrem esquerra d'un quadre té un valor <systemitem>position</systemitem> de <literal>0</literal>. L'objecte següent té un valor <systemitem>position</systemitem> de <literal>1</literal>, i així successivament. Si voleu que les posicions dels objectes siguin relatives a la banda dreta del quadre, establiu la clau <systemitem>right_stick</systemitem> a <literal>true</literal>.</para>
<!--Give full key name for position.-->
          </listitem>
          <listitem>
            <para>Utilitzeu l'opció <option>--load</option> amb l'ordre <command>gconftool-2</command> per a establir els valors de la font de configuració predeterminada als valors del fitxer <filename>configuració-del-quadre.entries</filename>. Per exemple, l'ordre següent estableix els valors de les claus en la font de configuració predeterminada als valors de les claus corresponents al <filename>configuració-del-quadre.entries</filename>:</para>
            <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.defaults \
  --load configuració-del-quadre.entries</userinput></screen>
          </listitem>
        </orderedlist>
      </sect3>
    </sect2>
  </sect1>
  <sect1 id="gconf-9">
    <title>Establiment de les preferències de l'aparença</title>
    <para>Les seccions següents descriuen com assignar valors obligatoris o predeterminats a les preferències d'aparença.</para>
    <sect2 id="gconf-19">
      <title>Establiment de les preferències del tipus de lletra</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>tipus de lletra, paràmetre</secondary>
      </indexterm>
      <indexterm>
        <primary>tipus de lletra</primary>
        <secondary>establir amb el GConf</secondary>
      </indexterm>
      <para>Per a establir les preferències del tipus de lletra, podeu modificar els valors de dues claus de preferència. La taula següent mostra les claus a modificar i la part de la interfície d'usuari on corresponen les claus:</para>
      <informaltable frame="topbot">
        <tgroup cols="2" colsep="0" rowsep="0">
          <colspec colwidth="50*"/>
          <colspec colwidth="50*"/>
          <thead>
            <row rowsep="1">
              <entry>
                <para>Ubicació del GConf</para>
              </entry>
              <entry>
                <para>Component d'interfície d'usuari</para>
              </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry valign="top">
                <para>desktop/gnome/interface/font_name</para>
              </entry>
              <entry valign="top">
                <para>Eina de preferències <application>Tipus de lletra</application>, opció <guilabel>Tipus de lletra de les aplicacions</guilabel></para>
              </entry>
            </row>
            <row>
              <entry valign="top">
                <para>/apps/nautilus/preferences/desktop_font</para>
              </entry>
              <entry valign="top">
                <para>Eina de preferències <application>Tipus de lletra</application>, opció <guilabel>Tipus de lletra de l'escriptori</guilabel></para>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
      <para>Per exemple, per a establir <literal>Sans 12</literal> com a tipus de lletra obligatòria de les aplicacions, executeu l'ordre següent:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.mandatory \
  --type string \
  --set /desktop/gnome/interface/font_name "Sans 12"</userinput></screen>
      <para><indexterm><primary>escriptori</primary><secondary>preferències del tipus de lletra, establir amb el GConf</secondary></indexterm>Per a establir <literal>palatino 12</literal> com a tipus de lletra predeterminada per a l'escriptori, executeu l'ordre següent:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.defaults \
  --type string \
  --set /apps/nautilus/preferences/desktop_font "palatino 12"</userinput></screen>
    </sect2>
    <sect2 id="gconf-20">
      <title>Establiment de les preferències del fons de l'escriptori</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>fons de l'escriptori, paràmetre</secondary>
      </indexterm>
      <indexterm>
        <primary>fons de l'escriptori</primary>
        <secondary>preferències, establir amb el GConf</secondary>
      </indexterm>
      <para>Per a establir les preferències del fons de l'escriptori, podeu modificar els valors de les claus de preferència en la ubicació <systemitem>/desktop/gnome/background</systemitem>. Per exemple, per a establir una imatge obligatòria per al fons de l'escriptori, executeu l'ordre següent:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.mandatory \
  --type string \
  --set /desktop/gnome/background/picture_filename <replaceable>nom-del-fitxer.png</replaceable></userinput></screen>
      <para>Per a establir el valor predeterminat per a aquesta preferència, executeu l'ordre següent:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.defaults \
  --type string \
  --set /desktop/gnome/background/picture_filename <replaceable>nom-del-fitxer.png</replaceable></userinput></screen>
      <para>També podeu establir altres preferències del fons de l'escriptori. Per a obtenir més informació sobre les altres preferències del fons de l'escriptori, vegeu el fitxer de definició d'esquemes <filename>desktop_gnome_background.schemas</filename>.</para>
    </sect2>
    <sect2 id="gconf-21">
      <title>Establiment de les preferències de la imatge de presentació</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>imatge de presentació, paràmetre</secondary>
      </indexterm>
      <indexterm>
        <primary>imatge de presentació</primary>
        <secondary>imatge, establir amb el GConf</secondary>
      </indexterm>
      <para>Per a establir les preferències de la imatge de presentació, modifiqueu els valors de les claus de preferències en la ubicació <systemitem>/apps/gnome-session/options/</systemitem>. Per exemple, si no voleu que els usuaris vegin la imatge de presentació, establiu un valor obligatori de la manera següent:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.mandatory \
  --type bool \
  --set /apps/gnome-session/options/show_splash_screen false</userinput></screen>
      <para>Per a establir el valor predeterminat per a aquesta preferència, executeu l'ordre següent:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.defaults \
  --type bool \
  --set /apps/gnome-session/options/show_splash_screen false</userinput></screen>
      <para>També podeu establir altres preferències de la imatge de presentació. Per a obtenir més informació sobre les altres preferències de la imatge de presentació, vegeu el fitxer de definició d'esquemes <filename>gnome-session.schemas</filename>.</para>
    </sect2>
  </sect1>
  <sect1 id="gconf-28">
    <title>Restauració dels valors predeterminats de les preferències</title>
    <indexterm>
      <primary>GConf</primary>
      <secondary>restaurar els valors predeterminats de les preferències</secondary>
    </indexterm>
    <indexterm>
      <primary>valors de les preferències</primary>
      <secondary>restaurar als predeterminats amb el GConf</secondary>
    </indexterm>
    <para>Per a restaurar els valors predeterminats de les preferències per a un usuari, executeu l'ordre següent:</para>
    <screen><userinput>gconftool-2 --direct \
  --config-source <replaceable>font-de-configuració-del-usuari</replaceable> \
  --recursive-unset</userinput></screen>
    <para>Substituïu <replaceable>font-de-configuració-del-usuari</replaceable> amb la font de configuració en el directori <filename>.gconf</filename> en el directori de l'usuari.</para>
    <para>Aquesta ordre torna a iniciar els valors de totes les claus de preferència, en tots els subdirectoris, des del paràmetre de l'usuari al paràmetre de la font de configuració predeterminada.</para>
  </sect1>
</chapter>


<chapter id="menustructure-0">
  <title>Personalització dels menús</title>

  <anchor id="menustructure-22"/>

  <anchor id="menustructure-TBL-12"/>

  <anchor id="menustructure-TBL-17"/>

  <highlights>
    <para>La informació d'aquest capítol descriu com l'escriptori del GNOME implementa els menús i com podeu personalitzar-los.</para>
  </highlights>

  <sect1 id="menustructure-1">
    <title>Introducció als menús</title>

    <indexterm>
      <primary>menús</primary>

      <secondary>introducció</secondary>
    </indexterm>

    <para>L'escriptori del GNOME implementa els menús d'acord amb l'<ulink url="http://www.freedesktop.org/wiki/Standards/menu-spec">Especificació de menú XDG</ulink>. Amb el fet que segueixi aquesta especificació, el GNOME us permet:</para>

    <itemizedlist>
      <listitem>
        <para>Personalitzar la jerarquia dels menús fàcilment. Podeu editar un nombre petit de fitxers per a personalitzar la jerarquia dels menús. No cal que modifiqueu les aplicacions o mogueu fitxers.</para>
      </listitem>

      <listitem>
        <para>Instal·lar aplicacions fàcilment. No cal que proporcioneu informació sobre la jerarquia dels menús a les aplicacions quan les instal·leu.</para>
      </listitem>

      <listitem>
        <para>Configurar els menús de manera que els usuaris no puguin modificar-los.</para>
      </listitem>
    </itemizedlist>

    <para>Els menús de l'escriptori del GNOME utilitzen els components següents:</para>

    <itemizedlist>
      <listitem>
        <para>Fitxers de definició de menú</para>
      </listitem>

      <listitem>
        <para>Fitxers d'entrada d'escriptori</para>
      </listitem>

      <listitem>
        <para>Fitxers d'entrada de directori</para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 id="menustructure-13">
    <title>Fitxers de definició de menú</title>

    <indexterm>
      <primary>fitxers de definició de menú</primary>
    </indexterm>

    <indexterm>
      <primary>fitxers .menu</primary>

      <see>fitxers de definició de menú</see>
    </indexterm>

    <para>Els fitxers de menú defineixen la jerarquia dels menús que s'utilitzen a la barra de menú del GNOME. En modificar aquests fitxers podeu personalitzar els menús per a tots els usuaris o per a un de sol, depenent de la ubicació del fitxer <filename>applications.menu</filename> que modifiqueu.</para>

    <para>Els fitxers de menú han de residir a <filename>$XDG_CONFIG_DIRS/menus/applications.menu</filename>. Si <envar>$XDG_CONFIG_DIRS</envar><footnote>
        <para>El $XDG_CONFIG_DIRS és la variable d'entorn definida en l'<ulink url="http://www.freedesktop.org/Standards/basedir-spec">Especificació de base de directori XDG</ulink>.</para>
      </footnote> no s'ha establert, llavors s'utilitza el camí predeterminat <filename>/etc/xdg</filename>. Això també implica que una versió específica de l'usuari ha d'estar ubicada a <filename>$XDG_CONFIG_HOME/menus/applications.menu</filename>, on primer es fa la cerca. Si <envar>$XDG_CONFIG_HOME</envar> no s'ha establert, llavors s'utilitza el camí predeterminat <filename>~/.config</filename>. Els directoris que apareguin primer a <envar>$XDG_CONFIG_DIRS</envar> tenen preferència quan hi ha diversos fitxers <filename>applications.menu</filename>. El primer fitxer trobat és l'utilitzat i els fitxers següents són ignorats.</para>

    <para>Si esteu confós sobre l'ordre en què es cerquen els camins, a continuació es mostra una llista senzilla per a resoldre la ubicació del <filename>applications.menu</filename>:</para>

    <orderedlist>
      <listitem>
        <para>Es cerca en cada directori de <envar>$XDG_CONFIG_HOME</envar> per a trobar el <filename>menus/applications.menu</filename>. Si <envar>$XDG_CONFIG_HOME</envar> no s'ha establert, es canvia el directori predeterminat a <filename>~/.config/</filename>.</para>
      </listitem>

      <listitem>
        <para>Es cerca en cada directori de <envar>$XDG_CONFIG_DIRS</envar> per a trobar el <filename>menus/applications.menu</filename>. Si <envar>$XDG_CONFIG_DIRS</envar> no s'ha establert, es canvia el directori predeterminat a <filename>/etc/xdg/</filename>.</para>
      </listitem>

      <listitem>
        <para>S'utilitza el primer fitxer <filename>applications.menu</filename> que es trobi.</para>
      </listitem>
    </orderedlist>

    <para>Podeu veure un exemple d'un fitxer <filename>.menu</filename> en l'<xref linkend="example-menu"/>. En aquest exemple, el menú de nivell superior s'anomena <literal>Applications</literal>, que està especificat a través de l'element <literal>&lt;Name&gt;</literal>. El menú <literal>Applications</literal> conté un submenú, però es permeten diversos submenús. Cada submenú també pot tenir un element <literal>&lt;Include&gt;</literal>. La finalitat de l'element <literal>&lt;Include&gt;</literal> és servir de filtre sobre el conjunt d'entrades disponibles de l'escriptori utilitzant regles de coincidència.</para>

    <para>Per exemple, l'element <literal>&lt;Category&gt;</literal> és una regla de coincidència bàsica que selecciona una <link linkend="menustructure-desktopentry"><emphasis>entrada d'escriptori</emphasis></link> només si la <link linkend="category-key">clau <literal>Categories</literal></link> conté el contingut de l'element <literal>&lt;Category&gt;</literal>. En l'exemple, el menú <literal>Accessories</literal> només inclourà una <emphasis>entrada d'escriptori</emphasis> si conté <quote>Utility</quote> però no <quote>System</quote> en la clau Categories. Per a obtenir més informació sobre la clau Categories, vegeu la <xref linkend="menustructure-desktopentry"/>.</para>

    <example id="example-menu">
      <title>Exemple d'un fitxer <filename>.menu</filename></title>

      <para><programlisting>&lt;!DOCTYPE Menu PUBLIC "-//freedesktop//DTD Menu 1.0//EN"
 "http://www.freedesktop.org/standards/menu-spec/1.0/menu.dtd"&gt;
&lt;Menu&gt;
  &lt;Name&gt;Applications&lt;/Name&gt;
  &lt;Directory&gt;Applications.directory&lt;/Directory&gt;

  &lt;!-- Read standard .directory and .desktop file locations --&gt;
  &lt;DefaultAppDirs/&gt;
  &lt;DefaultDirectoryDirs/&gt;

  &lt;!-- Accessories submenu --&gt;
  &lt;Menu&gt;
    &lt;Name&gt;Accessories&lt;/Name&gt;
    &lt;Directory&gt;Accessories.directory&lt;/Directory&gt;
    &lt;Include&gt;
      &lt;And&gt;
        &lt;Category&gt;Utility&lt;/Category&gt;
        &lt;Not&gt;
          &lt;Category&gt;System&lt;/Category&gt;
        &lt;/Not&gt;
      &lt;/And&gt;
    &lt;/Include&gt;
  &lt;/Menu&gt; &lt;!-- End Accessories --&gt;

  &lt;!-- possibly more submenus --&gt;

&lt;/Menu&gt; &lt;!-- End Applications --&gt;
</programlisting></para>
    </example>

    <para><xref linkend="menustructure-xmlmenu"/> descriu algun dels elements en els fitxers <filename>.menu</filename>. Per a una descripció més detallada, vegeu l'<ulink url="http://www.freedesktop.org/wiki/Standards/menu-spec">Especificació de menú XDG</ulink>.</para>

    <table frame="topbot" id="menustructure-xmlmenu">
      <title>Elements dels fitxers de definició de menú</title>

      <tgroup cols="2" colsep="0" rowsep="0">
        <colspec colname="colspec2" colwidth="33.83*"/>

        <colspec colname="colspec3" colwidth="80.00*"/>

        <thead>
          <row rowsep="1">
            <entry><para>Element</para></entry>

            <entry><para>Descripció</para></entry>
          </row>
        </thead>

        <tbody>
          <row>
            <entry colname="colspec2" valign="top"><para><literal>&lt;Menu&gt;</literal> </para></entry>

            <entry colname="colspec3" valign="top"><para>L'element arrel que pot contenir elements imbricats <literal>&lt;Menu&gt;</literal> que defineixen els submenús. La manera en com aquests elements estan imbricats determina l'estructura del menú.</para></entry>
          </row>

          <row>
            <entry colname="colspec2" valign="top"><para><literal>&lt;Name&gt;</literal> </para></entry>

            <entry colname="colspec3" valign="top"><para>Especifica el nom del menú. Cada element <literal>&lt;Menu&gt;</literal> ha de contenir un element <literal>&lt;Name&gt;</literal>.</para></entry>
          </row>

          <row>
            <entry colname="colspec2" valign="top"><para><literal>&lt;Directory&gt;</literal>
            </para></entry>

            <entry colname="colspec3" valign="top"><para>Especifica el nom del fitxer d'entrada de directori que especifica el nom, comentari i icona per al menú. Si aquest element no està especificat, llavors l'element <literal>&lt;Name&gt;</literal> s'utilitzarà per a mostrar el nom del menú.</para><para>Per defecte, es cerca els fitxers <filename>.directory</filename> a la ubicació <filename>$XDG_DATA_DIRS/desktop-directories/</filename> tal i com s'explica en l'<citetitle>Especificació de menú XDG</citetitle>.</para></entry>
          </row>

          <row>
            <entry colname="colspec2"><literal>&lt;DefaultAppDirs&gt;</literal></entry>

            <entry colname="colspec3">Aquesta és una instrucció que indica que totes les entrades de l'escriptori a <filename>$XDG_DATA_DIRS/applications/</filename> s'haurien de processar. Si aquesta instrucció no s'inclou, no es cercaran entrades d'escriptori en aquestes ubicacions.</entry>
          </row>

          <row>
            <entry colname="colspec2"><literal>&lt;DefaultDirectoryDirs&gt;</literal></entry>

            <entry colname="colspec3">Aquesta és una instrucció que indica que totes les entrades de directori disponibles des de <filename>$XDG_DATA_DIRS/desktop-directories/</filename> s'haurien de processar. Si aquesta instrucció no s'inclou, no es cercaran entrades d'escriptori en aquestes ubicacions.</entry>
          </row>

          <row>
            <entry colname="colspec2" valign="top"><para><literal>&lt;Include&gt;</literal></para></entry>

            <entry colname="colspec3">Conte una llista de regles de coincidència a partir de les quals es generen els continguts d'un menú. Pot incloure les regles de coincidència <literal>&lt;Filename&gt;</literal>, <literal>&lt;Category&gt;</literal>, <literal>&lt;And&gt;</literal>, <literal>&lt;Or&gt;</literal>, <literal>&lt;Not&gt;</literal> o <literal>&lt;All&gt;</literal>. Si hi ha més d'una regla present, s'aplicara un OR lògic a les regles de manera que s'incloguin les <emphasis>entrades d'escriptori</emphasis> que coincideixin amb qualsevol regla.</entry>
          </row>

          <row>
            <entry colname="colspec2"><literal>&lt;Exclude&gt;</literal></entry>

            <entry colname="colspec3">L'oposat de <literal>&lt;Include&gt;</literal> ja que qualsevol de les <emphasis>entrades d'escriptori</emphasis> que coincideixin amb aquest element s'exclouran del conjunt anterior d'elements inclosos. Per aquesta raó, aquest element ha d'aparèixer després de l'element <literal>&lt;Include&gt;</literal>.</entry>
          </row>

          <row>
            <entry colsep="colspec2"><literal>&lt;Filename&gt;</literal></entry>

            <entry colname="colspec3">Una regla de coincidència que selecciona una <emphasis>entrada d'escriptori</emphasis> quan l'identificador del fitxer de l'escriptori coincideix amb el contingut de l'element <literal>&lt;Filename&gt;</literal>.</entry>
          </row>

          <row>
            <entry colname="colspec2"><literal>&lt;Category&gt;</literal></entry>

            <entry colname="colspec3">Una regla de coincidència que selecciona una <emphasis>entrada d'escriptori</emphasis> quan la clau Categories coincideix amb el contingut de l'element <literal>&lt;Category&gt;</literal>.</entry>
          </row>

          <row>
            <entry colname="colspec2"><literal>&lt;And&gt;</literal></entry>

            <entry colname="colspec3">Una regla de coincidència que selecciona una <emphasis>entrada d'escriptori</emphasis> quan està seleccionada per <emphasis>totes</emphasis> les regles de coincidència imbricades en l'element <literal>&lt;And&gt;</literal>.</entry>
          </row>

          <row>
            <entry colname="colspec2"><literal>&lt;Or&gt;</literal></entry>

            <entry colname="colspec3">Una regla de coincidència que selecciona una <emphasis>entrada d'escriptori</emphasis> quan està seleccionada per <emphasis>qualsevol</emphasis> de les regles de coincidència imbricades en l'element <literal>&lt;Or&gt;</literal>.</entry>
          </row>

          <row>
            <entry colname="colspec2"><literal>&lt;Not&gt;</literal></entry>

            <entry colname="colspec3">Una regla de coincidència que no selecciona una <emphasis>entrada d'escriptori</emphasis> quan està seleccionada per <emphasis>qualsevol</emphasis> de les regles de coincidència imbricades en l'element <literal>&lt;Not&gt;</literal>.</entry>
          </row>

          <row>
            <entry colname="colspec2"><literal>&lt;All&gt;</literal></entry>

            <entry colname="colspec3">Una regla de coincidència que selecciona totes les <emphasis>entrades d'escriptori</emphasis>.</entry>
          </row>
        </tbody>
      </tgroup>
    </table>
  </sect1>

  <sect1 id="menustructure-desktopentry">
    <title>Fitxers d'entrada d'escriptori</title>

    <anchor id="menustructure-6"/>

    <indexterm>
      <primary>fitxers d'entrada d'escriptori</primary>
    </indexterm>

    <indexterm>
      <primary>fitxers .desktop</primary>

      <see>fitxers d'entrada d'escriptori</see>
    </indexterm>

    <para>Un <firstterm>fitxer d'entrada d'escriptori</firstterm> és un fitxer de dades que proporciona informació sobre un element en un menú. El fitxer d'entrada d'escriptori especifica els detalls per a l'element com ara un nom, una ordre a executar, una icona, i així successivament. També conté paraules clau que determinen la ubicació de l'element en la jerarquia del menú.</para>

    <para>Desktop entry files must reside in the
    <filename>$XDG_DATA_DIRS/applications</filename> directory and must have a
    <filename>.desktop</filename> file extension. If
    <envar>$XDG_DATA_DIRS</envar><footnote>
        <para>$XDG_DATA_DIRS és la variable d'entorn definida en l'<ulink url="http://www.freedesktop.org/Standards/basedir-spec">Especificació de base de directori XDG</ulink>.</para>
      </footnote> is not set, then the default path is
    <filename>/usr/share</filename> is used. This also implies that user
    specific desktop entries may be located at
    <filename>$XDG_DATA_HOME/applications</filename> which is
    searched first. If <envar>$XDG_DATA_HOME</envar> is not set, then the
    default path <filename>~/.local/share</filename> is used. Desktop entries
    are collected from all directories in the <envar>$XDG_DATA_DIRS</envar>
    environment variable. Directories which appear first in
    <envar>$XDG_DATA_DIRS</envar> are given precedence when there are
    several <filename>.desktop</filename> files with the same name.</para>

    <para>L'exemple següent és un fitxer d'entrada d'escriptori:</para>

    <programlisting>[Desktop Entry]
Encoding=UTF-8
Name=Calculator
Name[ca]=Calculadora
...
Comment=Perform calculations
Comment[ca]=Realitza càlculs
...
Exec=gcalctool
Icon=accessories-calculator
Terminal=false
Type=Application
StartupNotify=true
Categories=GNOME;GTK;Utility;Calculator</programlisting>

    <para>La <xref linkend="menustructure-TBL-7"/> descriu les claus més importants en els fitxers d'entrada d'escriptori. Per a obtenir més informació sobre els fitxers d'entrada d'escriptori, vegeu l'<ulink url="http://www.freedesktop.org/Standards/desktop-entry-spec">Especificació de les entrades d'escriptori XDG</ulink>.</para>

    <table frame="topbot" id="menustructure-TBL-7">
      <title>Claus d'entrada d'escriptori</title>

      <tgroup cols="2" colsep="0" rowsep="0">
        <colspec colname="colspec0" colwidth="25.25*"/>

        <colspec colname="colspec1" colwidth="74.75*"/>

        <thead>
          <row rowsep="1">
            <entry><para>Clau d'entrada d'escriptori</para></entry>

            <entry><para>Descripció</para></entry>
          </row>
        </thead>

        <tbody>
          <row>
            <entry colname="colspec0" id="category-key" valign="top"><para>
            <literal>Categories</literal> </para></entry>

            <entry colname="colspec1" valign="top"><para>Especifica les paraules clau que descriuen l'element. Les paraules clau se separen amb un punt i coma (;). Per a veure una llista de les paraules clau de categoria estàndard, vegeu l'especificació de menú de l'escriptori a <ulink url="http://www.freedesktop.org/Standards/menu-spec"> http://www.freedesktop.org/Standards/menu-spec</ulink></para><para>Els <link linkend="menustructure-13">fitxers de definició de menú</link> mapegen les entrades de l'escriptori als menús utilitzant les regles de coincidència amb la clau de Categories.</para></entry>
          </row>

          <row>
            <entry valign="top"><para> <literal>Comment</literal>
            </para></entry>

            <entry valign="top"><para>Especifica una breu descripció de l'element. El comentari es mostra com un indicador de funció quan el ratolí es situa sobre l'element en el menú.</para></entry>
          </row>

          <row>
            <entry valign="top"><para> <literal>Encoding</literal>
            </para></entry>

            <entry valign="top"><para>Especifica la codificació del fitxer d'entrada d'escriptori.</para></entry>
          </row>

          <row>
            <entry valign="top"><para> <literal>Exec</literal> </para></entry>

            <entry valign="top"><para>Especifica una ordre a executar quan seleccioneu l'element des del menú.</para></entry>
          </row>

          <row>
            <entry colname="colspec0" valign="top"><para>
            <literal>Icon</literal> </para></entry>

            <entry colname="colspec1" valign="top"><para>Especifica el nom del fitxer de la icona que representa l'element. No especifica el camí al nom del fitxer o l'extensió del fitxer.</para></entry>
          </row>

          <row>
            <entry><literal>MimeType</literal></entry>

            <entry>Especifica els tipus MIME que l'aplicació pot gestionar.</entry>
          </row>
         
          <row>
            <entry valign="top"><para> <literal>Name</literal> </para></entry>

            <entry valign="top"><para>Especifica el nom de l'element. Aquest nom es mostra en l'element en el menú.</para></entry>
          </row>

          <row>
            <entry valign="top"><para> <literal>NoDisplay</literal> </para></entry>

            <entry valign="top"><para>Aquesta opció significa que <quote>l'aplicació existeix, però no es mostra en els menús</quote>.</para></entry>
          </row>

          <row>
            <entry colname="colspec0" valign="top"><para>
            <literal>Terminal</literal> </para></entry>

            <entry colname="colspec1" valign="top"><para>Especifica si l'ordre en la clau <literal>Exec</literal> s'executa en una finestra de terminal. Si el valor és <literal>true</literal> l'ordre s'executa en una finestra de terminal.</para><para>Si l'ordre no crea una finestra on executar-se, el valor d'aquesta clau hauria de ser <literal>true</literal>.</para></entry>
          </row>

          <row>
            <entry colname="colspec0" valign="top"><para>
            <literal>Type</literal> </para></entry>

            <entry colname="colspec1" valign="top"><para>Especifica el tipus de l'element. Aquest valor és un dels següents:</para><itemizedlist>
                <listitem>
                  <para><literal>Application</literal>: un element que inicia una aplicació.</para>
                </listitem>

                <listitem>
                  <para><literal>Link</literal>: un element que enllaça a un fitxer, carpeta o font remota (com ara un lloc FTP, una pàgina web, un recurs compartit del Windows...).</para>
                </listitem>

                <listitem>
                  <para><literal>FSDevice</literal>: un element que és un dispositiu del sistema de fitxers.</para>
                </listitem>

                <listitem>
                  <para><literal>Directory</literal>: un element que és un directori.</para>
                </listitem>
              </itemizedlist></entry>
          </row>

        </tbody>
      </tgroup>
    </table>

    <para>Per a obtenir més informació sobre les claus en els fitxers d'entrada de l'escriptori, vegeu les especificacions d'entrada d'escriptori a l'URL següent:</para>

    <literallayout>
    <ulink url="http://www.freedesktop.org/Standards/desktop-entry-spec">http://www.freedesktop.org/Standards/desktop-entry-spec</ulink>
    </literallayout>

    <note>
      <para>Els llançadors del quadre i els objectes de l'escriptori també utilitzen fitxers d'entrada d'escriptori. Els fitxers d'entrada d'escriptori per a llançadors i objectes de l'escriptori proporcionen la mateixa informació que per als elements d'un menú. Per exemple, els fitxers d'entrada d'escriptori proporcionen l'ordre a executar quan l'usuari selecciona el llançador o l'objecte.</para>
    </note>
  </sect1>

  <sect1 id="menustructure-14">
    <title>Fitxers d'entrada de directori</title>

    <indexterm>
      <primary>fitxers d'entrada de directori</primary>
    </indexterm>

    <indexterm>
      <primary>fitxers .directory</primary>

      <see>fitxers d'entrada de directori</see>
    </indexterm>

    <para>Un <firstterm>fitxer d'entrada de directori</firstterm> és un fitxer de dades que proporciona informació sobre un element en un menú. El fitxer d'entrada de directori especifica els detalls per al menú com ara un nom, un indicador de funció i una icona. Els fitxers d'entrada de directori tenen una extensió de fitxer <filename>.directory</filename>.</para>

    <para>Els fitxers d'entrada de directori han de residir al directori <filename>$XDG_DATA_DIRS/desktop-directories</filename>. Si <envar>$XDG_DATA_DIRS</envar> no s'ha establert, llavors s'utilitza el camí predeterminat <filename>/usr/share</filename>. Això també implica que les entrades de directori específiques de l'usuari han d'estar ubicades a <filename>$XDG_DATA_HOME/desktop-directories</filename> on primer es fa la cerca. Si <envar>$XDG_DATA_HOME</envar> no s'ha establert, llavors s'utilitza el camí predeterminat <filename>~/.local/share</filename>. Les entrades de directori es recullen per a tots els directoris especificats a la variable d'entorn <envar>$XDG_DATA_DIRS</envar>. Els directoris que apareguin primer a <envar>$XDG_DATA_DIRS</envar> tenen preferència quan hi hagi diversos fitxers <filename>.directory</filename> amb el mateix nom.</para>

    <para>A continuació es mostra un fitxer d'entrada de directori d'exemple:</para>

    <programlisting>[Desktop Entry]
Name=Graphics
Name[ca]=Gràfics
...
Comment=Graphics applications
Comment[ca]=Aplicacions de gràfics
...
Icon=gnome-graphics
Type=Directory
Encoding=UTF-8</programlisting>

    <para>La <xref linkend="menustructure-TBL-15"/> descriu les claus més importants dels fitxers d'entrada de directori.</para>

    <table frame="topbot" id="menustructure-TBL-15">
      <title>Claus d'entrada de directori</title>

      <tgroup cols="2" colsep="0" rowsep="0">
        <colspec colname="colspec0" colwidth="27.07*"/>

        <colspec colname="colspec1" colwidth="72.93*"/>

        <thead>
          <row rowsep="1">
            <entry><para>Clau d'entrada de directori</para></entry>

            <entry><para>Descripció</para></entry>
          </row>
        </thead>

        <tbody>
          <row>
            <entry colname="colspec0" valign="top"><para>
            <literal>Name</literal> </para></entry>

            <entry colname="colspec1" valign="top"><para>Especifica el nom del menú. Aquest nom es mostra al menú.</para></entry>
          </row>

          <row>
            <entry colname="colspec0" valign="top"><para>
            <literal>Comment</literal> </para></entry>

            <entry colname="colspec1" valign="top"><para>Especifica una breu descripció de l'element. El comentari es mostra com un indicador de funció quan el ratolí es situa sobre el menú.</para></entry>
          </row>

          <row>
            <entry colname="colspec0" valign="top"><para>
            <literal>Icon</literal> </para></entry>

            <entry colname="colspec1" valign="top"><para>Especifica el nom del fitxer de la icona que representa el menú. No especifica el camí al nom del fitxer o l'extensió del fitxer.</para></entry>
          </row>

          <row>
            <entry valign="top"><para> <literal>Type</literal> </para></entry>

            <entry valign="top"><para>Especifica el tipus de menú. El valor d'aquesta clau sempre és <literal>Directory</literal>.</para></entry>
          </row>
        </tbody>
      </tgroup>
    </table>
  </sect1>

  <sect1 id="menustructure-2">
    <title>Edició dels menús del sistema</title>

    <anchor id="menustructure-23"/>

    <indexterm>
      <primary>menús</primary>

      <secondary>editar</secondary>
    </indexterm>

    <para>Podeu editar manualment els fitxers de configuració del menú i els fitxers de dades del menú per a personalitzar els menús.</para>

    <sect2 id="menustructure-3">
      <title>Addició de menús</title>

      <anchor id="menustructure-19"/>

      <anchor id="menustructure-20"/>

      <indexterm>
        <primary>menús</primary>

        <secondary>afegir</secondary>
      </indexterm>

      <para>Per a afegir un menú per a tots els usuaris, realitzeu els passos següents:</para>

      <orderedlist>
        <listitem>
          <para>Creeu un fitxer d'entrada de directori per a l'element que voleu afegir. Col·loqueu el fitxer d'entrada de directori al directori <filename>$XDG_DATA_DIRS/desktop-directories</filename>. Per a obtenir més informació sobre els fitxers d'entrada de directori, vegeu la <xref linkend="menustructure-14"/>.</para>
        </listitem>

        <listitem>
          <para>Localitzeu el fitxer <filename>$XDG_CONFIG_DIRS/menus/applications.menu</filename>.</para>
        </listitem>

        <listitem>
          <para>En el fitxer <filename>.menu</filename>, afegiu un element <literal>&lt;Menu&gt;</literal> per al nou menú. Per a obtenir més informació sobre els fitxers <filename>.menu</filename>, vegeu la <xref linkend="menustructure-13"/>.</para>
        </listitem>

        <listitem>
          <para>Creeu un element <literal>&lt;Name&gt;</literal> sota de <literal>&lt;Menu&gt;</literal>. El contingut de l'element ha de contenir el nom per al menú.</para>
        </listitem>

        <listitem>
          <para>Creeu un element <literal>&lt;Directory&gt;</literal> sota de <literal>&lt;Menu&gt;</literal>. El contingut de l'element ha de contenir el nom del fitxer d'entrada de directori.</para>
        </listitem>

        <listitem>
          <para>Vegeu la <xref linkend="menustructure-4"/> per a com afegir un element al menú.</para>
        </listitem>
      </orderedlist>

      <para>El menú hauria d'aparèixer en la barra de menú el proper cop que els usuaris entrin.</para>

      <note>
        <title>No apareix el menú?</title>

        <para>Si no especifiqueu cap regla de coincidència en l'element <literal>&lt;Include&gt;</literal> o si la regla no coincideix amb cap entrada de l'escriptori, llavors no veureu el menú a la barra de menú.</para>
      </note>
    </sect2>

    <sect2 id="menustructure-4">
      <title>Addició d'un element al menú</title>

      <indexterm>
        <primary>menús</primary>

        <secondary>afegir elements a</secondary>
      </indexterm>

      <para>Per a afegir un element al menú per a tots els usuaris, realitzeu els passos següents:</para>

      <orderedlist>
        <listitem>
          <para>Creeu un fitxer d'entrada d'escriptori per a l'element que voleu afegir. Per a més informació sobre els fitxers d'entrada d'escriptori, vegeu la <xref linkend="menustructure-desktopentry"/>.</para>
        </listitem>

        <listitem>
          <para>Col·loqueu el fitxer d'entrada d'escriptori a la carpeta <filename>$XDG_DATA_DIRS/applications</filename>.</para>
        </listitem>

        <listitem>
          <para>Localitzeu el fitxer <filename>$XDG_CONFIG_DIRS/menus/applications.menu</filename>.</para>
        </listitem>

        <listitem>
          <para>Verifiqueu que un element <literal>&lt;Menu&gt;</literal> contingui un element <literal>&lt;Include&gt;</literal> amb una regla de coincidència que seleccioni el fitxer d'entrada d'escriptori creat al primer pas.</para>
        </listitem>
      </orderedlist>

      <para>L'element de menú hauria d'aparèixer en la ubicació assignada el proper cop que els usuaris entrin.</para>
    </sect2>

    <sect2 id="menustructure-9">
      <title>Edició de les propietats d'un menú</title>

      <indexterm>
        <primary>menús</primary>

        <secondary>editar propietats de</secondary>
      </indexterm>

      <para>Per a editar les propietats d'un menú, realitzeu els passos següents:</para>

      <orderedlist>
        <listitem>
          <para>Localitzeu el fitxer <filename>$XDG_CONFIG_DIRS/menus/applications.menu</filename>.</para>
        </listitem>

        <listitem>
          <para>Cerqueu l'entrada <literal>&lt;Menu&gt;</literal> d'aquest fitxer que correspon al menú que voleu modificar. Fixeu-vos en el nom del fitxer d'entrada de directori en l'element <literal>&lt;Directory&gt;</literal>.</para>
        </listitem>

        <listitem>
          <para>Localitzeu l'entrada de directori per a aquest menú. Modifiqueu el contingut per a canviar les propietats del menú. Per a obtenir més informació sobre els fitxers <filename>.directory</filename>, vegeu la <xref linkend="menustructure-14"/>.</para>
        </listitem>
      </orderedlist>
    </sect2>

    <sect2 id="menustructure-10">
      <title>Edició d'un element de menú</title>

      <indexterm>
        <primary>menús</primary>

        <secondary>editar elements de menú</secondary>
      </indexterm>

      <para>Per a editar un element de menú, realitzeu els passos següents:</para>

      <orderedlist>
        <listitem>
          <para>Localitzeu l'entrada d'escriptori en el directori <filename>$XDG_DATA_DIRS/applications</filename> que correspon a l'element de menú.</para>
        </listitem>

        <listitem>
          <para>Editeu l'entrada d'escriptori per a canviar les propietats de l'element de menú. Per a obtenir més informació sobre fitxers d'entrada d'escriptori, vegeu la <xref linkend="menustructure-desktopentry"/>.</para>
        </listitem>
      </orderedlist>
    </sect2>

    <sect2 id="menustructure-11">
      <title>Supressió d'un element de menú</title>

      <indexterm>
        <primary>menús</primary>

        <secondary>suprimir elements de menú</secondary>
      </indexterm>

      <para>Per a suprimir un element de menú per a tots els usuaris:</para>

      <orderedlist>
        <listitem>
          <para>Localitzeu el fitxer <filename>$XDG_CONFIG_DIRS/menus/applications.menu</filename>.</para>
        </listitem>

        <listitem>
          <para>Cerqueu l'element <literal>&lt;Menu&gt;</literal> d'aquest fitxer que conté l'entrada d'escriptori que voleu suprimir.</para>
        </listitem>

        <listitem>
          <para>Introduïu un element <literal>&lt;Exclude&gt;</literal> després de tancar l'etiqueta per a l'element <literal>&lt;Include&gt;</literal>. Assegureu-vos que aquest és l'element <literal>&lt;Menu&gt;</literal> determinat en el segon pas.</para>
        </listitem>

        <listitem>
          <para>Inseriu la regla de coincidència <literal>&lt;Filename&gt;</literal> com un subelement de <literal>&lt;Exclude&gt;</literal> per a especificar l'exclusió de l'entrada d'escriptori.</para>
        </listitem>
      </orderedlist>

      <para>L'element de menú no hauria d'aparèixer en el menú el següent cop que els usuaris entrin. L'<xref linkend="menustructure-deleteitem"/> mostra com s'ha realitzat en el fitxer <filename>applications.menu</filename>. L'entrada d'escriptori per a <filename>dasher.desktop</filename> està explícitament exclosa del menú d'accessibilitat.</para>

      <example id="menustructure-deleteitem">
        <title>Supressió d'un element de menú</title>

        <programlisting>&lt;!-- ... --&gt;

  &lt;Menu&gt;
    &lt;Name&gt;Accessibility&lt;/Name&gt;
    &lt;Directory&gt;Accessibility.directory&lt;/Directory&gt;
    &lt;Include&gt;
      &lt;And&gt;
        &lt;Category&gt;Accessibility&lt;/Category&gt;
        &lt;Not&gt;&lt;Category&gt;Settings&lt;/Category&gt;&lt;/Not&gt;
      &lt;/And&gt;
    &lt;/Include&gt;
    &lt;Exclude&gt;
      &lt;Filename&gt;dasher.desktop&lt;/Filename&gt;
    &lt;/Exclude&gt;
  &lt;/Menu&gt;

&lt;!-- ... --&gt;
</programlisting>
      </example>
    </sect2>
  </sect1>

  <sect1 id="menustructure-usermenus">
    <title>Edició dels menús d'usuari i combinació de menús</title>

    <indexterm>
      <primary>menús</primary>

      <secondary>editar els menús d'usuari</secondary>
    </indexterm>

    <para>Podeu utilitzar les aplicacions de l'escriptori del GNOME següents per a editar els menús per als usuaris:</para>

    <itemizedlist>
      <listitem>
        <para>Editor de menús del GNOME</para>
      </listitem>
    </itemizedlist>

    <para>Un simple editor de menú està disponible per als usuaris per a editar els seus menús. Per a obtenir més informació, vegeu <ulink url="ghelp:user-guide?goseditmainmenu-1">Treballar amb els menús</ulink> en la <ulink url="ghelp:user-guide">Guia d'usuari del GNOME</ulink>. De manera alternativa, podeu crear i editar manualment un fitxer de menú d'usuari.</para>

    <para>Per a crear manualment un menú personalitzat per a un usuari, el <filename>$XDG_CONFIG_HOME/menus/applications.menu</filename> ha d'existir. En el cas que <envar>$XDG_CONFIG_HOME</envar> no s'ha establert, s'utilitza el directori predeterminat <filename>~/.config</filename>. Ja que aquesta és la primera ubicació on es cerca el fitxer <filename>applications.menu</filename>, té preferència sobre la resta de fitxers de menú.</para>

    <para>Els menús d'usuari poden contenir tots els elements descrits a la <xref linkend="menustructure-13"/>. Per a una llista completa dels elements permesos, vegeu l'<ulink url="http://www.freedesktop.org/wiki/Standards/menu-spec">Especificació de menú XDG</ulink>.</para>

    <para>Atès que els fitxers de menú d'usuari tenen preferència sobre el fitxer de menú del sistema, aquests substituiran completament el menú del sistema a no ser que explícitament es <emphasis>combini</emphasis> el menú del sistema. Trobareu més informació sobre la combinació de menús a les subseccions següents.</para>

    <sect2>
      <title>Combinació del menú del sistema</title>

      <indexterm>
        <primary>menús</primary>

        <secondary>combinar el menú del sistema</secondary>
      </indexterm>

      <para>Sovint, un usuari només vol afegir o suprimir elements de menú als elements existents del sistema de menú estàndard. Per a admetre canvis individuals com aquests, es recomana que utilitzeu l'element <literal>&lt;MergeFile&gt;</literal> amb l'atribut <literal>type="parent"</literal> amb el fitxer d'usuari <filename>applications.menu</filename>.</para>

      <para>L'element <literal>&lt;MergeFile&gt;</literal> permet que un menú es combini amb els continguts d'un fitxer de menú d'usuari. Quan especifiqueu l'atribut <literal>type="parent"</literal>, s'ignoraran els continguts de l'element <literal>&lt;MergeFile&gt;</literal> i el fitxer <filename>applications.menu</filename> següent en el directori <filename>$XDG_CONFIG_DIRS/menus</filename> s'utilitzarà per a combinar.</para>

      <note>
        <title>Especificacions antigues</title>

        <para>Les especificacions antigues no inclouen l'atribut <literal>type</literal> i simplement es requereix la ubicació del fitxer de menú a combinar amb el contingut de l'element <literal>&lt;MergeFile&gt;</literal>. Per això, pot ser que encara vegeu una ubicació especificada en els continguts de <literal>&lt;MergeFile&gt;</literal>, fins i tot quan <literal>type="parent"</literal>.</para>
      </note>

      <para>La combinació es realitza de la manera següent:</para>

      <itemizedlist>
        <listitem>
          <para>Els fills de l'element arrel <literal>&lt;Menu&gt;</literal> en el fitxer de menú combinat <footnote>
              <para>El fitxer de menú combinat fa referència al <filename>applications.menu</filename> següent en el directori <filename>$XDG_CONFIG_DIRS/menus</filename>.</para>
            </footnote> se substitueixen per l'element <literal>&lt;MergeFile&gt;</literal> en el fitxer de menú base.</para>
        </listitem>

        <listitem>
          <para>Tots els elements <literal>&lt;Menu&gt;</literal> fill amb el mateix nom es consoliden en un sol element <literal>&lt;Menu&gt;</literal>. Això es realitza afegint tots els elements fill de cada element <literal>&lt;Menu&gt;</literal> que tenen el mateix nom a l'<emphasis>última</emphasis> ocurrència de l'element de menú.</para>
        </listitem>
      </itemizedlist>

      <para>L'<xref linkend="menustructure-systemmerge"/> és un exemple d'un fitxer de menú d'usuari explícitament combinat amb el fitxer de menú del sistema.</para>

      <example id="menustructure-systemmerge">
        <title>Combinació del menú del sistema</title>

        <programlisting>&lt;!DOCTYPE Menu PUBLIC "-//freedesktop//DTD Menu 1.0//EN"
 "http://www.freedesktop.org/standards/menu-spec/menu-1.0.dtd"&gt;

&lt;Menu&gt;
  &lt;Name&gt;Applications&lt;/Name&gt;
  &lt;MergeFile type="parent"&gt;/etc/xdg/menus/applications.menu&lt;/MergeFile&gt;
  &lt;Menu&gt;
    &lt;Name&gt;Accessibility&lt;/Name&gt;
    &lt;Exclude&gt;
      &lt;Filename&gt;dasher.desktop&lt;/Filename&gt;
    &lt;/Exclude&gt;
  &lt;/Menu&gt;
&lt;/Menu&gt;
</programlisting>
      </example>
    </sect2>

    <sect2>
      <title>Combinació de menús arbitraris</title>

      <indexterm>
        <primary>menús</primary>

        <secondary>combinar menús arbitraris</secondary>
      </indexterm>

      <para>Qualsevol fitxer de menú arbitrari es pot combinar de manera molt semblant als menús del sistema. La diferència és que l'atribut <literal>type</literal> s'ha d'establir a <literal>path</literal> o s'ha d'excloure de l'element <literal>&lt;MergeFile&gt;</literal> per a poder realitzar aquest tipus de combinació.</para>

      <para>La combinació es realitza de la mateixa manera excepte que la ubicació del <emphasis>fitxer de menú combinat</emphasis> s'especifica en el contingut de l'element <literal>&lt;MergeFile&gt;</literal>.</para>
    </sect2>
  </sect1>
</chapter>

<chapter id="themes-0">
  <title>Instal·lació de temes</title>
  <highlights>
    <para>Aquest capítol descriu els temes, els paràmetres dels temes que estan disponibles en l'escriptori del GNOME, com instal·lar opcions per als paràmetres dels temes i com crear una opció personalitzada.</para>
  </highlights>
  <sect1 id="themes-1">
    <title>Introducció als temes</title>
    <indexterm>
      <primary>temes</primary>
      <secondary>introducció</secondary>
    </indexterm>
    <para>Un tema és un grup de paràmetres coordinats que especifiquen l'aparença visual d'una part de l'escriptori del GNOME. Els usuaris poden seleccionar temes per a canviar l'aparença de l'escriptori del GNOME.</para>
    <para>Un tema conté paràmetres que afecten parts diferents de l'escriptori de GNOME, de la manera següent:</para>
    <variablelist>
      <varlistentry>
        <term>Controls</term>
        <listitem>
          <para><indexterm><primary>temes</primary><secondary>opcions dels controls</secondary><tertiary>introducció</tertiary></indexterm><indexterm><primary>temes GTK+</primary><see>temes, opcions dels controls</see></indexterm>El paràmetre dels controls per a un tema determina l'aparença visual de les finestres, quadres i miniaplicacions. El paràmetre dels controls també determina l'aparença visual dels elements d'interfícies que compleixen l'estàndard del GNOME que apareixen en les finestres, quadres i miniaplicacions, com ara menús, icones i botons. Algunes de les opcions del paràmetre dels controls que estan disponibles són dissenyades amb requeriments d'accessibilitat especials. Els usuaris poden seleccionar una opció per al paràmetre dels controls des de la pestanya <guilabel>Controls</guilabel> en l'eina de preferències <application>Tema</application>.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Costat de la finestra</term>
        <listitem>
          <para><indexterm><primary>temes</primary><secondary>opcions del costat de la finestra</secondary><tertiary>introducció</tertiary></indexterm><indexterm><primary>temes del Metacity</primary><see>temes, opcions del costat de la finestra</see></indexterm>El paràmetre del costat de la finestra per a un tema només determina l'aparença dels costats al voltant de les finestres. Els usuaris poden seleccionar una opció per al paràmetre del costat de la finestra des de la pestanya <guilabel>Costat de la finestra</guilabel> en l'eina de preferències <application>Tema</application>.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Icon</term>
        <listitem>
          <para><indexterm><primary>temes</primary><secondary>opcions de les icones</secondary><tertiary>introducció</tertiary></indexterm><indexterm><primary>temes icones</primary><see>temes, opcions de les icones</see></indexterm>El paràmetre de les icones per a un tema determina l'aparença de les icones en els quadres i en el fons de l'escriptori. Els usuaris poden seleccionar una opció per als paràmetres de les icones des de la pestanya <guilabel>Icones</guilabel> en l'eina de preferències <application>Tema</application>.</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect1>
  <sect1 id="themes-17">
    <title>Fitxer índex del tema</title>
    <para>Cada tema té un fitxer índex que defineix les seves característiques. El nom del fitxer índex és <filename>/usr/share/themes/<replaceable>nom-del-tema</replaceable>/index.theme</filename>.</para>
    <para>L'exemple següent és un fitxer índex del tema:</para>
    <programlisting>[Desktop Entry]
Type=X-GNOME-Metatheme
Name=High Contrast Large
Name[ca]=Contrast alt amb impressió gran
Comment=Large black-on-white text and icons
Comment[ca]=Text i icones grans en negre sobre blanc
Encoding=UTF-8

[X-GNOME-Metatheme]
GtkTheme=HighContrastLargePrint
IconTheme=HighContrast
MetacityTheme=Atlanta
ApplicationFont=sans 18
</programlisting>
    <para>La taula següent descriu les claus dels fitxers índex del tema:</para>
    <table frame="topbot" id="themes-TBL-18">
      <title>Claus dels fitxers índex del tema</title>
      <tgroup cols="2" colsep="0" rowsep="0">
        <colspec colname="colspec0" colwidth="33*"/>
        <colspec colname="colspec1" colwidth="67*"/>
        <thead>
          <row rowsep="1">
            <entry>
              <para>Clau del fitxer índex</para>
            </entry>
            <entry>
              <para>Descripció</para>
            </entry>
          </row>
        </thead>
        <tbody>
          <row>
            <entry colname="colspec0" valign="top">
              <para>
                <literal>Type</literal>
              </para>
            </entry>
            <entry colname="colspec1" valign="top">
              <para>Especifica que aquest tema determina l'aparença de varies opcions de tema, com ara els controls, costats de la finestra i icones.</para>
            </entry>
          </row>
          <row>
            <entry colname="colspec0" valign="top">
              <para>
                <literal>Name</literal>
              </para>
            </entry>
            <entry colname="colspec1" valign="top">
              <para>El nom del tema. Aquest és el nom del tema que es mostra en l'eina de preferències <application>Tema</application>.</para>
            </entry>
          </row>
          <row>
            <entry colname="colspec0" valign="top">
              <para>
                <literal>Comment</literal>
              </para>
            </entry>
            <entry colname="colspec1" valign="top">
              <para>Una breu descripció del tema. Aquest és el text que es mostra sota el nom del tema en l'eina de preferències <application>Tema</application>.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <literal>GtkTheme</literal>
              </para>
            </entry>
            <entry valign="top">
              <para>Correspon al paràmetre dels controls en l'eina de preferències <application>Tema</application>. Especifica quina opció del paràmetre dels controls s'ha d'aplicar a les finestres, quadres i miniaplicacions.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <literal>IconTheme</literal>
              </para>
            </entry>
            <entry valign="top">
              <para>Correspon al paràmetre de les icones en l'eina de preferències <application>Tema</application>. Especifica quina opció del paràmetre de les icones s'ha d'aplicar als quadres i al fons de l'escriptori.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <literal>MetacityTheme</literal>
              </para>
            </entry>
            <entry valign="top">
              <para>Correspon al paràmetre del costat de la finestra en l'eina de preferències <application>Tema</application>. Especifica quina opció del paràmetre del costat de la finestra s'ha d'aplicar a les finestres.</para>
            </entry>
          </row>
          <row>
            <entry colname="colspec0" valign="top">
              <para>
                <literal>ApplicationFont</literal>
              </para>
            </entry>
            <entry colname="colspec1" valign="top">
              <para>Correspon al paràmetre del tipus de lletra de les aplicacions en l'eina de preferències <application>Tipus de lletra</application>.</para>
            </entry>
          </row>
        </tbody>
      </tgroup>
    </table>
  </sect1>
  <sect1 id="themes-3">
    <title>Instal·lació d'una opció de controls nova</title>
    <indexterm>
      <primary>temes</primary>
      <secondary>opcions dels controls</secondary>
      <tertiary>instal·lar</tertiary>
    </indexterm>
    <para>Podeu afegir una opció nova per al paràmetre dels controls en l'eina de preferències <application>Tema</application>. Les opcions dels controls són al directori <filename>/usr/share/themes</filename>. L'estructura típica de l'opció dels controls en el fitxer del sistema és la següent:</para>
    <variablelist>
      <varlistentry>
        <term>Fitxer d'opcions</term>
        <listitem>
          <para>
            <filename>/usr/share/themes/<replaceable>nom-de-l'opció</replaceable>/gtk-2.0/gtkrc</filename>
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Fitxers d'imatges</term>
        <listitem>
          <para>
            <filename>/usr/share/themes/<replaceable>nom-de-l'opció</replaceable>/pixmaps/*.*</filename>
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <para>Generalment, es proporciona una opció nova per al paràmetre dels controls com a fitxer <filename>.tar.gz</filename>. Per a instal·lar l'opció dels controls nova, descomprimiu el fitxer <filename>.tar.gz</filename> en el directori <filename>/usr/share/themes</filename>.</para>
    <para>Els usuaris poden instal·lar les seves pròpies opcions per al paràmetre dels controls. Si un usuari instal·la una opció per al paràmetre dels controls, l'opció s'emmagatzema en el directori <filename>$HOME/.themes</filename>.</para>
  </sect1>
  <sect1 id="themes-5">
    <title>Instal·lació d'una opció del costat de la finestra nova</title>
    <indexterm>
      <primary>temes</primary>
      <secondary>opcions del costat de la finestra</secondary>
      <tertiary>instal·lar</tertiary>
    </indexterm>
    <para>Podeu afegir una opció nova per al paràmetre del costat de la finestra en l'eina de preferències <application>Tema</application>. Les opcions del costat de la finestra són al directori <filename>/usr/share/themes/<replaceable>nom-de-l'opció</replaceable>/metacity-1</filename>. L'estructura típica de l'opció del costat de la finestra en el fitxer del sistema és la següent:</para>
    <variablelist>
      <varlistentry>
        <term>Fitxer d'opcions</term>
        <listitem>
          <para>
            <filename>/usr/share/themes/<replaceable>nom-de-l'opció</replaceable>/metacity-1/metacity-theme-1.xml</filename>
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Fitxers d'imatges</term>
        <listitem>
          <para>
            <filename>/usr/share/themes/<replaceable>nom-de-l'opció</replaceable>/metacity-1/*.*</filename>
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <para>Generalment, es proporciona una opció nova per al paràmetre del costat de la finestra com a fitxer <filename>.tar.gz</filename>. Per a instal·lar l'opció del costat de la finestra nova, descomprimiu el fitxer <filename>.tar.gz</filename> en el directori <filename>/usr/share/themes</filename>.</para>
    <para>Els usuaris poden instal·lar les seves pròpies opcions per al paràmetre del costat de la finestra. Si un usuari instal·la una opció per al paràmetre del costat de la finestra, l'opció s'emmagatzema en el directori <filename>$HOME/.themes</filename>.</para>
  </sect1>
  <sect1 id="themes-16">
    <title>Instal·lació d'una opció de les icones nova</title>
    <indexterm>
      <primary>temes</primary>
      <secondary>opcions de les icones</secondary>
      <tertiary>instal·lar</tertiary>
    </indexterm>
    <para>Podeu afegir una opció nova per al paràmetre de les icones en l'eina de preferències <application>Tema</application>. Les opcions de les icones són al directori <filename>/usr/share/icons/<replaceable>nom-de-l'opció</replaceable></filename>. L'estructura típica de l'opció de les icones en el fitxer del sistema és la següent:</para>
    <variablelist>
      <varlistentry>
        <term>Fitxer d'opcions</term>
        <listitem>
          <para>
            <filename>/usr/share/icons/<replaceable>nom-de-l'opció</replaceable></filename>
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Fitxers d'imatges</term>
        <listitem>
          <para>
            <filename>/usr/share/icons/<replaceable>nom-de-l'opció</replaceable>/icons/*.*</filename>
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <para>Generalment, es proporciona una opció nova per al paràmetre de les icones com a fitxer <filename>.tar.gz</filename>. Per a instal·lar l'opció de les icones nova, descomprimiu el fitxer <filename>.tar.gz</filename> en el directori <filename>/usr/share/icons</filename>.</para>
    <para>Els usuaris poden instal·lar les seves pròpies opcions per al paràmetre de les icones. Si un usuari instal·la una opció per al paràmetre de les icones, l'opció s'emmagatzema en el directori <filename>$HOME/.icons/<replaceable>nom-de-l'opció</replaceable></filename>.</para>
  </sect1>
  <sect1 id="themes-11">
    <title>Instal·lació d'icones per als temes</title>
    <indexterm>
      <primary>temes</primary>
      <secondary>instal·lació d'icones</secondary>
    </indexterm>
    <para>L'escriptori del GNOME proporciona diversos temes que estan dissenyats per als usuaris amb necessitats visuals especials. Per exemple, alguns dels temes estan dissenyats per als usuaris amb poca visió. Pot ser que calguin diverses versions de les icones perquè la icona pugui mostrar-se correctament a cada tema.</para>
    <para>Pot ser que hàgiu d'instal·lar una icona nova per a una aplicació. Quan instal·leu una icona nova, n'heu de crear diverses versions, de manera que es mostri correctament als temes. Haureu de crear múltiples versions dels tipus d'icona següents:</para>
    <itemizedlist>
      <listitem>
        <para>Les icones que s'utilitzen en les aplicacions en l'escriptori del GNOME.</para>
      </listitem>
      <listitem>
        <para>Les icones que s'utilitzen internament per aplicacions GTK+ o icones de base del GTK+.</para>
      </listitem>
    </itemizedlist>
    <para>Quan instal·leu una icona nova, n'haureu de crear múltiples versions, de manera que es mostri correctament als temes. Podeu crear les icones en diversos formats, com ara el format Portable Network Graphic (PNG). La mida suggerida de les icones per a l'entorn de l'escriptori és de 48 píxels per 48 píxels. Amb aquesta mida, la majoria dels temes poden canviar la mida de les icones.</para>
    <para>Quan instal·leu una icona nova, creeu les versions de 48 píxels per 48 píxels següents de la icona:</para>
    <itemizedlist>
      <listitem>
        <para>Icona normal</para>
      </listitem>
      <listitem>
        <para>Icona de baix contrast</para>
      </listitem>
      <listitem>
        <para>Icona d'alt contrast</para>
      </listitem>
      <listitem>
        <para>Icona d'alt contrast invertit</para>
      </listitem>
    </itemizedlist>
    <para>Si és possible, creeu versions de 16 píxels per 16 píxels de cadascuna de les icones anteriors, per a aquells temes que per als quals no calgui una mida gran.</para>
    <para>Instal·leu les icones en la ubicació dels fitxers d'imatges que s'especifica per al tema en la <xref linkend="themes-3"/> o <xref linkend="themes-5"/>. Per exemple, per a afegir icones al tema HighContrastLargePrint, afegiu les icones al directori <filename>/usr/share/themes/HighContrastLargePrint/pixmaps</filename>. Afegiu referències a les icones dels fitxers del tema rellevants. Per exemple, per a afegir icones al tema HighContrastLargePrint, afegiu referències de les icones al fitxer <filename>/usr/share/themes/HighContrastLargePrint/gtk-2.0/gtkrc</filename>. Modifiqueu el fitxer <filename>gtkrc</filename> per al tema per a associar la icona amb un identificador d'icona base del GTK.</para>
    <para>Per a obtenir més informació sobre com crear icones per a llançadors d'aplicacions i per als quadres, vegeu la <ulink url="http://www.freedesktop.org/Standards/icon-theme-spec">http://www.freedesktop.org/Standards/icon-theme-spec</ulink>.</para>
  </sect1>
  <sect1 id="themes-15">
    <title>Creació d'una opció dels controls personalitzada</title>
    <indexterm>
      <primary>temes</primary>
      <secondary>opcions dels controls</secondary>
      <tertiary>crear personalitzada</tertiary>
    </indexterm>
    <para>Si les opcions per al paràmetre dels controls no encaixen amb les necessitats dels usuaris, podeu crear una opció dels controls personalitzada. Per a crear una opció dels controls personalitzada, realitzeu els passos següents:</para>
    <orderedlist>
      <listitem>
        <para>Creeu una estructura de directoris per a l'opció en el directori <filename>/usr/share/themes</filename>. Utilitzeu la mateixa estructura de directori que utilitzen altres opcions. Per exemple, per a crear una opció que s'anomeni SmallPrint, creeu els directoris següents:</para>
        <itemizedlist>
          <listitem>
            <para>
              <filename>/usr/share/themes/SmallPrint</filename>
            </para>
          </listitem>
          <listitem>
            <para>
              <filename>/usr/share/themes/SmallPrint/gtk-2.0</filename>
            </para>
          </listitem>
        </itemizedlist>
      </listitem>
      <listitem>
        <para>Localitzeu el fitxer <filename>gtkrc</filename> que sigui més adequat a les necessitats dels usuaris. Copieu el fitxer al directori <filename>gtk-2.0</filename> de l'opció nova.</para>
      </listitem>
      <listitem>
        <para>Obriu el fitxer <filename>gtkrc</filename> en un editor de text i modifiqueu els atributs dels elements d'interfície de la manera que calgui.</para>
      </listitem>
      <listitem>
        <para>Si l'opció nova inclou imatges, instal·leu les imatges per a l'opció nova en el directori <filename>pixmaps</filename> de l'opció nova. Si l'opció nova utilitza imatges d'una altra opció, no haureu de crear còpies de les imatges per a l'opció nova. En lloc d'això, assegureu-vos que la referència a les imatges de l'entrada <literal>pixmap_path</literal> en el fitxer <filename>gtkrc</filename> és correcte.</para>
      </listitem>
    </orderedlist>
    <para>Ara els usuaris poden seleccionar l'opció nova per al paràmetre dels controls.</para>
    <para>Per a obtenir més informació sobre el fitxers <filename>gtkrc</filename>, vegeu la <ulink url="http://developer.gnome.org/doc/API/2.0/gtk/index.html">http://developer.gnome.org/doc/API/2.0/gtk/index.html</ulink>.</para>
  </sect1>
</chapter>

<chapter id="fontconfig-0">
  <title>Configuració dels tipus de lletra</title>
  <highlights>
    <para>Aquest capítol descriu com configurar els tipus de lletra a l'escriptori del GNOME.</para>
  </highlights>
  <sect1 id="fontconfig-1">
    <title>Introducció a la configuració dels tipus de lletra</title>
    <indexterm>
      <primary>configurar els tipus de lletra</primary>
      <see>tipus de lletra</see>
    </indexterm>
    <indexterm>
      <primary>fontconfig</primary>
      <see>tipus de lletra</see>
    </indexterm>
    <indexterm>
      <primary>tipus de lletra</primary>
      <secondary>introducció</secondary>
    </indexterm>
    <para>L'escriptori del GNOME utilitza la biblioteca de configuració i personalització del tipus de lletra <literal>fontconfig</literal>. La biblioteca <literal>fontconfig</literal> pot utilitzat tots els tipus de lletra, inclosos els PostScript Type 1 i TrueType.</para>
    <para>La biblioteca <literal>fontconfig</literal> proporciona una llista de tots els tipus de lletra disponibles al sistema de l'escriptori del GNOME. Per a compilar aquesta llista, el <literal>fontconfig</literal> cerca en els directoris llistats en el fitxer <filename>/etc/fonts/fonts.conf</filename>. Si voleu veure tots els tipus de lletra disponibles en el sistema, aneu a la ubicació <literal>fonts:///</literal> en el gestor de fitxers del sistema.</para>
    <para>Per a obtenir més informació sobre la biblioteca <literal>fontconfig</literal>, vegeu l'URL següent:</para>
    <literallayout>
      <ulink url="http://freedesktop.org/software/fontconfig">http://freedesktop.org/software/fontconfig</ulink>
    </literallayout>
  </sect1>
  <sect1 id="fontconfig-4">
    <title>Substitució dels tipus de lletra</title>
    <indexterm>
      <primary>tipus de lletra</primary>
      <secondary>substitució</secondary>
    </indexterm>
    <para>La biblioteca <literal>fontconfig</literal> realitza la substitució del tipus de lletra quan aquests, o bé caràcters individuals, no estan en el sistema. En aquests casos, la <literal>fontconfig</literal> intenta mostrar un altre tipus de lletra similar. Per exemple, si una pàgina web sol·licita mostrar el tipus de lletra Verdana i aquest tipus de lletra no està instal·lat en el sistema, lal <literal>fontconfig</literal> mostrarà un tipus de lletra similar, com ara l'Helvetica. La llista de tipus de lletres similars està definida en el fitxer <filename>/etc/fonts/fonts.conf</filename>.</para>
    <para>Si el sistema ha de mostrar un caràcter que no està present en el tipus de lletra seleccionat, la <literal>fontconfig</literal> intenta mostrar el caràcter d'un altre tipus de lletra similar. Per exemple, és possible que seleccioneu el tipus de lletra Bitstream Vera Sans per a l'aplicació «Editor de text». La família del tipus de lletra Bitstream Vera Sans no inclou els caràcters ciríl·lics. Si obriu un document que conté caràcters ciríl·lics, l'«Editor de text» utilitzarà un tipus de lletra similar que inclogui caràcters ciríl·lics per a mostrar el caràcter.</para>
    <para>La biblioteca <literal>fontconfig</literal> també defineix àlies per als tipus de lletra, per exemple <literal>serif</literal>, <literal>sans-serif</literal> i <literal>monospace</literal>. Quan seleccioneu un dels àlies per als tipus de lletra, el sistema utilitzarà el primer tipus de lletra que s'hagi definit per a aquest àlies en el fitxer <filename>/etc/fonts/fonts.conf</filename>.</para>
  </sect1>
  <sect1 id="fontconfig-2">
    <title>Addició d'un tipus de lletra per a tots els usuaris</title>
    <indexterm>
      <primary>tipus de lletra</primary>
      <secondary>afegir per a tots els usuaris</secondary>
    </indexterm>
    <para>Per a afegir un tipus de lletra per a tots els usuaris, realitzeu els passos següents:</para>
    <orderedlist>
      <listitem>
        <para>Copieu el fitxer del tipus de lletra a un dels directoris en el fitxer <filename>/etc/fonts/fonts.conf</filename>. Generalment, els tipus de lletra s'emmagatzemen al directori <filename>/usr/share/fonts/</filename>.</para>
      </listitem>
      <listitem>
        <para>La biblioteca <literal>fontconfig</literal> actualitza la llista de tipus de lletra automàticament. Si la llista de tipus de lletra no s'actualitza, executeu l'ordre següent:</para>
        <screen><userinput>fc-cache <replaceable>nom-del-directori</replaceable></userinput></screen>
      </listitem>
    </orderedlist>
  </sect1>
  <sect1 id="fontconfig-3">
    <title>Addició d'un tipus de lletra per a un usuari individual</title>
    <indexterm>
      <primary>tipus de lletra</primary>
      <secondary>afegir per a usuaris individuals</secondary>
    </indexterm>
    <para>Per a afegir un tipus de lletra per a un usuari individual, realitzeu els passos següents:</para>
    <orderedlist>
      <listitem>
        <para>Copieu el fitxer del tipus de lletra al directori <filename>$HOME/.fonts</filename> de l'usuari. Si arrossegueu el fitxer del tipus de lletra a la ubicació <literal>fonts:///</literal> en el gestor de fitxers, el fitxer del tipus de lletra es copiarà al directori <filename>$HOME/.fonts</filename>.</para>
      </listitem>
      <listitem>
        <para>La biblioteca <literal>fontconfig</literal> actualitza la llista de tipus de lletra automàticament. Si la llista de tipus de lletra no s'actualitza, executeu l'ordre següent:</para>
        <screen><userinput>fc-cache <replaceable>nom-del-directori</replaceable></userinput></screen>
      </listitem>
    </orderedlist>
  </sect1>
</chapter>


<chapter id="mimetypes-0">
  <title>Tipus MIME</title>
  <anchor id="mimetypes-TBL-3"/>
  <anchor id="mimetypes-TBL-6"/>
  <anchor id="mimetypes-TBL-8"/>

  <highlights>
    <para>Aquest capítol descriu com les aplicacions detecten els tipus MIME, com registrar tipus MIME i com afegir aplicacions a l'escriptori del GNOME.</para>
  </highlights>

  <para>La finalitat d'aquest capítol es fer més fàcil a un administrador entendre com configurar les diferents parts de la base de dades MIME i proporcionar una visió general del sistema MIME. Per tant <emphasis>no</emphasis> s'entrarà en detalls que no siguin necessaris. Per a profunditzar en els detalls, és aconsellable que consulteu l'<ulink url="http://www.freedesktop.org/Standards/shared-mime-info-spec">Especificació d'informació MIME compartida XDG</ulink>.</para>

  <sect1 id="mimetypes-intro">
    <title>Introducció als tipus MIME</title>
    <anchor id="mimetypes-1"/>

    <indexterm>
      <primary>tipus MIME</primary>

      <secondary>introducció</secondary>
    </indexterm>

    <para>Un tipus d'<firstterm>Extensió de correu Internet multipropòsit</firstterm> [<acronym>MIME</acronym>] identifica el format d'un fitxer. Les aplicacions com ara els navegadors d'Internet i aplicacions de correu electrònic utilitzen el tipus MIME d'un fitxer per a decidir quines accions realitzar sobre aquest. Per exemple, una aplicació de correu electrònic pot utilitzar el tipus MIME per a detectar el format d'una adjunció i seleccionar un visualitzador apropiat per a aquest fitxer, com ara obrir un document de text amb el <application>gedit</application>.</para>

    <para>Un altre exemple: el gestor de fitxers <application>Nautilus</application> ha de conèixer el tipus MIME d'un fitxer per a realitzar les tasques següents:</para>

    <itemizedlist>
      <listitem>
        <para>Obrir el fitxer amb l'aplicació apropiada.</para>
      </listitem>

      <listitem>
        <para>Mostrar una cadena que descrigui el tipus del fitxer.</para>
      </listitem>

      <listitem>
        <para>Mostrar una icona apropiada que representi el fitxer.</para>
      </listitem>

      <listitem>
        <para>Mostrar una llista d'altres aplicacions que poden obrir el fitxer.</para>
      </listitem>
    </itemizedlist>

    <para>Els tipus MIME foren originalment proposats com un estàndard per a identificar el cos del missatge d'un missatge de correu electrònic. Actualment, molts sistemes utilitzen els tipus MIME per a identificar el format de qualsevol fitxer arbitrari del sistema de fitxers. Els tipus MIME estan compostos per un nivell superior del <emphasis>tipus de medi</emphasis> seguit d'un <emphasis>identificador de subtipus</emphasis>, separat per un caràcter de barra endavant, <quote><literal>/</literal></quote>. Un exemple d'un tipus MIME és el <literal>image/jpeg</literal>. El tipus de medi d'aquest exemple és <quote><literal>image</literal></quote> i l'identificador de subtipus és <quote><literal>jpeg</literal></quote>. El nivell superior del tipus de medi està pensat per a una categorització general sobre el contingut del fitxer, mentre que l'identificador de subtipus està pensat per a identificar específicament el format del fitxer.</para>

    <para>Avui dia hi ha vuit tipus de medi acceptats per la <acronym>IANA</acronym> [Agència d'assignació de números d'Internet]. Aquests vuit tipus de medi són <simplelist type="inline">
        <member>application</member>

        <member>audio</member>

        <member>image</member>

        <member>message</member>

        <member>model</member>

        <member>multipart</member>

        <member>text</member>

        <member>video</member>
      </simplelist>. Existeixen molts subtipus per a cada tipus de medi; per a obtenir més informació, vegeu els <ulink url="http://www.iana.org/assignments/media-types/">tipus de medi MIME</ulink> a la pàgina web <ulink url="http://www.iana.org/">IANA</ulink>.</para>

    <para>La implementació del tipus MIME en el GNOME segueix l'<ulink url="http://www.freedesktop.org/Standards/shared-mime-info-spec">Especificació d'informació MIME compartida XDG</ulink>. Aquesta especificació proporciona els avantatges següents:</para>

    <itemizedlist>
      <listitem>
        <para>Ubicacions estàndard per tots els fitxers relacionats amb el MIME.</para>
      </listitem>

      <listitem>
        <para>Una manera estàndard perquè les aplicacions registrin la informació sobre un tipus de MIME nou.</para>
      </listitem>

      <listitem>
        <para>Una manera estàndard d'obtenir el tipus MIME d'un fitxer.</para>
      </listitem>

      <listitem>
        <para>Una manera estàndard d'obtenir informació sobre un tipus MIME.</para>
      </listitem>
    </itemizedlist>

    <para>La resta d'aquest capítol descriu els fitxers i directoris que constitueixen la base de dades MIME, els detalls sobre els fitxers font XML, com crear o modificar els tipus MIME, com registrar aplicacions com a gestores de certs tipus MIME i, finalment, com afegir una aplicació a l'escriptori del GNOME.</para>
  </sect1>

  <sect1 id="mimetypes-database">
    <title>La base de dades MIME</title>
    <anchor id="mimetypes-4"/>
    <anchor id="mimetypes-5"/>

    <indexterm>
      <primary>tipus MIME</primary>

      <secondary>base de dades</secondary>
    </indexterm>

    <para>La base de dades MIME és una col·lecció de fitxers que serveix per:</para>

    <itemizedlist>
      <listitem>
        <para>El conjunt de tipus MIME coneguts</para>
      </listitem>

      <listitem>
        <para>El mètode per a determinar el tipus MIME d'un fitxer</para>
      </listitem>

      <listitem>
        <para>Metainformació relacionada a un tipus MIME, com ara una descripció llegible per persones a utilitzar quan es mostrin fitxers d'aquest tipus.</para>
      </listitem>
    </itemizedlist>

    <sect2 id="mimetypes-location">
      <title>Ubicació</title>

      <para>Com administrador, el pas més important i bàsic per a entendre el sistema MIME és aprendre les ubicacions on s'emmagatzemen aquests fitxers. Atès que l'<ulink url="http://www.freedesktop.org/Standards/shared-mime-info-spec">Especificació d'informació MIME compartida XDG</ulink> fou creada pel X Desktop Group, també utilitza l'<ulink url="http://www.freedesktop.org/wiki/Standards/basedir-spec">Especificació de base de directori XDG</ulink>. És molt recomanable que us familiaritzeu amb aquesta especificació, ja que també és important per altres tasques d'administració del sistema, com ara editar els menús. Més avall es proporciona un breu resum de les ubicacions dels directoris de l'especificació MIME.</para>

      <para>La base de dades MIME es crea a partir del conjunt de fitxers ubicats en els directoris <filename>$XDG_DATA_HOME/mime</filename> i <filename>$XDG_DATA_DIRS/mime</filename>. Si aquestes variables d'entorn no estan definides, llavors s'utilitzen els valors predeterminats <filename>~/.local/share</filename> i <filename>/usr/local/share:/usr/share</filename>, respectivament. Com es pot veure des del valor predeterminat per <envar>$XDG_DATA_DIRS</envar>, cada variable d'entorn és una llista de directoris separada per dos punts. La base de dades de l'usuari a <filename>$XDG_DATA_HOME/mime</filename> té preferència sobre la base de dades del sistema a <filename>$XDG_DATA_DIRS/mime</filename> quan es troben conflictes de definicions. De forma similar a l'<citetitle>Especificació d'informació MIME compartida XDG</citetitle>, ens referirem a aquest conjunt de directoris com a <literal>&lt;MIME&gt;</literal> en la resta d'aquest document.</para>

      <para>Per exemple, assumint els camins predeterminats per a les variables d'entorn, <quote>Load <filename>&lt;MIME&gt;/text/plain.xml</filename></quote> significa carregar els fitxers següents:</para>

      <itemizedlist>
        <listitem>
          <para><filename>~/.local/share/mime/text/plain.xml</filename></para>
        </listitem>

        <listitem>
          <para><filename>/usr/local/share/mime/text/plain.xml</filename></para>
        </listitem>

        <listitem>
          <para><filename>/usr/share/mime/text/plain.xml</filename></para>
        </listitem>
      </itemizedlist>
    </sect2>

    <sect2 id="mimetypes-contents">
      <title>Continguts</title>

      <para>La llista següent de directoris i fitxers es troba dins de la base de dades MIME juntament amb breus descripcions:</para>

      <variablelist>
        <varlistentry>
          <term><filename>&lt;MIME&gt;/packages/</filename></term>

          <listitem>
            <para>Aquest directori conté un número de fitxers XML, cadascun dels quals descriu una col·lecció de tipus MIME. Per defecte, el fitxer <filename>freedesktop.org.xml</filename> s'instal·la en el directori <filename>/usr/share/mime/packages</filename>. Aquest fitxer conté tots els tipus MIME predeterminats que són àmpliament utilitzats i reconeguts.</para>

            <para>Les aplicacions que proporcionen informació sobre tipus MIME nous han d'instal·lar aquí només <emphasis>un</emphasis> fitxer XML. Depenent del prefix on l'aplicació estigui instal·lada, es crearà el fitxer en el subdirectori <filename>/mime/package</filename> d'un dels directoris de <envar>$XDG_DATA_HOME:$XDG_DATA_DIRS</envar>. Per exemple, una aplicació instal·lada a <filename>/usr/bin</filename> hauria d'instal·lar un fitxer font XML nou en el directori <filename>/usr/share/mime/packages</filename>. Per a obtenir més informació sobre els fitxers XML en el directori <filename>packages</filename>, vegeu la <xref linkend="mimetypes-source-xml"/>.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><filename>&lt;MIME&gt;/<replaceable>MEDI</replaceable>/<replaceable>SUBTIPUS</replaceable>.xml</filename></term>

          <listitem>
            <para>Aquests directoris i fitxers els genera de manera automàtica l'aplicació <application>update-mime-database</application> a partir de la col·lecció de fitxers font XML en el subdirectori <filename>&lt;MIME&gt;/packages/</filename>. Per exemple, per cada element <literal>mime-type</literal> en el fitxer <filename>/usr/share/mime/packages/freedesktop.org.xml</filename>, es crea un directori a <filename>/usr/share/mime/</filename> amb el <emphasis>tipus de medi</emphasis> del tipus MIME. També es crea un fitxer XML en aquest directori amb l'<emphasis>identificador de subtipus</emphasis> d'aquest tipus MIME. El contingut del fitxer XML creat inclou comentaris (i traduccions d'aquests), designacions de subclasses i àlies.</para>

            <example>
              <title>Exemple: el fitxer <filename>/usr/share/mime/text/plain.xml</filename></title>

              <para><programlisting>&lt;?xml version='1.0' encoding='utf-8'?&gt;
&lt;mime-type xmlns="http://www.freedesktop.org/standards/shared-mime-info" type="text/plain"&gt;
&lt;!--Created automatically by update-mime-database. DO NOT EDIT!--&gt;
  &lt;comment&gt;plain text document&lt;/comment&gt;
  &lt;!-- possibly more translations --&gt;
  &lt;comment xml:lang="ca"&gt;document de text pla&lt;/comment&gt;
  &lt;comment xml:lang="eu"&gt;testu soileko dokumentua&lt;/comment&gt;
  &lt;comment xml:lang="fi"&gt;perustekstiasiakirja&lt;/comment&gt;
  &lt;comment xml:lang="fr"&gt;document plein texte&lt;/comment&gt;
  &lt;!-- possibly more translations --&gt;
&lt;/mime-type&gt;
</programlisting>Aquest fitxer es genera amb l'aplicació <application>update-mime-database</application>, utilitzant el fitxer font XML predeterminat <filename>freedesktop.org.xml</filename>.</para>
            </example>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><filename>&lt;MIME&gt;/globs</filename></term>

          <listitem>
            <para>Conté una línia amb un tipus MIME i un patró global, separats per dos punts. Els fitxers que coincideixin amb el patró global es resoldran amb el tipus MIME especificat abans dels dos punts. Hi ha regles especials sobre com els noms dels fitxers coincideixen amb el patró global. Per a obtenir més detalls vegeu l'<citetitle>Especificació d'informació MIME compartida XDG</citetitle>.</para>

            <para>Aquest fitxer també es genera amb l'aplicació <application>update-mime-database</application>, utilitzant el fitxer font XML predeterminat <filename>freedesktop.org.xml</filename>.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><filename>&lt;MIME&gt;/magic</filename></term>

          <listitem>
            <para>Un fitxer binari que conté informació sobre com resoldre els tipus MIME <quote>ensumant</quote> el contingut del fitxer. Generalment això és un joc d'una o més regles com ara la <quote>comprovació de la cadena <literal>%PDF-</literal> en el desplaçament de byte 0 en el fitxer. Si es troba, s'assignarà aquest al tipus de MIME <literal>application/pdf</literal></quote>.</para>

            <para>Aquest fitxer també es genera amb l'aplicació <application>update-mime-database</application>.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><filename>&lt;MIME&gt;/XMLnamespaces</filename></term>

          <listitem>
            <para>Conté un mapejat dels espais de noms dels tipus MIME. Cada línia conté tres camps, l'espai de noms, el nom local i el tipus MIME. Cada camp està separat per un espai. Si el nom local està buit, llavors hi ha dos espais entre l'espai de noms i el tipus MIME.</para>

            <para>Aquest fitxer també es genera amb l'aplicació <application>update-mime-database</application>.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><filename>&lt;MIME&gt;/aliases</filename></term>

          <listitem>
            <para>Conté una llista d'àlies per a cada tipus MIME. Un àlies simplement és un tipus MIME que a vegades es coneix com un altre tipus. Per cada línia en aquest fitxer hi ha dos camps: el primer camp és el nom àlies i el segon camp és el tipus MIME. Els camps estan separats per un espai.</para>

            <para>Aquest fitxer també es genera amb l'aplicació <application>update-mime-database</application>.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><filename>&lt;MIME&gt;/subclasses</filename></term>

          <listitem>
            <para>Conté una llista de subclasses de tipus MIME i el seu tipus MIME <quote>pare</quote>. De l'<citetitle>Especificació d'informació MIME compartida XDG:</citetitle><blockquote>
                <para>Un tipus és una subclasse d'un altre tipus si alguna instància del primer tipus també és una instància del segon. Per exemple, tots els fitxers image/svg també són fitxers text/xml, text/plain i application/octet-stream. Les subclasses existeixen pel format, més que per la categoria de les dades (per exemple, no hi ha una classe «full de càlcul genèric» que heretin tots els fulls de càlcul).</para>
              </blockquote> El format d'aquest fitxer és similar al fitxer <filename>aliases</filename>. Cada línia conte dos camps, on el primer camp és la subclasse del tipus MIME i el segon camp és el tipus MIME pare. Cada camp està separat per un espai.</para>

            <para>Aquest fitxer també es genera amb l'aplicació <application>update-mime-database</application>.</para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect2>

    <sect2 id="mimetypes-refresh">
      <title>Refresc de la base de dades MIME</title>

      <para>Entendre com refrescar la base de dades MIME és important per als administradors que vulguin afegir tipus MIME nous al sistema o modificar la informació sobre un tipus MIME. L'aplicació <application>update-mime-database</application> s'encarrega d'això.</para>

      <para>Per exemple, si una aplicació instal·la informació sobre un tipus MIME nou a <filename>/usr/share/mime/packages/diff.xml</filename>, llavors s'ha de cridar <application>update-mime-database</application> amb el paràmetre <filename>/usr/share/mime</filename>.</para>

      <screen><prompt>#</prompt> <userinput>update-mime-database /usr/share/mime</userinput>
<computeroutput>***
* Updating MIME database in /usr/share/mime...
***
</computeroutput></screen>

      <para>La base de dades MIME es refresca escanejant tots els fitxer font XML en el directori <filename>&lt;MIME&gt;/packages</filename>.</para>
    </sect2>
  </sect1>

  <sect1 id="mimetypes-source-xml">
    <title>Els fitxers font XML</title>
    <anchor id="mimetypes-11"/>
    <anchor id="mimetypes-12"/>
    <anchor id="mimetypes-2"/>

    <indexterm>
      <primary>tipus MIME</primary>

      <secondary>fitxers font XML</secondary>
    </indexterm>

    <para>Ubicats en el directori <filename>&lt;MIME&gt;/packages</filename>, aquests fitxers XML proporcionen tota la informació relacionada amb els tipus MIME que hi ha instal·lats en la base de dades de l'aplicació <application>update-mime-database</application>. Hi ha unes poques regles sobre el fitxer XML:</para>

    <itemizedlist>
      <listitem>
        <para>S'ha d'especificar l'espai de noms com a <quote><literal>http://www.freedesktop.org/standards/shared-mime-info</literal></quote></para>
      </listitem>

      <listitem>
        <para>L'element arrel ha de ser <literal>mime-info</literal></para>
      </listitem>

      <listitem>
        <para>Es poden especificar zero o més elements <literal>mime-type</literal> com a fills de l'element <literal>mime-info</literal>. L'atribut <literal>type</literal> s'utilitza per a especificar el tipus MIME que s'està definint.</para>
      </listitem>
    </itemizedlist>

    <para>Per defecte, el fitxer <filename>freedesktop.org.xml</filename> està instal·lat en el directori <filename>packages</filename> en un dels camins <filename>&lt;MIME&gt;</filename> (normalment <filename>/usr/share/mime/packages</filename>).</para>

    <para>La <xref linkend="mimetypes-mimeinfo-elements"/> proporciona una breu descripció per a cadascun dels elements que pot succeir com a fill de l'element <literal>mime-type</literal>.</para>

    <table frame="topbot" id="mimetypes-mimeinfo-elements">
      <title>Child elements of <literal>&lt;mime-type&gt;</literal></title>

      <tgroup cols="2" colsep="0" rowsep="0">
        <colspec colwidth="44.90*"/>

        <colspec colwidth="59.10*"/>

        <thead>
          <row rowsep="1">
            <entry>Element (i atributs)</entry>

            <entry>Descripció</entry>
          </row>
        </thead>

        <tbody>
          <row>
            <entry><literal>&lt;glob pattern="<replaceable>*.xyz</replaceable>"&gt;</literal></entry>

            <entry>Aquest element especifica un patró global a comparar amb els noms de fitxer. Si el nom de fitxer coincideix, llavors s'assigna el tipus MIME de l'element <literal>mime-type</literal> patró. L'atribut <literal>pattern</literal> és obligatori.</entry>
          </row>

          <row>
            <entry><literal>&lt;magic priority="<replaceable>50</replaceable>"&gt;</literal></entry>

            <entry>Aquest element conté una llista d'elements <literal>match</literal> com a fills seus. L'atribut <literal>priority</literal> és opcional, i especifica una prioritat entre 0 i 100, on 100 és la prioritat de coincidència més alta. Cada element <literal>match</literal> fill té tres atributs necessaris: <simplelist type="inline">
                <member><literal>type</literal></member>

                <member><literal>offset</literal></member>

                <member><literal>valor</literal></member>
              </simplelist> i un quart atribut opcional, <literal>mask</literal>. Per a obtenir més informació sobre aquests atributs, vegeu l'<ulink url="http://www.freedesktop.org/Standards/shared-mime-info-spec">Especificació d'informació MIME compartida XDG</ulink>.</entry>
          </row>

          <row>
            <entry><literal>&lt;alias type="<replaceable>media</replaceable>/<replaceable>subtipus</replaceable>"&gt;</literal></entry>

            <entry>Aquest element defineix un àlies per a l'element <literal>mime-type</literal> pare. Un àlies és simplement un tipus MIME que és a vegades conegut com un altre tipus. Per exemple, <literal>application/x-pdf</literal> és un àlies del tipus MIME <literal>application/pdf</literal>.</entry>
          </row>

          <row>
            <entry><literal>&lt;sub-class-of type="<replaceable>media</replaceable>/<replaceable>subtipus</replaceable>"&gt;</literal></entry>

            <entry>Aquest element defineix l'element <literal>mime-type</literal> pare com una subclasse del tipus MIME especificat en l'atribut <literal>type</literal>. Per exemple, <literal>image/svg</literal> és una subclasse del tipus MIME <literal>text/xml</literal>, <literal>text/plain</literal> i <literal>application/octet-stream</literal>.</entry>
          </row>

          <row>
            <entry><literal>&lt;comment xml:lang="<replaceable>local</replaceable>"&gt;</literal></entry>

            <entry>Aquest element proporciona una descripció llegible per persones del tipus MIME. Hi poden haver zero o més ocurrències d'aquest element sempre que cada un contingui un valor únic per a l'atribut <literal>xml:lang</literal>.</entry>
          </row>

          <row>
            <entry><literal>&lt;root-XML namespaceURI="<replaceable>espai-de-noms</replaceable>" localName=""&gt;</literal></entry>

            <entry>Si un fitxer es determina com un fitxer XML, llavors aquest element ajuda a classificar futurs fitxers a través de l'utilització dels atributs <literal>namespaceURI</literal> i <literal>localName</literal>, ambdós necessaris. L'atribut <literal>namespaceURI</literal> és l'espai de noms del document i <literal>localName</literal> és el nom de l'element arrel per al document. Si <literal>localName</literal> existeix però el seu valor està buit, llavors l'element arrel pot tenir qualsevol nom, però l'espai de noms ha de continuar coincidint.</entry>
          </row>
        </tbody>
      </tgroup>
    </table>

    <para>La manera més fàcil d'entendre aquests fitxers és fer una ullada a un exemple. Segons l'<citetitle>Especificació d'informació MIME compartida XDG</citetitle>, l'<xref linkend="mimetypes-source-xml-example"/> mostra els continguts d'un fitxer font XML anomenat <filename>diff.xml</filename>. Aquest exemple defineix el tipus MIME <literal>text/x-diff</literal>. Hi ha múltiples elements <literal>comment</literal> que proporcionen un nom llegible per persones del tipus MIME en un número d'idiomes diferents. Aquest tipus MIME té regles de coincidències a través de patrons globals <emphasis>i</emphasis> a través d'<quote>ensumar</quote> el contingut (més conegut com a regles <filename>màgiques</filename>). Qualsevol fitxer amb l'extensió <literal>.diff</literal> o <filename>.patch</filename> es resoldrà a aquest tipus MIME. A més a més, qualsevol fitxer on el contingut comenci amb la cadena especificada en l'atribut <literal>value</literal> de l'element <literal>match</literal>, es resoldrà com a tipus MIME <literal>text/x-diff</literal>.</para>

    <para>L'ordre en què s'apliquen els patrons globals i les regles màgiques està més enllà de l'objectiu d'aquest document. Per a obtenir més informació, vegeu l'<ulink url="http://www.freedesktop.org/Standards/shared-mime-info-spec">Especificació d'informació MIME compartida XDG</ulink>.</para>

    <example id="mimetypes-source-xml-example">
      <title>Exemple d'un fitxer font XML: <filename>diff.xml</filename></title>

      <programlisting>&lt;?xml version='1.0'?&gt;
&lt;mime-info xmlns='http://www.freedesktop.org/standards/shared-mime-info'&gt;
  &lt;mime-type type="text/x-diff"&gt;
    &lt;comment&gt;Differences between files&lt;/comment&gt;
    &lt;comment xml:lang="af"&gt;verskille tussen lêers&lt;/comment&gt;
    &lt;!-- more translated comment elements --&gt;
    &lt;magic priority="50"&gt;
      &lt;match type="string" offset="0" value="diff\t"/&gt;
      &lt;match type="string" offset="0" value="***\t"/&gt;
      &lt;match type="string" offset="0" value="Common subdirectories: "/&gt;
    &lt;/magic&gt;
    &lt;glob pattern="*.diff"/&gt;
    &lt;glob pattern="*.patch"/&gt;
  &lt;/mime-type&gt;
&lt;/mime-info&gt;</programlisting>
    </example>
  </sect1>

  <sect1 id="mimetypes-modifying">
    <title>Modificació dels tipus MIME</title>

    <indexterm>
      <primary>tipus MIME</primary>

      <secondary>comprovar els canvis</secondary>
    </indexterm>

    <indexterm>
      <primary>tipus MIME</primary>

      <secondary>modificar</secondary>
    </indexterm>

    <para>Mai hauríeu de modificar directament els fitxers font XML que les aplicacions instal·len al directori <filename>&lt;MIME&gt;/packages</filename>. En lloc d'això, hauríeu de modificar el fitxer <filename>Overrides.xml</filename>. Aquest fitxer té preferència sobre els altres fitxers font XML instal·lats en el mateix directori <filename>packages</filename>. Si sou autor d'una aplicació, llavors aquesta regla no s'aplica. Hauríeu de crear un fitxer font XML nou i ubicar-lo en el directori <filename>&lt;MIME&gt;/packages</filename> pertinent (el <filename>Makefile</filename> s'encarregarà d'això).</para>

    <para>Podeu modificar la base de dades MIME per a tots els usuaris del sistema o per a un usuari determinat depenent de la ubicació del fitxer que canvieu. Per a modificar la base de dades per a tots els usuaris, feu els canvis al fitxer <filename>Overrides.xml</filename> en el directori <filename>$XDG_DATA_DIRS/mime/packages</filename>. Per a modificar la base de dades per a un sol usuari feu els canvis al fitxer <filename>Overrides.xml</filename> en el directori <filename>$XDG_DATA_HOME/mime/packages</filename>.</para>

    <para>Després de realitzar els canvis, sempre heu d'executar l'aplicació <application>update-mime-database</application>, amb la ubicació del directori de la base de dades MIME com a primer paràmetre.</para>

    <sect2 id="mimetypes-addmodify">
      <title>Addició o modificació dels tipus MIME</title>

      <para>Per a afegir un o més tipus MIME per a tots els usuaris:</para>

      <orderedlist>
        <listitem>
          <para>Creeu o modifiqueu un fitxer font XML <filename>Overrides.xml</filename> existent, que contingui les definicions per als tipus MIME. Per a obtenir més informació, vegeu la <xref linkend="mimetypes-source-xml"/>.</para>
        </listitem>

        <listitem>
          <para>Col·loqueu el fitxer <filename>Overrides.xml</filename> en el directori <filename>/usr/share/mime/packages</filename>.</para>
        </listitem>

        <listitem>
          <para>Actualitzeu la base de dades MIME executant <application>update-mime-database</application> des del compte del sistema.<screen><userinput>update-mime-database /usr/share/mime</userinput></screen></para>
        </listitem>
      </orderedlist>

      <para>Per a afegir un o mes tipus MIME per a un sol usuari, seguiu els mateixos passos, excepte col·locar el fitxer <filename>Overrides.xml</filename> en el directori <filename>~/.local/share/mime/packages</filename>. De forma addicional, crideu l'<application>update-mime-database</application> amb <filename>~/.local/share/mime/packages</filename> com a primer paràmetre.</para>
    </sect2>

    <sect2 id="mimetypes-verifying">
      <title>Verificació dels canvis</title>
      <anchor id="mimetypes-10"/>

      <para>Després que hàgiu fet un canvi a la base de dades MIME i n'hàgiu refrescat els continguts, podeu verificar que el canvi ha tingut efecte utilitzant l'aplicació <application>gnomevfs-info</application>. Aquesta aplicació imprimeix el tipus MIME i altra informació útil sobre el fitxer.</para>

      <para>En executar el <application>gnomevfs-info</application> sobre un fitxer SVG, aquest us proporciona la sortida de sota. Notareu que l'aplicació predeterminada per aquest tipus MIME és l'<filename>eog.desktop</filename>. Les aplicacions predeterminades es discutiran a la secció <xref linkend="mimetypes-registering"/>.</para>

      <screen><prompt>$</prompt> <userinput>gnomevfs-info mime-diagram.svg</userinput>
<computeroutput>Name              : mime-diagram.svg
Type              : Regular
MIME type         : image/svg+xml
Default app       : eog.desktop
Size              : 14869
Blocks            : 32
I/O block size    : 4096
Local             : YES
SUID              : NO
SGID              : NO
Sticky            : NO
Permissions       : 600644
Link count        : 1
UID               : 1000
GID               : 100
Access time       : Wed Feb 22 18:24:47 2006
Modification time : Wed Feb 22 18:24:42 2006
Change time       : Wed Feb 22 18:24:42 2006
Device #          : 775
Inode #           : 297252
Readable          : YES
Writable          : YES
Executable        : NO</computeroutput>
<prompt>$</prompt>
</screen>

      <para>La <xref linkend="mimetypes-newtype-example"/> explica els passos per a crear un tipus MIME nou i després verificar els canvis utilitzant el <application>gnomevfs-info</application>.</para>
    </sect2>

    <sect2 id="mimetypes-newtype-example">
      <title>Exemple de <literal>application/x-newtype</literal></title>

      <para>Per a crear (o sobreescriure) un tipus MIME i verificar els canvis:</para>

      <orderedlist>
        <listitem>
          <para>Creeu un fitxer nou i buit anomenat <filename>testing.xyz</filename> en el directori d'usuari.</para>
        </listitem>

        <listitem>
          <para>Utilitzeu el <application>gnomevfs-info</application> sobre el fitxer per a esbrinar el tipus MIME. El tipus MIME per a aquest fitxer s'hauria de detectar com a <literal>text/plain</literal> perquè no hi ha cap patró global o regla màgica que coincideixin amb ell<footnote>
              <para>Si cap patró global o regla màgica coincideix amb un fitxer, aquest es resoldrà com el tipus MIME <literal>text/plain</literal> si conté dades contextuals, o com a <literal>application/octet-stream</literal> per a dades binàries. Si el fitxer està buit, llavors es resol com a <literal>text/plain</literal>.</para>
            </footnote>.</para>
        </listitem>

        <listitem>
          <para>Creeu (o modifiqueu) el fitxer <filename>Overrides.xml</filename> com es descriu a la secció <xref linkend="mimetypes-addmodify"/> amb els continguts proporcionats en l'<xref linkend="mimetypes-overrides-xml"/>.</para>
        </listitem>

        <listitem>
          <para>Refresqueu la base de dades utilitzant l'<application>update-mime-database</application>.</para>
        </listitem>

        <listitem>
          <para>Utilitzeu el <application>gnomevfs-info</application> per a verificar que els canvis han tingut efecte. Hauríeu de veure el tipus MIME per al fitxer <filename>testing.xyz</filename> resolt com a <literal>application/x-newtype</literal>.</para>

          <screen><prompt>$</prompt> <userinput>gnomevfs-info testing.xyz | grep MIME
</userinput><computeroutput>MIME type         : application/x-newtype
</computeroutput><prompt>$</prompt></screen>
        </listitem>
      </orderedlist>

      <example id="mimetypes-overrides-xml">
        <title>Fitxer <filename>Overrides.xml</filename></title>

        <programlisting>&lt;?xml version='1.0' encoding='utf-8'?&gt;
&lt;mime-info xmlns="http://www.freedesktop.org/standards/shared-mime-info"&gt;
  &lt;mime-type type="application/x-newtype"&gt;&lt;comment&gt;new mime type&lt;/comment&gt;&lt;glob pattern="*.xyz"/&gt;&lt;/mime-type&gt;
&lt;/mime-info&gt;</programlisting>
      </example>
    </sect2>
  </sect1>

  <sect1 id="mimetypes-registering">
    <title>Registre d'aplicacions per als tipus MIME</title>

    <anchor id="mimetypes-7"/>

    <indexterm>
      <primary>tipus MIME</primary>

      <secondary>registrar aplicacions per a</secondary>
    </indexterm>

    <indexterm>
      <primary>aplicacions</primary>

      <secondary>registrar</secondary>
    </indexterm>

    <para>Registrar aplicacions que gestionin tipus MIME és bastant fàcil. Les aplicacions són registrades en crear una clau <literal>MimeType</literal> en el seu fitxer d'entrada <filename>.desktop</filename> i llistant cada tipus MIME separat per un punt i coma. La clau <literal>MimeType</literal> només s'hauria d'utilitzar en fitxers <filename>.desktop</filename> en els quals la seva clau <literal>Type</literal> tingui el valor <quote><literal>Application</literal></quote>. Per a obtenir més informació sobre els fitxers <filename>.desktop</filename>, vegeu la <xref linkend="menustructure-desktopentry"/>.</para>

    <para>Després de crear o modificar un fitxer d'entrada <filename>.desktop</filename>, heu d'actualitzar la base de dades de l'aplicació utilitzant l'aplicació <application>update-desktop-database</application> (molt semblant al <application>update-mime-database</application>, excepte que aquesta no té paràmetre). Es crearà un fitxer <filename>mimeinfo.cache</filename> en el subdirectori <filename>applications</filename> per a cada directori en <filename>$XDG_DATA_HOME:$XDG_DATA_DIRS</filename>. El fitxer cache (cau) és necessari per no haver d'escanejar tots els fitxers <filename>.desktop</filename> només per la clau <literal>MimeType</literal>, cosa que causa E/S del disc innecessàries.</para>

    <para>Les aplicacions a utilitzar de forma predeterminada per a tipus MIME específics haurien d'especificar-se en un fitxer anomenat <filename>defaults.list</filename>. Aquest fitxer està ubicat en el subdirectori <filename>applications</filename> de cada directori <envar>$XDG_DATA_HOME</envar> i <envar>$XDG_DATA_DIRS</envar>. El format d'aquest fitxer consisteix en el tipus MIME, el símbol <literal>=</literal> i l'identificador de fitxer de l'escriptori (que és el nom de fitxer per al fitxer d'entrada de l'escriptori). El <xref linkend="mimetypes-registering-example"/> és un breu exemple d'un fitxer <filename>defaults.list</filename> en un directori d'usuari <filename>~/.local/share/applications</filename>.</para>

    <example id="mimetypes-registering-example">
      <title>Un fitxer d'usuari <filename>defaults.list</filename></title>

      <programlisting>[Default Applications]
application/pdf=evince.desktop
text/html=epiphany.desktop
text/plain=gedit.desktop
image/jpeg=eog.desktop
image/png=eog.desktop
text/xml=gedit.desktop
</programlisting>
    </example>

    <note>
      <title>Especificació d'entrades de l'escriptori XDG</title>

      <para>Com registrar tipus MIME per a aplicacions és part de l'<ulink url="http://www.freedesktop.org/wiki/Standards/desktop-entry-spec">Especificació d'entrades de l'escriptori XDG</ulink>, més que de l'<ulink url="http://www.freedesktop.org/Standards/shared-mime-info-spec">Especificació d'informació MIME compartida XDG</ulink>.</para>
    </note>
  </sect1>

  <sect1 id="mimetypes-9">
    <title>Addició d'una aplicació a l'escriptori del GNOME</title>

    <indexterm>
      <primary>tipus MIME</primary>

      <secondary>afegir una aplicació</secondary>
    </indexterm>

    <indexterm>
      <primary>aplicacions</primary>

      <secondary>afegir</secondary>
    </indexterm>

    <para>Per a afegir una aplicació a l'escriptori del GNOME, realitzeu els passos següents:</para>

    <orderedlist>
      <listitem>
        <para>Afegiu un element de menú per a l'aplicació. Per a obtenir més informació de com afegir un element a un menú, vegeu la <xref linkend="menustructure-2"/>.</para>
      </listitem>

      <listitem>
        <para>Afegiu una icona per a l'aplicació a <filename>/usr/share/icons/<replaceable>nom-del-tema</replaceable>/<replaceable>mida-de-la-icona</replaceable>/apps</filename>. Per a obtenir més informació sobre les icones i els temes, vegeu la <xref linkend="themes-11"/>.</para>
      </listitem>

      <listitem>
        <para>Si l'aplicació utilitza un tipus MIME nou, afegiu un fitxer font XML a la base de dades MIME. Per a obtenir més informació, vegeu la <xref linkend="mimetypes-modifying"/>.</para>
      </listitem>

      <listitem>
        <para>Si l'aplicació utilitza un tipus de MIME nou, afegiu una icona per al tipus MIME a <filename>/usr/share/icons/<replaceable>nom-del-tema</replaceable>/<replaceable>mida-de-la-icona</replaceable>/mimetypes</filename>. Per a obtenir més informació sobre les icones i els temes, vegeu la <xref linkend="themes-0"/>.</para>
      </listitem>

      <listitem>
        <para>Per a associar l'aplicació amb un tipus MIME, incloeu una clau <literal>MimeType</literal> en el fitxer <filename>.desktop</filename>. Per a obtenir més informació, vegeu la <xref linkend="mimetypes-registering"/>.</para>
      </listitem>
    </orderedlist>
  </sect1>
</chapter>

<chapter id="screensavers-0">
  <title>Establiment de l'estalvi de pantalla</title>
  <highlights>
    <para>Aquest capítol descriu com establir les preferències per a l'estalvi de pantalla. Aquest capítol també proporciona informació sobre com modificar els temes que hi ha disponibles per a l'estalvi de pantalla.</para>
  </highlights>
  <sect1 id="screensavers-1">
    <title>Introducció als estalvis de pantalla</title>
    <indexterm>
      <primary>estalvis de pantalla</primary>
      <secondary>introducció</secondary>
    </indexterm>
    <indexterm>
      <primary>gnome-screensaver</primary>
      <see>estalvis de pantalla</see>
    </indexterm>
    <para>Un <firstterm>estalvi de pantalla</firstterm> és una aplicació que reemplaça la imatge a la pantalla quan la pantalla no s'utilitza. L'aplicació de l'estalvi de pantalla per a l'escriptori del GNOME és el <application>gnome-screensaver</application>. Les seccions següents descriuen com establir les preferències per a l'aplicació <application>gnome-screensaver</application> i com canviar els temes que hi ha disponibles per a l'estalvi de pantalla.</para>
  </sect1>
  <sect1 id="screensavers-2">
    <title>Establiment de les preferències de l'estalvi de pantalla</title>
    <indexterm>
      <primary>estalvis de pantalla</primary>
      <secondary>establir les preferències</secondary>
    </indexterm>
    <para>Totes les preferències de l'estalvi de pantalla s'emmagatzemen en el <application>GConf</application>.</para>
    <para>Per a modificar les preferències de l'aplicació de l'estalvi de pantalla, els usuaris poden utilitzar l'eina de preferències <application>Estalvi de pantalla</application>. Per a obtenir més informació sobre les preferències de l'estalvi de pantalla, vegeu la <citetitle>Guia d'usuari de l'escriptori del GNOME</citetitle>.</para>
    <para>Els usuaris també poden executar l'ordre <command>/usr/bin/gnome-screensaver-preferences</command> per a obrir el diàleg <guilabel>Preferències de l'estalvi de pantalla</guilabel>.</para>
    <para>Per a establir els paràmetres i la política predeterminats de l'estalvi de pantalla per a tots els usuaris, modifiqueu els paràmetres de l'estalvi de pantalla a la font de configuració predeterminada del GConf.</para>
    <para>Per a establir els paràmetres i la política obligatoris de l'estalvi de pantalla per a tots els usuaris, modifiqueu els paràmetres de l'estalvi de pantalla a la font de configuració obligatòria del GConf.</para>
  </sect1>
  <sect1 id="screensavers-3">
    <title>Modificació dels temes de l'estalvi de pantalla</title>
    <indexterm>
      <primary>estalvis de pantalla</primary>
      <secondary>modificar els temes de l'estalvi de pantalla</secondary>
    </indexterm>
    <para>L'aplicació de l'estalvi de pantalla permet als usuaris seleccionar un o més <firstterm>temes de l'estalvi de pantalla</firstterm>. Un tema de l'estalvi de pantalla és una aplicació que mostra imatges a la pantalla de l'usuari quan la pantalla no s'utilitza. Els temes de l'estalvi de pantalla disponibles es mostren en una llista a l'eina de preferències <application>Estalvi de pantalla</application>.</para>
    <para>Per a afegir un nou tema de l'estalvi de pantalla, copieu el fitxer executable per al <firstterm>motor del tema de l'estalvi de pantalla</firstterm> en algun lloc del vostre CAMÍ o en el directori dels motors executables dels temes de l'estalvi de pantalla. El directori dels motors executables dels temes de l'estalvi de pantalla per al sistema pot ser determinat utilitzant l'ordre següent: <screen><userinput>pkg-config --variable=privlibexecdir gnome-screensaver</userinput></screen> A continuació, afegiu un fitxer <filename>.desktop</filename> per al tema en el directori de temes de l'estalvi de pantalla. El directori de temes de l'estalvi de pantalla per al vostre sistema pot ser determinat utilitzant l'ordre següent: <screen><userinput>pkg-config --variable=themesdir gnome-screensaver</userinput></screen> En el camp Exec del fitxer <filename>.desktop</filename> incloeu qualsevol argument necessari per a executar el tema de l'estalvi de pantalla en la pantalla sencera, en lloc d'una finestra. Per exemple, pot ser que alguns motors del tema de l'estalvi de pantalla requereixin incloure l'opció <literal>-root</literal> per a mostrar el visualitzador de l'estalvi de pantalles en la pantalla sencera.</para>
    <para>La infraestructura de l'<application>Estalvi de pantalla</application> implementa els temes d'acord amb l'<ulink url="http://www.freedesktop.org/wiki/Standards/menu-spec">Especificació de menú XDG</ulink>. El fet que el GNOME segueixi aquesta especificació us permetrà:</para>

    <itemizedlist>
      <listitem>
        <para>Personalitzar fàcilment els temes. Podeu editar un número petit de fitxers per a personalitzar els temes disponibles. No caldrà que modifiqueu les aplicacions o mogueu fitxers.</para>
      </listitem>

      <listitem>
        <para>Instal·lar temes fàcilment. No caldrà que proporcioneu informació sobre el sistema quan instal·leu els temes.</para>
      </listitem>

      <listitem>
        <para>Configurar el sistema de manera que els usuaris no puguin modificar els temes.</para>
      </listitem>
    </itemizedlist>

  <para>Per a obtenir més informació, vegeu el <xref linkend="menustructure-0"/>.</para>

  </sect1>
</chapter>

<chapter id="sessions-0">
  <title>Gestió de sessions</title>
  <highlights>
    <para>Aquest capítol introdueix la gestió de sessions i descriu com establir valors predeterminats de sessions. El capítol també conté informació sobre sessions i scripts d'entrada.</para>
  </highlights>
  <sect1 id="sessions-1">
    <title>Introducció a les sessions</title>
    <indexterm>
      <primary>sessions</primary>
      <secondary>introducció</secondary>
    </indexterm>
    <para>Una sessió té lloc dins l'interval de temps des que un usuari entra en l'escriptori del GNOME fins que surt. El gestor de sessions s'inicia després que el <application>Gestor d'entrada</application> autentifiqui l'usuari. El gestor de sessions permet a l'usuari gestionar la sessió. Per exemple, un usuari pot desar l'estat d'una sessió i tornar a aquella sessió la propera vegada que entri.</para>
    <para>Com a mínim, les aplicacions següents s'executen en una sessió:</para>
    <itemizedlist>
      <listitem>
        <para>El gestor de sessió, el <command>gnome-session</command>.</para>
      </listitem>
      <listitem>
        <para>El dimoni dels paràmetres X del <application>GConf</application>, el <command>gnome-settings-daemon</command>.</para>
      </listitem>
      <listitem>
        <para>L'aplicació <application>gnome-panel</application>, que executa els quadres en l'escriptori del GNOME.</para>
      </listitem>
      <listitem>
        <para>El gestor de finestres <application>Metacity</application>.</para>
      </listitem>
    </itemizedlist>
  </sect1>
  <sect1 id="sessions-3">
    <title>Establiment dels valors de sessió predeterminats</title>
    <indexterm>
      <primary>sessions</primary>
      <secondary>establir els valors predeterminats</secondary>
    </indexterm>
    <para>La taula següent mostra una llista dels fitxers que contenen la informació de sessió predeterminada:</para>
    <informaltable frame="topbot">
      <tgroup cols="2" colsep="0" rowsep="0">
        <colspec colwidth="51.80*"/>
        <colspec colwidth="48.20*"/>
        <thead>
          <row rowsep="1">
            <entry>
              <para>Fitxer</para>
            </entry>
            <entry>
              <para>Descripció</para>
            </entry>
          </row>
        </thead>
        <tbody>
          <row>
            <entry valign="top">
              <para>
                <filename>/usr/share/gnome/default.session</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Fitxer de sessió predeterminat. Els detalls de sessió predeterminats s'emmagatzemen en aquest fitxer.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>$HOME/.gnome2/session</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Fitxer de sessió de l'usuari. Quan un usuari modifica la sessió, els detalls s'emmagatzemen en aquest fitxer.</para>
            </entry>
          </row>
        </tbody>
      </tgroup>
    </informaltable>
<!--The last row does not appear to be true in Mercury - check.-->
    <para>Per a establir els detalls de sessió predeterminats per a tots els usuaris, modifiqueu el fitxer de sessió predeterminat.</para>
    <para>Per a restaurar els paràmetres de sessió predeterminats per a un usuari, suprimiu el fitxer de sessió del directori d'usuari. Si no hi ha cap fitxer de sessió d'usuari, s'utilitzaran els paràmetres predeterminats de <filename>/usr/share/gnome/default.session</filename>.</para>
    <para>Per a desar la sessió actual com a sessió predeterminada, els usuaris poden executar l'ordre <command>gnome-session-save</command>.</para>
  </sect1>
</chapter>

<chapter id="help-0">
  <title>Sistema d'ajuda</title>
  <highlights>
    <para>Aquest capítol descriu el sistema d'ajuda de l'escriptori del GNOME.</para>
  </highlights>
  <sect1 id="help-1">
    <title>Introducció al sistema d'ajuda</title>
    <indexterm>
      <primary>ajuda en línia</primary>
      <see>Ajuda</see>
    </indexterm>
    <indexterm>
      <primary>Ajuda</primary>
      <secondary>introducció</secondary>
    </indexterm>
    <para>L'escriptori del GNOME mostra l'ajuda en el navegador d'ajuda <application>Yelp</application>. Per a obtenir més informació, vegeu el <ulink url="ghelp:user-guide?yelp">Navegador d'ajuda Yelp</ulink> en la <ulink url="ghelp:user-guide">Guia d'usuari de l'escriptori del GNOME</ulink>.</para>
<para>Els documents font per a l'ajuda són fitxers XML. Els fitxers XML estan escrits en la definició de tipus de document (DTD) DocBook XML versió 4.1.2. Els fitxers DocBook XML es converteixen a HTML utilitzant fulls d'estil instal·lats amb el <application>gnome-doc-utils</application> i l'HTML es mostra en el navegador d'ajuda. Per a obtenir més informació sobre el DocBook XML, vegeu l'URL següent:</para>
    <literallayout>
      <ulink url="http://www.oasis-open.org/docbook/xml/">http://www.oasis-open.org/docbook/xml</ulink>
    </literallayout>
    <para>Els sistema d'ajuda utilitza fitxers <firstterm>Open Source Metadata Framework</firstterm> (OMF) i un sistema de catalogació. La secció següent descriu els fitxers OMF i el sistema de catalogació.</para>
  </sect1>
  <sect1 id="help-3">
    <title>Fitxers OMF</title>
    <indexterm>
      <primary>fitxers .omf</primary>
      <see>fitxers OMF</see>
    </indexterm>
    <indexterm>
      <primary>Ajuda</primary>
      <secondary>fitxers OMF</secondary>
    </indexterm>
    <indexterm>
      <primary>fitxers OMF</primary>
    </indexterm>
    <para>El fitxer XML de cada manual té un fitxer OMF associat. El fitxer OMF conté informació sobre el manual que utilitza el navegador de l'ajuda. Els fitxers OMF tenen una extensió <filename>.omf</filename>.</para>
    <para>Quan instal·leu una aplicació, el procés d'instal·lació instal·la un fitxer OMF a un directori de fitxers OMF. Si un document d'ajuda té un fitxer OMF associat en un directori de fitxers OMF, el document d'ajuda es mostrarà en el navegador d'ajuda.</para>
    <para>El fitxers OMF contenen informació sobre documents d'ajuda, com ara la següent:</para>
    <itemizedlist>
      <listitem>
        <para>La ubicació del fitxer XML per al document d'ajuda</para>
      </listitem>
      <listitem>
        <para>El títol del document d'ajuda</para>
      </listitem>
      <listitem>
        <para>Una categoria d'assumpte on pertany el document d'ajuda</para>
      </listitem>
    </itemizedlist>
    <para>Per a obtenir més informació sobre com crear fitxers OMF, vegeu l'<ulink url="ghelp:writing_scrollkeeper_omf_files">Creació de fitxers OMF per a l'Scrollkeeper</ulink>.</para>
  </sect1>
  <sect1 id="help-2">
    <title>Sistema de catalogació ScrollKeeper</title>
    <indexterm>
      <primary>Ajuda</primary>
      <secondary>sistema de catalogació ScrollKeeper</secondary>
    </indexterm>
    <indexterm>
      <primary>sistema de catalogació ScrollKeeper</primary>
    </indexterm>
    <para>L'<application>ScrollKeeper</application> és un sistema de catalogació per a la documentació. La seva funció primària és gestionar la informació dels fitxers OMF per al navegador d'ajuda. Quan instal·leu una aplicació, el fitxer OMF es copia en el directori <filename><replaceable>$prefix</replaceable>/share/omf/<replaceable>&lt;nom-de-la-aplicació&gt;</replaceable></filename>.</para>

    <para>L'<application>ScrollKeeper</application> construeix una taula del contingut de la col·leció de fitxers OMF en els directoris especificats en el fitxer <filename><replaceable>$prefix</replaceable>/etc/scrollkeeper.conf</filename>. Aquest fitxer normalment consisteix en una sola línia amb <varname>OMF_DIR</varname> establert a una llista de directoris separats per una coma, on cercar de forma recursiva.</para>

    <programlisting>OMF_DIR=/usr/share/omf:/usr/local/share/omf:/opt/gnome2/share/omf:/opt/kde/omf
</programlisting>

    <para>L'<application>ScrollKeeper</application> conté una jerarquia de categories d'assumptes a la qual un document d'ajuda pot pertànyer. La categoria assumpte del document en el fitxer OMF determina la ubicació del document en la taula de continguts presentada pel navegador d'ajuda.</para>

    <para>La jerarquia de les categories d'assumptes està definida en el fitxer <filename><replaceable>$prefix</replaceable>/scrollkeeper/Templates/<replaceable>&lt;lang&gt;</replaceable>/scrollkeeper_cl.xml</filename>. La categoria d'assumpte d'un document ha de correspondre a una categoria especificada en aquest fitxer.</para>

    <para>Per a obtenir més informació sobre el sistema de l'<application>Scrollkeeper</application>, visiteu la pàgina web a <ulink url="http://scrollkeeper.sourceforge.net/">http://scrollkeeper.sourceforge.net/</ulink>.</para>

    <note>
      <para>Si el fitxer XML del document d'ajuda es mou a una ubicació nova, llavors la ubicació en el fitxer OMF s'ha d'actualitzar.</para>
    </note>
  </sect1>
</chapter>

<chapter id="performance-0">
  <title>Millora del rendiment</title>
  <highlights>
    <para>Aquest capítol descriu com millorar el rendiment de l'escriptori del GNOME.</para>
  </highlights>
  <sect1 id="performance-1">
    <title>Introducció a la millora del rendiment</title>
    <indexterm>
      <primary>rendiment, millorar</primary>
      <secondary>introducció</secondary>
    </indexterm>
    <para>Aquest capítol llista diverses preferències de les quals podeu canviar els paràmetres per a millorar el rendiment de l'escriptori del GNOME. Podeu utilitzar l'ordre <command>gconftool-2</command> per a establir els valors de les preferències per als usuaris. Les ordres d'exemple en aquest capítol mostren com establir els valors en la font de configuració de l'usuari.</para>
    <para>També podeu utilitzar les opcions <literal>--direct</literal> i <literal>--config-source</literal> per a establir valors obligatoris o valors predeterminats per a les preferències. També podeu utilitzar l'ordre <command>gconftool-2</command> en un script per a establir els valors de moltes preferències. Per a obtenir més informació sobre l'ordre <command>gconftool-2</command> i les opcions que ofereix, vegeu el <xref linkend="gconf-0"/>.</para>
  </sect1>
  <sect1 id="performance-8">
    <title>Reducció de la utilització de la CPU</title>
    <indexterm>
      <primary>rendiment, millorar</primary>
      <secondary>reduir la utilització de la CPU</secondary>
    </indexterm>
    <indexterm>
      <primary>reduir</primary>
      <secondary>utilització de la CPU</secondary>
    </indexterm>
    <indexterm>
      <primary>utilització de la CPU</primary>
      <secondary>reduir</secondary>
    </indexterm>
    <para>Aquesta secció descriu les preferències que podeu establir per a reduir la utilització de la CPU per a l'escriptori del GNOME.</para>
    <sect2 id="performance-3">
      <title>Utilització de les opcions de tema que requereixin menys recursos de la CPU</title>
      <indexterm>
        <primary>temes</primary>
        <secondary>opcions del costat de la finestra</secondary>
        <tertiary>i utilització de la CPU</tertiary>
      </indexterm>
      <indexterm>
        <primary>temes</primary>
        <secondary>i utilització de la CPU</secondary>
      </indexterm>
      <para>Algunes opcions del costat de la finestra carreguen fitxers d'imatge per a pintar-lo. Altres opcions utilitzen tècniques més simples per a pintar el costat de la finestra.</para>
      <para>L'opció del costat de la finestra Crux carrega fitxers d'imatges i pot ser lenta en sistemes amb recursos de CPU limitats. Per a reduir la utilització de la CPU, utilitzeu les opcions del costat de la finestra següents:</para>
      <itemizedlist>
        <listitem>
          <para>Atlanta</para>
        </listitem>
        <listitem>
          <para>Esco</para>
        </listitem>
      </itemizedlist>
      <para>Les opcions del costat de la finestra següents també utilitzen menys recursos de la CPU que el Crux:</para>
      <itemizedlist>
        <listitem>
          <para>AgingGorilla</para>
        </listitem>
        <listitem>
          <para>Bright</para>
        </listitem>
        <listitem>
          <para>Metabox</para>
        </listitem>
      </itemizedlist>
      <note>
        <para>El Metabox no treballa correctament amb opcions de controls inversos com ara el HighContrastInverse. Utilitzeu l'Atlanta amb opcions de controls inversos.</para>
      </note>
      <para><indexterm><primary>themes</primary><secondary>opcions del costat de la finestra</secondary><tertiary>canviar</tertiary></indexterm>Per a canviar l'opció del costat de la finestra d'un tema, executeu l'ordre següent:</para>
      <screen><userinput>gconftool-2 \
--type string \
--set /apps/metacity/general/theme <replaceable>nom-de-l'opció</replaceable></userinput></screen>
      <para>Per exemple, per a utilitzar l'Atlanta, executeu l'ordre següent:</para>
      <screen><userinput>gconftool-2 \
--type string \
--set /apps/metacity/general/theme Atlanta</userinput></screen>
      <para>De forma alternativa, els usuaris poden utilitzar l'eina de preferències <application>Tema</application> per a seleccionar l'opció apropiada.</para>
      <tip>
        <para>Podeu utilitzar el <application>Visualitzador de temes Metacity</application> per a mesurar el rendiment d'una opció del costat de la finestra i previsualitzar l'opció. Per a iniciar el <application>Visualitzador de temes Metacity</application>, utilitzeu l'ordre següent:</para>
        <screen><userinput>metacity-theme-viewer <replaceable>nom-de-l'opció</replaceable></userinput></screen>
        <para>Per a exemple, per a mesurar el rendiment de l'Atlanta i previsualitzar l'Atlanta, executeu l'ordre següent:</para>
        <screen><userinput>metacity-theme-viewer Atlanta</userinput></screen>
      </tip>
    </sect2>
    <sect2 id="performance-2">
      <title>Reducció de la utilització de la CPU en desactivar la visualització de les icones en els menús</title>
      <indexterm>
        <primary>icones, en els menús</primary>
        <see>menús icones</see>
      </indexterm>
      <indexterm>
        <primary>menús icones</primary>
        <secondary>i utilització de la CPU</secondary>
      </indexterm>
      <indexterm>
        <primary>menús icones</primary>
        <secondary>desactivar</secondary>
      </indexterm>
      <para>Alguns elements en els menús mostren una icona al costat de l'element. Per a desactivar aquesta característica, executeu l'ordre següent:</para>
      <screen><userinput>gconftool-2 \
--type bool \
--set /desktop/gnome/interface/menus_have_icons false</userinput></screen>
      <para>De manera alternativa, els usuaris poden utilitzar l'eina de preferències <application>Menús i barres d'eines</application> per a desactivar l'opció <guilabel>Mostra icones en els menús</guilabel>.</para>
    </sect2>
    <sect2 id="performance-6">
      <title>Reducció de la utilització de la CPU en desactivar la pantalla de presentació</title>
      <indexterm>
        <primary>imatge de presentació</primary>
        <secondary>i utilització de la CPU</secondary>
      </indexterm>
      <para>Per defecte, quan un usuari entra en l'entorn de l'escriptori, es mostra una pantalla de presentació. Les icones es mostren en la pantalla de presentació mentre l'usuari entra. Podeu desactivar la pantalla de presentació per a reduir la utilització de la CPU durant l'entrada.</para>
      <para><indexterm><primary>pantalla de presentació</primary><secondary>desactivar</secondary></indexterm>Per a desactivar la pantalla de presentació, executeu l'ordre següent:</para>
      <screen><userinput>gconftool-2 \
--type bool \
--set /apps/gnome-session/options/show_splash_screen false</userinput></screen>
      <para>De forma alternativa, els usuaris poden utilitzar l'eina de preferències <application>Sessions</application> per a desactivar l'opció <guilabel>Mostra la pantalla de presentació en entrar</guilabel>.</para>
    </sect2>
    <sect2 id="performance-4">
      <title>Reducció de la utilització de la CPU en desactivar l'animació del quadre</title>
      <indexterm>
        <primary>quadres</primary>
        <secondary>animació, desactivar</secondary>
      </indexterm>
      <para>Quan els usuaris mostren o oculten els quadres, aquests es poden mostrar o ocultar utilitzant un estil animat. Per a desactivar l'animació del quadre, executeu l'ordre següent:</para>
      <screen><userinput>gconftool-2 \
--type bool \
--set /apps/panel/global/enable_animations false</userinput></screen>
      <para>De manera alternativa, els usuaris poden utilitzar l'eina de preferències <application>Quadre</application> per a desactivar l'opció <guilabel>Animació dels calaixos i els quadres</guilabel>.</para>
    </sect2>
    <sect2 id="performance-7">
      <title>Millora del rendiment del gestor de fitxers</title>
      <indexterm>
        <primary>Nautilus</primary>
        <see>gestor de fitxers</see>
      </indexterm>
      <para>El gestor de fitxers <application>Nautilus</application> inclou algunes característiques que podeu modificar per a millorar el rendiment.</para>
      <sect3 id="performance-9">
        <title>Modificació de les preferències de rendiment</title>
        <indexterm>
          <primary>gestor de fitxers</primary>
          <secondary>modificar les preferències de rendiment</secondary>
        </indexterm>
        <para>El gestor de fitxers inclou preferències relacionades amb el rendiment. Cada preferència de rendiment pot prendre un dels tres valors que es descriuen a la taula següent:</para>
        <informaltable frame="topbot">
          <tgroup cols="2" colsep="0" rowsep="0">
            <colspec colwidth="34.46*"/>
            <colspec colwidth="65.54*"/>
            <thead>
              <row rowsep="1">
                <entry>
                  <para>Valor</para>
                </entry>
                <entry>
                  <para>Descripció</para>
                </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry valign="top">
                  <para>
                    <literal>always</literal>
                  </para>
                </entry>
                <entry valign="top">
                  <para>Realitza l'acció tant per a fitxers locals com per fitxers d'altres sistemes de fitxers.</para>
                </entry>
              </row>
              <row>
                <entry valign="top">
                  <para>
                    <literal>local_only</literal>
                  </para>
                </entry>
                <entry valign="top">
                  <para>Només realitza l'acció per a fitxers locals. Quan establiu la preferència de rendiment a <literal>local_only</literal>, es reduirà la utilització de la CPU.</para>
                </entry>
              </row>
              <row>
                <entry valign="top">
                  <para>
                    <literal>never</literal>
                  </para>
                </entry>
                <entry valign="top">
                  <para>Mai es realitza l'acció. Quan establiu la preferència de rendiment a <literal>never</literal>, es reduirà la utilització de la CPU i el tràfic de la xarxa.</para>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </informaltable>
        <para>La taula següent descriu les preferències de rendiment per al gestor de fitxers. Per a un rendiment més ràpid, establiu el valor de les preferències a <literal>never</literal>.</para>
        <informaltable frame="topbot">
          <tgroup cols="2" colsep="0" rowsep="0">
            <colspec colwidth="43.34*"/>
            <colspec colwidth="56.66*"/>
            <thead>
              <row rowsep="1">
                <entry>
                  <para>Preferència</para>
                </entry>
                <entry>
                  <para>Descripció</para>
                </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry valign="top">
                  <para>
                    <literal>show_icon_text</literal>
                  </para>
                </entry>
                <entry valign="top">
                  <para>Especifica quan s'ha de previsualitzar el contingut dels fitxers de text en la icona que representa el fitxer. Per a no previsualitzar mai el contingut dels fitxers de text, executeu l'ordre següent:</para>
                  <screen><userinput>gconftool-2 \
--type string \
--set /apps/nautilus/preferences/show_icon_text never</userinput></screen>
                  <para>De manera alternativa, els usuaris poden realitzar els passos següents:</para>
                  <orderedlist>
                    <listitem>
                      <para>Seleccioneu <menuchoice><guimenu>Edita</guimenu><guimenuitem>Preferències</guimenuitem></menuchoice> en la finestra del gestor de fitxers, llavors seleccioneu <guilabel>Previsualització</guilabel>.</para>
                    </listitem>
                    <listitem>
                      <para>Seleccioneu una opció per a la preferència <guilabel>Mostra text en les icones</guilabel>.</para>
                    </listitem>
                  </orderedlist>
                </entry>
              </row>
              <row>
                <entry valign="top">
                  <para>
                    <literal>show_directory_item_counts</literal>
                  </para>
                </entry>
                <entry valign="top">
                  <para>Especifica quan s'ha de mostrar el número d'elements en les carpetes. Per a no mostrar mai el número d'elements en les carpetes, executeu l'ordre següent:</para>
                  <screen><userinput>gconftool-2 \
--type string \
--set /apps/nautilus/preferences/show_directory_item_counts never</userinput></screen>
                  <para>De manera alternativa, els usuaris poden realitzar els passos següents:</para>
                  <orderedlist>
                    <listitem>
                      <para>Seleccioneu <menuchoice><guimenu>Edita</guimenu><guimenuitem>Preferències</guimenuitem></menuchoice> en la finestra del gestor de fitxers, llavors seleccioneu <guilabel>Previsualització</guilabel>.</para>
                    </listitem>
                    <listitem>
                      <para>Seleccioneu una opció per a la preferència <guilabel>Compta el nombre d'elements</guilabel>.</para>
                    </listitem>
                  </orderedlist>
                </entry>
              </row>
              <row>
                <entry valign="top">
                  <para>
                    <literal>show_image_thumbnails</literal>
                  </para>
                </entry>
                <entry valign="top">
                  <para>Especifica quan s'han de mostrar miniatures dels fitxers d'imatges. Per a no mostrar mai miniatures, executeu l'ordre següent:</para>
                  <screen><userinput>gconftool-2 \
--type string \
--set /apps/nautilus/preferences/show_image_thumbnails never</userinput></screen>
                  <para>De manera alternativa, els usuaris poden realitzar els passos següents:</para>
                  <orderedlist>
                    <listitem>
                      <para>Seleccioneu <menuchoice><guimenu>Edita</guimenu><guimenuitem>Preferències</guimenuitem></menuchoice> en la finestra del gestor de fitxers, llavors seleccioneu <guilabel>Previsualització</guilabel>.</para>
                    </listitem>
                    <listitem>
                      <para>Seleccioneu una opció per a la preferència <guilabel>Mostra les miniatures</guilabel>.</para>
                    </listitem>
                  </orderedlist>
                </entry>
              </row>
              <row>
                <entry valign="top">
                  <para>
                    <literal>preview_sound</literal>
                  </para>
                </entry>
                <entry valign="top">
                  <para>Especifica quan s'han de mostrar previsualitzar el contingut dels fitxers de so. Per a no previsualitzar mai el contingut dels fitxers de so, executeu l'ordre següent:</para>
                  <screen><userinput>gconftool-2 \
--type string \
--set /apps/nautilus/preferences/preview_sound never</userinput></screen>
                  <para>De manera alternativa, els usuaris poden realitzar els passos següents:</para>
                  <orderedlist>
                    <listitem>
                      <para>Seleccioneu <menuchoice><guimenu>Edita</guimenu><guimenuitem>Preferències</guimenuitem></menuchoice> en la finestra del gestor de fitxers, llavors seleccioneu <guilabel>Previsualització</guilabel>.</para>
                    </listitem>
                    <listitem>
                      <para>Seleccioneu una opció per a la preferència <guilabel>Previsualitza els fitxers de so</guilabel>.</para>
                    </listitem>
                  </orderedlist>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </informaltable>
      </sect3>
      <sect3 id="performance-10">
        <title>Desactivació de la subfinestra lateral, la barra d'eines i la barra d'ubicacions</title>
        <indexterm>
          <primary>gestor de fitxers</primary>
          <secondary>subfinestra lateral, desactivar</secondary>
        </indexterm>
        <para>El gestor de fitxers inclou preferències que us permeten desactivar la subfinestra lateral i la barra d'eines. Per a millorar el rendiment del gestor de fitxers, desactiveu la barra lateral i la barra d'eines.</para>
        <para>Per a desactivar la subfinestra lateral, executeu l'ordre següent:</para>
        <screen><userinput>gconftool-2 \
--type bool \
--set /apps/nautilus/preferences/start_with_sidebar false</userinput></screen>
        <para><indexterm><primary>gestor de fitxers</primary><secondary>barra d'eines, desactivar</secondary></indexterm>Per a desactivar la barra d'eines, executeu l'ordre següent:</para>
        <screen><userinput>gconftool-2 \
--type bool \
--set /apps/nautilus/preferences/start_with_toolbar false</userinput></screen>
        <para>També podeu desactivar la barra d'ubicacions. Els usuaris poden utilitzar la drecera de teclat <keycombo><keycap>Control</keycap><keycap>L</keycap></keycombo> per a mostrar una barra d'ubicació quan sigui necessari.</para>
        <para><indexterm><primary>gestor de fitxers</primary><secondary>barra d'ubicació, desactivar</secondary></indexterm>Per a desactivar la barra d'ubicació, executeu l'ordre següent:</para>
        <screen><userinput>gconftool-2 \
--type bool \
--set /apps/nautilus/preferences/start_with_location_bar false</userinput></screen>
      </sect3>
      <sect3 id="performance-11">
        <title>Desactivació de l'escriptori</title>
        <indexterm>
          <primary>gestor de fitxers</primary>
          <secondary>escriptori, desactivar</secondary>
        </indexterm>
        <indexterm>
          <primary>escriptori</primary>
          <secondary>desactivar</secondary>
        </indexterm>
        <para>El gestor de fitxers conté una preferència que permet als usuaris utilitzar el <application>Nautilus</application> per a gestionar l'escriptori. Podeu desactivar l'escriptori per a millorar el rendiment. Tot i això, si desactiveu l'escriptori, no podreu fer el següent:</para>
        <itemizedlist>
          <listitem>
            <para>Utilitzar el gestor de fitxers per a canviar el patró o el color del fons de l'escriptori.</para>
          </listitem>
          <listitem>
            <para>Utilitzar els objectes de l'escriptori, com ara la <guilabel>Paperera</guilabel>. Els objectes de l'escriptori no es mostraran a l'escriptori.</para>
          </listitem>
        </itemizedlist>
        <para>Per a desactivar l'escriptori, executeu l'ordre següent:</para>
        <screen><userinput>gconftool-2 \
--type bool \
--set /apps/nautilus/preferences/show_desktop false</userinput></screen>
      </sect3>
    </sect2>
  </sect1>
  <sect1 id="performance-12">
    <title>Reducció del tràfic de xarxa del sistema de finestres X</title>
    <indexterm>
      <primary>reduir</primary>
      <secondary>tràfic de xarxa del sistema de finestres X</secondary>
    </indexterm>
    <indexterm>
      <primary>tràfic de xarxa del sistema de finestres X, reduir</primary>
    </indexterm>
    <indexterm>
      <primary>tràfic de xarxa, reduir</primary>
    </indexterm>
    <para>Aquesta secció descriu preferències que podeu establir per a reduir el tràfic de xarxa del sistema de finestres X en l'escriptori del GNOME.</para>
    <sect2 id="performance-14">
      <title>Utilització d'opcions de temes que creen menys tràfic de xarxa</title>
      <indexterm>
        <primary>temes</primary>
        <secondary>opcions del costat de la finestra</secondary>
        <tertiary>i tràfic de xarxa</tertiary>
      </indexterm>
      <indexterm>
        <primary>temes</primary>
        <secondary>i tràfic de xarxa</secondary>
      </indexterm>
      <para>Els protocols de visualització remots no envien cada píxel d'un bloc de píxels si tots els píxels del bloc són del mateix color.</para>
      <para>Per a reduir el tràfic de xarxa del sistema de finestres X, utilitzeu una opció del costat de la finestra que utilitzi colors sòlids. Per tant, utilitzeu una de les següents opcions del costat de la finestra:</para>
      <itemizedlist>
        <listitem>
          <para>Atlanta</para>
        </listitem>
        <listitem>
          <para>Esco</para>
        </listitem>
      </itemizedlist>
      <para>Per a obtenir més informació sobre com canviar les opcions de tema, vegeu la secció <xref linkend="performance-3"/>.</para>
    </sect2>
    <sect2 id="performance-15">
      <title>Reducció del tràfic de xarxa en desactivar la visualització de les icones en els menús</title>
      <indexterm>
        <primary>menús icones</primary>
        <secondary>i tràfic de xarxa</secondary>
      </indexterm>
      <para>Alguns elements en els menús mostren una icona al costat de l'element. Si la icona està ubicada en un altre sistema de fitxers, aquesta característica incrementarà el tràfic de xarxa del sistema de finestres X. Aquesta característica també pot incrementar el tràfic de xarxa del sistema de finestres X si els quadres es visualitzen en un ordinador remot.</para>
      <para>Per a obtenir més informació sobre com desactivar aquesta característica, vegeu la <xref linkend="performance-2"/>.</para>
    </sect2>
  </sect1>
  <sect1 id="performance-17">
    <title>Reducció de la utilització del color i millora de la qualitat de visualització</title>
    <indexterm>
      <primary>reduir</primary>
      <secondary>utilització del color</secondary>
    </indexterm>
    <indexterm>
      <primary>utilització del color</primary>
      <secondary>reduir</secondary>
    </indexterm>
    <indexterm>
      <primary>qualitat de visualització, millorar</primary>
    </indexterm>
    <para>Molts sistemes d'ordinadors moderns admeten 24 bits de color, és a dir, 16.777.216 colors. Tot i això, molts usuaris encara utilitzen sistemes que admeten 8 bits de colors, és a dir, 256 colors.</para>
    <para>L'escriptori del GNOME utilitza la <firstterm>paleta de colors segurs per a la web</firstterm>. Aquesta paleta és una paleta de propòsit general de 216 colors, que està dissenyada per a optimitzar la utilització dels colors en sistemes que admeten 8 bits de colors. Tot i això, alguns components visuals de l'escriptori del GNOME són dissenyats per a sistemes que admeten 24 bits de colors.</para>
    <para>Els problemes de visualització següents es poden produir en sistemes que admeten 8 bits de colors:</para>
    <itemizedlist>
      <listitem>
        <para>Pot ser que les finestres, icones i imatges de fons apareguin granuloses. Molts temes, imatges de fons i icones utilitzen colors que no són a la paleta de colors segurs per a la web. Els colors que no hi són es reemplacen amb l'equivalent més proper o per una aproximació. Aquest reemplaçament de colors provoca l'aparença granulosa.</para>
      </listitem>
      <listitem>
        <para>Les aplicacions que no utilitzen la paleta de colors segurs per a la web tenen menys colors disponibles. És possible que es produeixin errors en els colors. Pot ser que alguns colors no apareguin a la interfície d'usuari de l'aplicació. Algunes aplicacions poden fallar si no poden ubicar els colors.</para>
      </listitem>
      <listitem>
        <para>Pot ser que els colors parpellegin quan els usuaris commuten entre aplicacions que utilitzen la paleta de colors segurs per a la web i aplicacions que no la utilitzen. Les aplicacions que no utilitzen la paleta de colors segurs per a la web haurien d'utilitzar un mapa de colors personalitzat. Quan s'utilitza un mapa de colors personalitzat, pot ser que altres components visuals perdin colors i esdevinguin poc visibles.</para>
      </listitem>
    </itemizedlist>
    <para>Les seccions següents descriuen com optimitzar l'aparença de l'escriptori del GNOME per a sistemes que admeten 8 bits de colors.</para>
    <sect2 id="performance-20">
      <title>Utilització de les opcions de tema que utilitzen la paleta de colors segurs per a la web</title>
      <indexterm>
        <primary>temes</primary>
        <secondary>opcions del costat de la finestra</secondary>
        <tertiary>i utilització del color</tertiary>
      </indexterm>
      <indexterm>
        <primary>temes</primary>
        <secondary>i utilització del color</secondary>
      </indexterm>
      <para>Algunes opcions de tema del costat de la finestra utilitzen colors que són a la paleta de colors segurs per a la web. El Bright i l'Esco utilitzen colors des de la paleta de colors segurs per a la web. El Bright i l'Esco no tenen l'aparença granulosa d'altres opcions del costat de la finestra en la visualització de 8 bits de colors. Utilitzeu el Bright o l'Esco per a la millor visualització de color possible en modes visuals de 8 bits.</para>
      <para>Per a obtenir més informació sobre com canviar les opcions de tema, vegeu la secció <xref linkend="performance-3"/>.</para>
    </sect2>
    <sect2 id="performance-21">
      <title>Reducció de la utilització de colors en desactivar la visualització de les icones en els menús</title>
      <indexterm>
        <primary>menús icones</primary>
        <secondary>i utilització del color</secondary>
      </indexterm>
      <para>Alguns elements en els menús mostren una icona al costat de l'element. Si la icona conté colors que no estan en la paleta de colors segurs per a la web, aquesta característica incrementa el número de colors utilitzats.</para>
      <para>Per a obtenir més informació sobre com desactivar aquesta característica, vegeu la <xref linkend="performance-2"/>.</para>
    </sect2>
    <sect2 id="performance-18">
      <title>Reducció de la utilització de colors en desactivar la pantalla de presentació</title>
      <indexterm>
        <primary>imatge de presentació</primary>
        <secondary>i utilització del color</secondary>
      </indexterm>
      <para>Podeu desactivar la pantalla de presentació per a tenir més colors disponibles per a l'escriptori del GNOME i per a altres aplicacions.</para>
      <para>Per a obtenir més informació sobre com desactivar la pantalla de presentació, vegeu la <xref linkend="performance-6"/>.</para>
    </sect2>
    <sect2 id="performance-19">
      <title>Reducció de la utilització de colors en utilitzar colors sòlids per al fons de l'escriptori</title>
      <indexterm>
        <primary>fons de l'escriptori</primary>
        <secondary>utilitzar colors sòlids</secondary>
      </indexterm>
      <para>Utilitzeu un color sòlid per al fons de l'escriptori. La utilització d'un color sòlid redueix el número de colors utilitzats per l'escriptori del GNOME.</para>
      <para>Per a establir un color sòlid per al fons de l'escriptori, executeu les ordres següents:</para>
      <screen><userinput>gconftool-2 \
--type string \
--set /desktop/gnome/background/picture_options none</userinput></screen>
      <screen><userinput>gconftool-2 \
--type string \
--set /desktop/gnome/background/color_shading_type solid</userinput></screen>
      <screen><userinput>gconftool-2 \
--type string \
--set /desktop/gnome/background/primary_color #<replaceable>color-hexadecimal</replaceable></userinput></screen>
      <para>De forma alternativa, els usuaris poden utilitzar l'eina de preferències <application>Fons</application> per a seleccionar un color sòlid per al fons de l'escriptori.</para>
    </sect2>
  </sect1>
</chapter>

<chapter id="lockdown-0">
  <title>Desactivació de característiques de l'escriptori del GNOME</title>
  <highlights>
    <para>Aquest capítol descriu com desactivar característiques determinades de l'escriptori del GNOME.</para>
  </highlights>
  <sect1 id="lockdown-1">
    <title>Introducció a com desactivar característiques de l'escriptori del GNOME</title>
    <indexterm>
      <primary>desactivar característiques</primary>
      <secondary>introducció</secondary>
    </indexterm>
    <indexterm>
      <primary>restringir</primary>
      <see>desactivar característiques</see>
    </indexterm>
    <para>L'escriptori del GNOME inclou característiques que podeu utilitzar per a restringir l'accés a certes funcions d'aquest. Les característiques de desactivació són útils en diverses situacions en les quals es vulguin restringir les accions que els usuaris poden realitzar en un ordinador. Per exemple, podeu voler evitar les operacions de la línia d'ordres en un ordinador d'ús públic en una fira. Les característiques de desactivació també es coneixen com a característiques de <emphasis>restricció</emphasis>.</para>
    <para>Podeu establir les claus del <application>GConf</application> per a desactivar característiques. Per a obtenir més informació sobre com establir les claus del <application>GConf</application>, vegeu el <xref linkend="gconf-0"/>. També podeu utilitzar l'aplicació <application>Editor de la configuració</application> per a establir les claus del <application>GConf</application> en una font de configuració de l'usuari. Per a obtenir més informació sobre l'aplicació <application>Editor de la configuració</application>, vegeu el <citetitle>Manual de l'editor GConf</citetitle>.</para>
  </sect1>
  <sect1 id="lockdown-manual">
    <title>Blocat de paràmetres de forma manual</title>
    <sect2 id="lockdown-2">
      <title>Desactivació del bloqueig de la pantalla i de la sortida</title>
      <indexterm>
        <primary>desactivar característiques</primary>
        <secondary>bloquejar la pantalla</secondary>
      </indexterm>
      <indexterm>
        <primary>desactivar característiques</primary>
        <secondary>sortir</secondary>
      </indexterm>
      <para>Per a desactivar les funcions de bloqueig de la pantalla i de sortida, establiu la clau <literal>/apps/panel/global/disable_lock_screen</literal> i la clau <literal>/apps/panel/global/disable_log_out</literal> a <literal>true</literal>.</para>
      <para>Quan desactiveu les funcions de bloqueig de pantalla i de sortida, els elements següents són suprimits dels quadres:</para>
      <itemizedlist>
        <listitem>
          <para>Els elements de menú <guimenuitem>Bloca la pantalla</guimenuitem> i <guimenuitem>Surt <replaceable>usuari</replaceable></guimenuitem> del <guimenu>Menú principal</guimenu>.</para>
        </listitem>
        <listitem>
          <para>Els elements de menú <guimenuitem>Bloca la pantalla</guimenuitem> i <guimenuitem>Surt</guimenuitem> del menú <menuchoice><guimenu>Afegeix al quadre</guimenu><guimenuitem>Accions</guimenuitem></menuchoice>. Per a obrir aquest menú, feu clic amb el botó secundari en un espai buit del quadre, llavors seleccioneu <menuchoice><guimenu>Afegeix al quadre</guimenu><guimenuitem>Accions</guimenuitem></menuchoice>.</para>
        </listitem>
        <listitem>
          <para>Els elements de menú <guimenuitem>Bloca la pantalla</guimenuitem> i <guimenuitem>Surt <replaceable>usuari</replaceable></guimenuitem> del menú <guimenu>Accions</guimenu> en la miniaplicació <application>Barra de menú</application>.</para>
        </listitem>
      </itemizedlist>
      <para>També s'inhabilita qualsevol botó <guibutton>Bloca la pantalla</guibutton> i <guibutton>Surt</guibutton> dels quadres.</para>
    </sect2>
    <sect2 id="lockdown-12">
      <title>Desactivació de les operacions de la línia d'ordres</title>
      <indexterm>
        <primary>desactivar característiques</primary>
        <secondary>línia d'ordres</secondary>
      </indexterm>
      <para>Per a desactivar operacions de la línia d'ordres, establiu la clau <literal>/desktop/gnome/lockdown/disable_command_line</literal> a <literal>true</literal>.</para>
      <para>Quan desactiveu les operacions de la línia d'ordres, es produiran els canvis següents a la interfície d'usuari:</para>
      <itemizedlist>
        <listitem>
          <para>L'element de menú <guimenuitem>Executa una aplicació</guimenuitem> és suprimit dels menús següents:</para>
          <itemizedlist>
            <listitem>
              <para>
                <guimenu>Menú principal</guimenu>
              </para>
            </listitem>
            <listitem>
              <para>Submenú <guimenu>Accions</guimenu> en el menú <guimenu>Afegeix al quadre</guimenu></para>
            </listitem>
            <listitem>
              <para>Menú <guimenu>Accions</guimenu> en la miniaplicació <application>Barra de menú</application></para>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <para>S'inhabilita qualsevol botó <guibutton>Executa</guibutton> en els quadres.</para>
        </listitem>
      </itemizedlist>
      <para>Per a desactivar les operacions de la línia d'ordres, també heu de suprimir els elements de menú que inicien aplicacions en el terminal. Per exemple, és possible que vulgueu suprimir els elements de menú que contenen les ordres següents:</para>
      <itemizedlist>
        <listitem>
          <para>L'ordre per al <application>Terminal del GNOME</application>, és a dir, <command>/usr/bin/gnome-terminal</command></para>
        </listitem>
        <listitem>
          <para>
            <command>/usr/bin/xterm</command>
          </para>
        </listitem>
        <listitem>
          <para>
            <command>/usr/bin/setterm</command>
          </para>
        </listitem>
      </itemizedlist>
      <para>Els elements són suprimits dels menús següents:</para>
      <itemizedlist>
        <listitem>
          <para>
            <guimenu>Menú principal</guimenu>
          </para>
        </listitem>
        <listitem>
          <para>
            <menuchoice>
              <guimenu>Afegeix al quadre</guimenu>
              <guimenuitem>Llançador des del menú</guimenuitem>
            </menuchoice>
          </para>
        </listitem>
      </itemizedlist>
      <para>Per a desactivar les operacions de la línia d'ordres, també heu de desactivar la miniaplicació <application>Línia d'ordres</application>. Per a desactivar la miniaplicació <application>Línia d'ordres</application>, afegiu la miniaplicació a la clau <literal>/apps/panel/global/disabled_applets</literal>. Quan desactiveu la miniaplicació <application>Línia d'ordres</application>, aquesta és suprimida del <guimenu>Menú principal</guimenu> i del menú <menuchoice><guimenu>Afegeix al quadre</guimenu><guimenuitem>Utilitats</guimenuitem></menuchoice> menu.</para>
    </sect2>
    <sect2 id="lockdown-11">
      <title>Desactivació de la configuració del quadre</title>
      <indexterm>
        <primary>desactivar característiques</primary>
        <secondary>configuració del quadre</secondary>
      </indexterm>
      <para>Per a desactivar la configuració del quadre, establiu la clau <literal>/apps/panel/global/locked_down</literal> a <literal>true</literal>.</para>
      <para>Quan desactiveu la configuració del quadre, es produiran els canvis següents a la interfície d'usuari:</para>
      <itemizedlist>
        <listitem>
          <para>Els elements següents són suprimits del menú emergent del quadre i del menú emergent dels calaixos:</para>
          <itemizedlist>
            <listitem>
              <para>
                <guimenuitem>Afegeix al quadre</guimenuitem>
              </para>
            </listitem>
            <listitem>
              <para>
                <guimenuitem>Suprimeix aquest quadre</guimenuitem>
              </para>
            </listitem>
            <listitem>
              <para>
                <guimenuitem>Propietats</guimenuitem>
              </para>
            </listitem>
            <listitem>
              <para>
                <guimenuitem>Quadre nou</guimenuitem>
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <para>El menú emergent del llançador està inhabilitat.</para>
        </listitem>
        <listitem>
          <para>Els elements següents són suprimits del menú emergent de les miniaplicacions:</para>
          <itemizedlist>
            <listitem>
              <para>
                <guimenuitem>Suprimeix del quadre</guimenuitem>
              </para>
            </listitem>
            <listitem>
              <para>
                <guimenuitem>Bloca al quadre</guimenuitem>
              </para>
            </listitem>
            <listitem>
              <para>
                <guimenuitem>Mou</guimenuitem>
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <para>El menú emergent <guimenu>Menú principal</guimenu> està inhabilitat.</para>
        </listitem>
        <listitem>
          <para>La característica d'arrossegar llançadors està inhabilitada, de manera que els usuaris no poden arrossegar llançadors des de o cap als quadres.</para>
        </listitem>
        <listitem>
          <para>La característica d'arrossegar quadres està inhabilitada, de manera que els usuaris no poden arrossegar quadres a noves ubicacions.</para>
        </listitem>
      </itemizedlist>
    </sect2>
  </sect1>
  <sect1 id="lockdown">
    <title>Editor de restriccions</title>
  
    <para>Com a part del GNOME 2.14, un editor gràfic de restriccions anomenat <application>Pessulus</application> s'ha inclòs per a facilitar la tasca de desactivar característiques de l'escriptori.</para>
  
    <sect2 id="lockdown-start">
      <title>Inici</title>
  
      <para>Per a executar l'editor de restriccions:</para>
  
      <itemizedlist>
        <listitem>
          <para>Feu clic a <menuchoice><guimenu>Sistema</guimenu><guisubmenu>Administració</guisubmenu><guimenuitem>Editor de restriccions</guimenuitem></menuchoice></para>
        </listitem>
  
        <listitem>
          <para>Executeu l'ordre <command>pessulus</command> en una finestra de terminal.</para>
        </listitem>
      </itemizedlist>
  
      <para>Veureu una finestra amb diverses pestanyes diferents. Cada pestanya representa una categoria diferent de les característiques de l'escriptori que es poden inhabilitar. En la secció següent, es discutirà cada categoria i es proporcionarà una breu descripció per a cada categoria que es pot inhabilitar.</para>
    </sect2>
  
    <sect2 id="lockdown-disabling">
      <title>Desactivació de característiques</title>
  
      <para>Per a desactivar una característica, assegureu-vos que la casella de selecció al costat de la descripció de la característica està seleccionada. La majoria de característiques tindran efecte immediatament, tot i això algunes d'elles requereixen que l'aplicació es torni a iniciar per a tenir efecte.</para>
  
      <para>Quan el <application>Pessulus</application> s'inicia, intentarà obtenir una connexió amb la font de configuració obligatòria del GConf, la ubicació de la qual és <literal>xml:merged:<replaceable>$prefix</replaceable>/etc/gconf/gconf.xml.mandatory</literal>. Si l'usuari que està executant el <application>Pessulus</application> té accés a aquesta font de configuració, es mostrarà una icona de bloqueig al costat de la casella de selecció per a aquest paràmetre. En fer clic al bloqueig es commutarà la obligatorietat del paràmetre. Si el paràmetre és obligatori, els usuaris normals no podran canviar o sobreescriure'l. Si l'usuari que executa el Pessulus no té accés a la font de configuració obligatòria, llavors la icona de bloqueig no apareixerà. En aquest cas, tots els paràmetres inhabilitats simplement s'emmagatzemaran en la font de configuració predeterminada de l'usuari, i es podran modificar més endavant a través d'altres eines, com ara el <application>gconf-editor</application> o el <application>gconftool-2</application>. Per a obtenir més informació sobre el GConf i les fonts de configuració obligatòries, vegeu la <xref linkend="gconf-26"/>.</para>
  
      <para>Les subseccions següents us donaran una breu descripció dels paràmetres que es poden inhabilitar per a cada categoria.</para>
  
      <note>
        <para>Depenent de les aplicacions que hàgiu instal·lat, pot ser que es mostrin menys categories que les descrites en aquesta secció.</para>
      </note>
  
      <sect3 id="lockdown-disabling-general">
        <title>General</title>
  
        <variablelist>
          <varlistentry>
            <term>Inhabilita la línia d'ordres</term>
  
            <listitem>
              <para>Evita que l'usuari accedeixi al terminal o especifiqui una línia d'ordres a ser executada. Per exemple, s'inhabilitaria l'accés al diàleg del quadre «Executa una aplicació».</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Inhabilita la impressió</term>
  
            <listitem>
              <para>Evita que l'usuari imprimeixi. Per exemple, s'inhabilitarà l'accés als diàlegs «Imprimeix» de totes les aplicacions.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Inhabilita la configuració de la impressora</term>
  
            <listitem>
              <para>Evita que l'usuari modifiqui els paràmetres d'impressió. Per exemple, s'inhabilitarà l'accés als diàlegs «Configuració de la impressora» de totes les aplicacions.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Inhabilita desar al disc</term>
  
            <listitem>
              <para>Evita que l'usuari desi fitxers al disc. Per exemple, s'inhabilitarà l'accés als diàlegs «Anomena i desa» de totes les aplicacions.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect3>
  
      <sect3 id="lockdown-disabling-panel">
        <title>Quadre</title>
  
        <variablelist>
          <varlistentry>
            <term>Bloca els quadres</term>
  
            <listitem>
              <para>Si és cert, el quadre no permetrà cap canvi a la seva configuració. Tot i això, és possible que algunes miniaplicacions s'hagin de blocar individualment. S'ha de tornar a iniciar el quadre perquè aquesta opció tingui efecte.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Inhabilita la sortida forçada de programes</term>
  
            <listitem>
              <para>Si és cert, el quadre no permetrà a un usuari forçar la sortida d'una aplicació, a través de la supressió de l'accés al botó de forçar la sortida.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Inhabilita el blocat de la pantalla</term>
  
            <listitem>
              <para>Si és cert, el quadre no permetrà a un usuari bloquejar la pantalla, suprimint l'accés a les entrades de menú de bloquejar la pantalla.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Inhabilita la sortida</term>
  
            <listitem>
              <para>Si és cert, el quadre no permetrà a un usuari sortir, suprimint l'accés a les entrades de menú de sortir.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect3>
  
      <sect3 id="lockdown-disabling-browser">
        <title>Navegador web Epiphany</title>
  
        <variablelist>
          <varlistentry>
            <term>Inhabilita la sortida de programes</term>
  
            <listitem>
              <para>L'usuari no podrà tancar l'Epiphany.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Inhabilita URL arbitràries</term>
  
            <listitem>
              <para>Inhabilita la funció de l'usuari d'introduir un URL a l'Epiphany.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Inhabilita l'edició d'adreces d'interès</term>
  
            <listitem>
              <para>Inhabilita la funció de l'usuari d'afegir o editar adreces d'interès.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Inhabilita l'historial</term>
  
            <listitem>
              <para>Inhabilita qualsevol informació històrica a través de la inhabilitació de la navegació cap endavant i cap enrere, sense permetre mostrar el diàleg de l'historial i ocultant la llista d'adreces d'interès més utilitzades.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Inhabilita el chrome del Javascript</term>
  
            <listitem>
              <para>Inhabilita el control del JavaScript sobre el chrome de la finestra.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Inhabilita l'edició de barres d'eines</term>
  
            <listitem>
              <para>Inhabilita la funció de l'usuari d'editar les barres d'eines.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Força el mode de pantalla completa</term>
  
            <listitem>
              <para>Bloqueja l'Epiphany en mode de pantalla completa.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Oculta la barra de menú</term>
  
            <listitem>
              <para>Oculta la barra de menú predeterminada. S'hi podrà accedir de totes maneres a través de la tecla F10.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Inhabilita els protocols insegurs</term>
  
            <listitem>
              <para>Inhabilita carregar el contingut de protocols insegurs. Els protocols segurs són http i https.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect3>
  
      <sect3 id="lockdown-disabling-screensaver">
        <title>Estalvi de pantalla del GNOME</title>
  
        <variablelist>
          <varlistentry>
            <term>Bloca quan s'activi</term>
  
            <listitem>
              <para>Estableix a cert per a bloquejar la pantalla quan s'activi l'estalvi de pantalla.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Permet sortir</term>
  
            <listitem>
              <para>Estableix a cert per a oferir en el diàleg de desbloquejar una opció per a sortir després d'un retard. El retard s'especifica en la clau «logout_delay».</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Permet commutar d'usuari</term>
  
            <listitem>
              <para>Estableix a cert per a oferir en el diàleg de desbloquejar una opció per a canviar a una compte d'usuari diferent.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect3>
    </sect2>
  </sect1>
</chapter>

  
  <appendix id="appendixa-0">
    <title>Directoris ocults</title>
    <highlights>
      <para>Aquest apèndix descriu els directori ocults que l'escriptori del GNOME afegeix als directoris dels usuaris.</para>
    </highlights>
    <indexterm>
      <primary>directoris ocults</primary>
    </indexterm>
    <indexterm>
      <primary>directoris .*</primary>
      <see>directoris ocults</see>
    </indexterm>
    <para>Un directori ocult és un directori que té un nom que comença amb un punt (.). La secció <xref linkend="appendixa-TBL-2"/> descriu els directoris ocults que l'escriptori del GNOME afegeix als directoris dels usuaris.</para>
    <table frame="topbot" id="appendixa-TBL-2">
      <title>Directoris ocults al directori d'usuari</title>
      <tgroup cols="2" colsep="0" rowsep="0">
        <colspec colname="colspec0" colwidth="33*"/>
        <colspec colname="colspec1" colwidth="67*"/>
        <thead>
          <row rowsep="1">
            <entry>
              <para>Directori</para>
            </entry>
            <entry>
              <para>Descripció</para>
            </entry>
          </row>
        </thead>
        <tbody>
          <row>
            <entry valign="top">
              <para>
                <filename>.config</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Aquesta és la ubicació predeterminada per a la variable d'entorn <envar>XDG_CONFIG_HOME</envar>, si aquesta no s'ha establert. Els menús definits per l'usuari es creen a <filename>menus/applications.menu</filename>.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.fonts</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Conté els tipus de lletra específics d'un usuari determinat. Quan un usuari instal·la una font arrossegant-la a la URI <filename>fonts:///</filename> en el Nautilus, aquesta es copiarà en aquesta ubicació.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.esd_auth</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Conté la galeta d'autenticació per al dimoni de so de la sessió GNOME. El dimoni de so de la sessió del GNOME és l'Enlightened Sound Daemon (ESD).</para>
<para><emphasis>NOTA: és un fitxer, no un directori.</emphasis></para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.gconf</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Conté la font de configuració del <application>GConf</application> per a l'usuari. Quan l'usuari estableix una preferència, la informació de la preferència nova s'afegeix a aquesta ubicació.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.gconfd</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Conté els detalls del dimoni <application>GConf</application> següents:</para>
              <itemizedlist>
                <listitem>
                  <para>Informació de la configuració.</para>
                </listitem>
                <listitem>
                  <para>Informació de blocatge per als objectes que són referenciats per un <firstterm>Interoperable Object Reference (IOR)</firstterm>.</para>
                </listitem>
                <listitem>
                  <para>Estat de la informació per als objectes que són referenciats per un IOR.</para>
                </listitem>
              </itemizedlist>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.gnome</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Conté dades d'aplicacions específiques de l'usuari que no s'emmagatzemen en el dipòsit <application>GConf</application>.</para>
<para><emphasis>NOTA: aquest directori és obsolet i només s'utilitza per les aplicacions del GNOME 1.x.</emphasis></para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.gnome2</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Conté dades específiques d'aplicacions de l'usuari que no s'emmagatzemen en el dipòsit <application>GConf</application>. Per exemple, aquest directori conté el següent:</para>
              <itemizedlist>
                <listitem>
                  <para>Informació de les dreceres del teclat.</para>
                </listitem>
                <listitem>
                  <para>Informació sobre la ubicació de les finestres.</para>
                </listitem>
                <listitem>
                  <para>Fitxers d'entrada d'escriptori per a llançadors del quadre.</para>
                </listitem>
              </itemizedlist>
              <para>Aquest directori també pot contenir subdirectoris que emmagatzemin dades específiques d'aplicacions.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.gnome2-private</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Ignoreu aquest directori. Aquest directori no té cap funció en el moment de la publicació d'aquesta guia.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.local/share</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Aquesta és la ubicació predeterminada per a la variable d'entorn <envar>XDG_DATA_HOME</envar>, si aquesta no s'ha establert. Les entrades de l'escriptori definides per l'usuari es poden crear en el subdirectori <filename>applications</filename>. Els tipus MIME definits per l'usuari es poden crear en el subdirectori <filename>mime/packages/Overrides.xml</filename>.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.metacity</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Conté dades de sessió per al gestor de finestres <application>Metacity</application>.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.nautilus</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Conté dades del gestor de fitxers que són específiques a l'usuari. Per exemple, aquest directori pot contenir el següent:</para>
              <itemizedlist>
                <listitem>
                  <para>Metadades per als directoris amb els que treballa l'usuari.</para>
                </listitem>
<!--Removed Nautilus themes.-->
                <listitem>
                  <para>Distintius del <application>Nautilus</application> que l'usuari afegeix.</para>
                </listitem>
                <listitem>
                  <para>Imatges de l'escriptori del <application>Nautilus</application>.</para>
                </listitem>
              </itemizedlist>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.themes</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Conté opcions de tema dels controls, opcions de tema del costat de la finestra i opcions de tema de les icones que l'usuari afegeix. L'usuari pot afegir temes des de l'eina de preferències <application>Tema</application>.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.thumbnails</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Conté miniatures d'imatges per a l'usuari. Les miniatures d'imatges s'utilitzen en el gestor de fitxers. El gestor de fitxers conté una preferència que l'usuari pot seleccionar per a aturar la generació de miniatures d'imatges.</para>
            </entry>
          </row>
        </tbody>
      </tgroup>
    </table>
  </appendix>

  
  <appendix id="appendixb-0">
    <title>Nota de seguretat referent a la configuració d'impressores SMB</title>
    <highlights>
      <para>Aquest apèndix proporciona una nota de seguretat relacionada amb la configuració d'impressores compartides en xarxes del Windows.</para>
    </highlights>
    <indexterm>
      <primary>Samba</primary>
      <see>SMB</see>
    </indexterm>
    <indexterm>
      <primary>Recursos compartits de xarxes del Windows</primary>
      <see>SMB</see>
    </indexterm>
    <indexterm>
      <primary>SMB</primary>
      <secondary>configurar impressores</secondary>
    </indexterm>
    <para>Els recursos compartits de les xarxes del Windows també s'anomenen Samba o recursos compartits <firstterm>SMB</firstterm>. Quan configureu una impressora en una recurs compartit SMB haureu d'introduir un nom d'usuari i una contrasenya per a la cua d'impressió.</para>
    <para>El nom d'usuari i la contrasenya per a la cua d'impressió s'emmagatzema en un text sense encriptar en el fitxer <filename>/etc/cups/printers.conf</filename>. Aquest fitxer té permisos de només lectura per als usuaris amb privilegis de superusuari, de manera que només el superusuari pot llegir el nom d'usuari i la contrasenya per a la cua d'impressió.</para>
    <para>Per a reduir l'impacte de possibles violacions de seguretat, assegureu-vos que el nom d'usuari i la contrasenya necessaris per a accedir a la cua d'impressió només s'utilitzen per a aquesta. Això assegura que qualsevol violació de seguretat es restringeix a una utilització no autoritzada de la cua d'impressió.</para>
  </appendix>

<glossary id="glossary-1">
  <title>Glossari</title>
  <!-- these anchors are to maintain backwards compatibility for 
       obsolete glossary entries -->

  <!-- file content sniffer -->
  <anchor id="glossary-23"/>
  <!-- MIME information file -->
  <anchor id="glossary-20"/>
  <!-- MIME keys file -->
  <anchor id="glossary-21"/>
  <!-- MIME type registry -->
  <anchor id="glossary-22"/>
  <!-- pattern mask -->
  <anchor id="glossary-25"/>
  <!-- vfolder -->
  <anchor id="glossary-9"/>
  <!-- vfolder information file -->
  <anchor id="glossary-10"/>

  <glossentry id="glossary-13">
    <glossterm>fitxer <filename>.desktop</filename></glossterm>
    <glosssee otherterm="glossary-11"/>
  </glossentry>
  <glossentry id="glossary-14">
    <glossterm>fitxer <filename>.directory</filename></glossterm>
    <glosssee otherterm="glossary-12"/>
  </glossentry>
  <glossentry id="glossary-32">
    <glossterm>fitxer <filename>.omf</filename></glossterm>
    <glosssee otherterm="glossary-31"/>
  </glossentry>
  <glossentry id="glossary-18">
    <glossterm>registre d'aplicacions</glossterm>
    <glossdef>
      <para>Els registre d'aplicacions és una col·lecció de fitxers d'entrada de l'escriptori que registren les aplicacions. La ubicació del registre d'aplicacions de l'escriptori del GNOME és <filename>$XDG_DATA_DIRS:$XDG_DATA_HOME/applications/</filename>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-11">
    <glossterm>fitxer d'entrada d'escriptori</glossterm>
    <glossdef>
      <para>Un fitxer de dades que proporciona informació sobre un element en un menú. El fitxer d'entrada d'escriptori especifica els detalls per a l'element, com ara un nom, una ordre a executar, una icona, etc. Els fitxers d'entrada de l'escriptori tenen una extensió de fitxer <filename>.desktop</filename>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-12">
    <glossterm>fitxer d'entrada de directori</glossterm>
    <glossdef>
      <para>Un fitxer de dades que proporciona informació sobre un menú. El fitxer d'entrada de directori especifica els detalls per al menú, com ara un nom i una icona que representa el menú. Els fitxers d'entrada de directori tenen una extensió de fitxer <filename>.directory</filename>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-5">
    <glossterm>font de configuració del GConf</glossterm>
    <glossdef>
      <para>Una ubicació d'emmagatzemament en el dipòsit del <application>GConf</application>. Per exemple, <literal>xml:readonly:/etc/gconf/gconf.xml.defaults</literal>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-2">
    <glossterm>clau de preferències del GConf</glossterm>
    <glossdef>
      <para>Un element en el dipòsit del <application>GConf</application> que correspon a una preferència d'una aplicació. Per exemple, la clau <literal>/apps/gnome-session/options/show_splash_screen</literal> correspon a l'opció <guilabel>Mostra la pantalla de presentació en entrar</guilabel> de l'eina de preferències <application>Sessions</application>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-6">
    <glossterm>fitxer de camins del GConf</glossterm>
    <glossdef>
      <para>Un fitxer que llista les fonts de configuració del GConf i l'ordre en què se cercarà en les fonts.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-3">
    <glossterm>esquema del GConf</glossterm>
    <glossdef>
      <para>Un terme col·lectiu per a una clau d'esquema i un objecte d'esquema.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-4">
    <glossterm>fitxer de definició d'esquemes del GConf</glossterm>
    <glossdef>
      <para>Un fitxer de definició d'esquemes del <application>GConf</application> llista les claus d'una aplicació determinada i defineix les característiques de les claus. Els esquemes del <application>GConf</application> són generats des de fitxers de definició d'esquemes. Els fitxers de definició d'esquemes tenen una extensió de fitxer <filename>.schemas</filename>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-7">
    <glossterm>clau d'esquema del GConf</glossterm>
    <glossdef>
      <para>Una clau que emmagatzema un objecte d'esquema per a una clau de preferència. Per exemple, <literal>/schemas/desktop/gnome/interface/font_name</literal> és una clau d'esquema per a la clau de preferència <literal>/desktop/gnome/interface/font_name</literal>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-8">
    <glossterm>objecte d'esquema del GConf</glossterm>
    <glossdef>
      <para>Un element en una font de configuració que conté informació sobre una clau de preferència. L'objecte d'esquema conté informació com ara el valor predeterminat per a la clau de preferència i documentació sobre la clau de preferència.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-glob-pattern">
    <glossterm>patró global</glossterm>
    <glossdef>
      <para>Un patró global s'utilitza per fer-lo coincidir amb el nom d'un fitxer utilitzant caràcters especials com ara <literal>*</literal> i <literal>?</literal>. Els sistema MIME utilitza patrons globals per a assignar tipus MIME basats amb els noms dels fitxers i, sovint, les extensions.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-26">
    <glossterm>Interoperable Object Reference</glossterm>
    <glossdef>
      <para>Un Interoperable Object Reference (IOR) és una cadena de referència a un objecte CORBA. Un IOR codifica el nom de l'ordinador i el port al qual els missatges es poden enviar per a controlar l'objecte. L'IOR també conté una clau d'objecte per a identificar l'objecte.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-magic-rule">
    <glossterm>regla màgica</glossterm>
    <glossdef>
      <para>Una regla màgica defineix els tipus MIME d'un fitxer especificant dades de text o binàries a cercar al començament del fitxer. Els desplaçaments per a cercar aquestes dades són definits com una regla màgica.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-menu-def">
    <glossterm>Fitxers de definició de menú</glossterm>
    <glossdef>
      <para>Els fitxers de definició de menú defineixen la jerarquia dels menús que són utilitzats en la barra de menú del GNOME.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-27">
    <glossterm>MIME</glossterm>
    <glossdef>
      <para>Extensions de correu Internet multipropòsit</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-mime-source-xml">
    <glossterm>fitxer font XML MIME</glossterm>
    <glossdef>
      <para>Un fitxer font XML MIME defineix com es resolen els tipus MIME per a diferents tipus de fitxers. Hi ha tres maneres diferents de fer-ho: utilitzar les extensions dels fitxers (patrons màgics), utilitzar regles màgiques i utilitzar noms d'espai XML. Els fitxers font XML MIME s'ubiquen en el directori <filename>$XDG_DATA_DIRS:$XDG_DATA_HOME/mime/packages</filename>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-16">
    <glossterm>tipus MIME</glossterm>
    <glossdef>
      <para>Un tipus MIME identifica el format d'un fitxer. El tipus MIME permet a les aplicacions llegir el fitxer. Per exemple, una aplicació de correu electrònic pot utilitzar el tipus MIME <literal>image/png</literal> per a detectar que un fitxer Portable Networks Graphic (PNG) s'ha adjuntat a un correu electrònic.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-mime-type-database">
    <glossterm>base de dades dels tipus MIME</glossterm>
    <glossdef>
      <para>La base de dades dels tipus MIME és una col·lecció de fitxers que registren tipus MIME per a l'entorn de l'escriptori. La ubicació de la base de dades dels tipus MIME és el directori <filename>$XDG_DATA_DIRS:$XDG_DATA_HOME/mime</filename>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-31">
    <glossterm>fitxer OMF</glossterm>
    <glossdef>
      <para>Fitxer Open Source Metadata Framework. És un fitxer associat amb el fitxer XML d'un manual. El fitxer OMF conté informació sobre el manual que utilitza el navegador d'ajuda. Els fitxers OMF tenen una extensió de fitxer <filename>.omf</filename>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-33">
    <glossterm>PAM</glossterm>
    <glossdef>
      <para>Pluggable Authentication Modules.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-28">
    <glossterm>estalvi de pantalla</glossterm>
    <glossdef>
      <para>Un estalvi de pantalla es una aplicació que reemplaça la imatge a la pantalla quan la pantalla no s'utilitza. L'aplicació de l'estalvi de pantalla per al GNOME és l'<application>XScreenSaver</application>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-29">
    <glossterm>visualitzador de l'estalvi de pantalles</glossterm>
    <glossdef>
      <para>Un visualitzador de l'estalvi de pantalles és una aplicació que visualitza imatges a la pantalla de l'usuari quan la pantalla no s'utilitza.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-34">
    <glossterm>UDP</glossterm>
    <glossdef>
      <para>User Datagram Protocol.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-15">
    <glossterm>Uniform Resource Identifier</glossterm>
    <glossdef>
      <para>Un Uniform Resource Identifier (URI) és una cadena que identifica una ubicació determinada en un sistema de fitxers o en la web. Per exemple, l'adreça d'una pàgina web és una URI.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-24">
    <glossterm>paleta de colors segurs per a la web</glossterm>
    <glossdef>
      <para>La paleta de colors segurs per a la web és una una paleta de propòsit general de 216 colors, la qual està dissenyada per a optimitzar la utilització dels colors en sistemes que admeten 8 bits de colors. També s'anomena la <emphasis>paleta de colors del Netscape</emphasis> i el <emphasis>cub de colors del Netscape</emphasis>.</para>
    </glossdef>
  </glossentry>
</glossary>


<!-- If generating PDFs and if you want an index, then uncomment <index/> -->
<!-- <index/> -->

</book>
