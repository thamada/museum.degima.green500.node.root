<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN" "http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd" [
<!ENTITY gnomeversion "2.14">
<!ENTITY manrevision "2.4">
<!ENTITY date "March 2004">
<!ENTITY LEGAL SYSTEM "legal.xml">
<!ENTITY gconf SYSTEM "gconf.xml">
<!ENTITY menustructure SYSTEM "menustructure.xml">
<!ENTITY themes SYSTEM "themes.xml">
<!ENTITY fontconfig SYSTEM "fontconfig.xml">
<!ENTITY mimetypes SYSTEM "mimetypes.xml">
<!ENTITY screensavers SYSTEM "screensavers.xml">
<!ENTITY sessions SYSTEM "sessions.xml">
<!ENTITY help SYSTEM "help.xml">
<!ENTITY performance SYSTEM "performance.xml">
<!ENTITY lockdown SYSTEM "lockdown.xml">
<!ENTITY appendixa SYSTEM "appendixa.xml">
<!ENTITY appendixb SYSTEM "appendixb.xml">
<!ENTITY gloss SYSTEM "glossary.xml">
]>
<book id="index" lang="cs"> 
  <title>Příručka systémové správy pracovního prostředí GNOME</title> 
  <bookinfo> 
    <abstract role="description">
    <para>Příručka systémové správy GNOME poskytuje správcům informace o tom, jak nastavit a spravovat různé záležitosti pracovního prostředí pro potřeby uživatelů.</para>
    </abstract>
	 <copyright> 
		<year>2006</year> 
		<holder>Brent Smith</holder> 
	 </copyright>
	 <copyright> 
		<year>2005</year> 
		<holder>Brent Smith</holder> 
	 </copyright>
	 <copyright> 
		<year>2004</year> 
		<holder>Sun Microsystems</holder> 
	 </copyright>
	 <copyright> 
		<year>2003</year> 
		<holder>Sun Microsystems</holder> 
	 </copyright><copyright><year>2009</year><holder>Marek Černocký (marek@manet.cz)</holder></copyright>

<!-- translators: uncomment this:
  <copyright>
   <year>2002</year>
   <holder>ME-THE-TRANSLATOR (Latin translation)</holder>
  </copyright>
-->
	 <publisher role="maintainer"> 
		<publishername>Dokumentační projekt GNOME</publishername> 
	 </publisher>   <legalnotice id="legalnotice">
	<para>Je povoleno kopírovat, šířit a/nebo upravovat tento dokument za podmínek GNU Free Documentation License, verze 1.1 nebo jakékoli další verze vydané nadací Free Software Foundation; bez neměnných oddílů, bez textů předních desek a bez textů zadních desek. Kopie této licence je zahrnuta v oddílu jménem <ulink type="help" url="ghelp:fdl">GNU Free Documentation License</ulink> nebo v souboru COPYING-DOCS dodávaném s touto příručkou.</para>
         <para>Tato příručka je součástí kolekce příruček GNOME, distribuovaných pod licencí GNU FDL. Pokud chcete tento dokument šířit odděleně od kolekce, musíte přiložit kopii licence dle popisu v sekci 6 dané licence.</para>

	<para>Mnoho užívaných jmen určených k zviditelnění produktů nebo služeb jsou ochranné známky. Na místech, kde jsou tato jména v dokumentaci užita a členové Dokumentačního projektu GNOME jsou si vědomi skutečnosti, že se jedná o ochrannou známku, je takové jméno psáno velkými písmeny celé nebo s velkým písmenem na začátku.</para>

	<para>DOKUMENT A JEHO UPRAVENÉ VERZE JSOU ŠÍŘENY V SOULADU SE ZNĚNÍM LICENCE GNU FREE DOCUMENTATION LICENSE S NÁSLEDUJÍCÍM USTANOVENÍM: <orderedlist>
		<listitem>
		  <para>DOKUMENT JE POSKYTOVÁN V PODOBĚ „JAK JE“ BEZ ZÁRUKY V JAKÉKOLIV PODOBĚ, NEPOSKYTUJÍ SE ANI ODVOZENÉ ZÁRUKY, ZÁRUKY, ŽE DOKUMENT, NEBO JEHO UPRAVENÁ VERZE, JE BEZCHYBNÝ NEBO ZÁRUKY PRODEJNOSTI, VHODNOSTI PRO URČITÝ ÚČEL NEBO NEPORUŠENOSTI. RIZIKO NEKVALITY, NEPŘESNOSTI A ŠPATNÉHO PROVEDENÍ DOKUMENTU, NEBO JEHO UPRAVENÉ VERZE, LEŽÍ NA VÁS. POKUD KVŮLI TOMUTO DOKUMENTU, NEBO JEHO UPRAVENÉ VERZI, NASTANE PROBLÉM, VY (NIKOLIV PŮVODNÍ AUTOR NEBO JAKÝKOLIV PŘISPĚVATEL) PŘEBÍRÁTE JAKÉKOLIV NÁKLADY ZA NUTNÉ ÚPRAVY, OPRAVY ČI SLUŽBY. TOTO PROHLÁŠENÍ O ZÁRUCE PŘEDSTAVUJE ZÁKLADNÍ SOUČÁST TÉTO LICENCE. BEZ TOHOTO PROHLÁŠENÍ NENÍ, PODLE TÉTO DOHODY, POVOLENO UŽÍVÁNÍ ANI ÚPRAVY TOHOTO DOKUMENTU; DÁLE</para>
		</listitem>
		<listitem>
		  <para>ZA ŽÁDNÝCH OKOLNOSTÍ A ŽÁDNÝCH PRÁVNÍCH PŘEDPOKLADŮ, AŤ SE JEDNÁ O PŘEČIN (VČETNĚ NEDBALOSTNÍCH), SMLOUVU NEBO JINÉ, NENÍ AUTOR, PŮVODNÍ PISATEL, KTERÝKOLIV PŘISPĚVATEL NEBO KTERÝKOLIV DISTRIBUTOR TOHOTO DOKUMENTU NEBO UPRAVENÉ VERZE DOKUMENTU NEBO KTERÝKOLIV DODAVATEL NĚKTERÉ Z TĚCHTO STRAN ODPOVĚDNÝ NĚJAKÉ OSOBĚ ZA PŘÍMÉ, NEPŘÍMÉ, SPECIÁLNÍ, NAHODILÉ NEBO NÁSLEDNÉ ŠKODY JAKÉHOKOLIV CHARAKTERU, VČETNĚ, ALE NEJEN, ZA POŠKOZENÍ ZE ZTRÁTY DOBRÉHO JMÉNA, PŘERUŠENÍ PRÁCE, PORUCHY NEBO NESPRÁVNÉ FUNKCE POČÍTAČE NEBO JINÉHO A VŠECH DALŠÍCH ŠKOD NEBO ZTRÁT VYVSTÁVAJÍCÍCH Z NEBO VZTAHUJÍCÍCH SE K POUŽÍVÁNÍ TOHOTO DOKUMENTU NEBO UPRAVENÝCH VERZÍ DOKUMENTU, I KDYŽ BY TAKOVÁTO STRANA BYLA INFORMOVANÁ O MOŽNOSTI TAKOVÉHOTO POŠKOZENÍ.</para>
		</listitem>
	  </orderedlist></para>
  </legalnotice>

 

	 <authorgroup> 
		<author>
                  <firstname>Brent</firstname>
		  <surname>Smith</surname> 
		  <affiliation> 
			 <orgname>Dokumentační projekt GNOME</orgname> 
		  </affiliation> 
		</author> 
		<author> 
		  <firstname>Sun</firstname> 
		  <surname>Dokumentační tým GNOME</surname> 
		  <affiliation> 
			 <orgname>Sun Microsystems</orgname> 
		  </affiliation> 
		</author> 
	 </authorgroup>

	 <revhistory>
		<revision> 
		  <revnumber>Příručka V2.4 systémové správy pracovního prostředí GNOME 2.14</revnumber> 
		  <date>Březen 2004</date> 
		  <revdescription> 
			 <para role="author">Dokumentační projekt GNOME</para> 
			 <para role="publisher">Dokumentační projekt GNOME</para> 
		  </revdescription> 
		</revision> 
		<revision> 
		  <revnumber>Příručka V2.3 systémové správy pracovního prostředí GNOME 2.6</revnumber> 
		  <date>Březen 2004</date> 
		  <revdescription> 
			 <para role="author">Sun Microsystems</para> 
			 <para role="publisher">Dokumentační projekt GNOME</para> 
		  </revdescription> 
		</revision> 
		<revision> 
		  <revnumber>Příručka V2.2 systémové správy pracovního prostředí GNOME 2.4</revnumber> 
		  <date>Září 2003</date> 
		  <revdescription> 
			 <para role="author">Sun Microsystems</para> 
			 <para role="publisher">Dokumentační projekt GNOME</para> 
		  </revdescription> 
		</revision> 
		<revision> 
		  <revnumber>Příručka V2.1 systémové správy pracovního prostředí GNOME 2.2</revnumber> 
		  <date>Leden 2003</date> 
		  <revdescription> 
			 <para role="author">Sun Microsystems</para> 
			 <para role="publisher">Dokumentační projekt GNOME</para> 
		  </revdescription> 
		</revision> 
		<revision> 
		  <revnumber>Příručka V2.0 systémové správy pracovního prostředí GNOME 2.0</revnumber> 
		  <date>Prosinec 2002</date> 
		  <revdescription> 
			 <para role="author">Sun Microsystems</para> 
			 <para role="publisher">Dokumentační projekt GNOME</para> 
		  </revdescription> 
		</revision> 
	 </revhistory> 
	 <releaseinfo>Tato příručka popisuje pracovní prostředí GNOME ve verzi 2.14.</releaseinfo> 
	 <legalnotice> 
		<title>Ohlasy</title> 
		<para>Pokud chcete oznámit chybu nebo navrhnout vylepšení vztahující se k pracovnímu prostředí GNOME nebo této příručce, postupujte dle instrukcí v <ulink type="help" url="ghelp:user-guide?feedback">kapitole Ohlasy Uživatelské příručky GNOME</ulink>.</para>
	 </legalnotice> 
  </bookinfo>
<chapter id="gconf-0">
  <title>Používání GConf</title>
  <highlights>
    <para>Tato kapitola popisuje, jak používat <application>GConf</application> ke správě svých předvoleb.</para>
  </highlights>
  <sect1 id="gconf-1">
    <title>Úvod do GConf</title>
    <indexterm>
      <primary>GConf</primary>
      <secondary>úvod</secondary>
    </indexterm>
    <para><application>GConf</application> ulehčuje správu předvoleb pro uživatele pracovního prostředí GNOME. Umožňuje správcům systému dělat následující věci:</para>
    <itemizedlist>
      <listitem>
        <para>Nastavit u vybraných předvoleb povinné hodnoty pro všechny uživatele. Tímto způsobem může správce rozhodovat, zda bude mít uživatel možnost vybrané předvolby měnit.</para>
      </listitem>
      <listitem>
        <para>Nastavit u vybraných předvoleb výchozí hodnoty pro všechny uživatele.</para>
      </listitem>
      <listitem>
        <para>Použít pro předvolby navrhované hodnoty, které jsou určené v definičním souboru pro předvolby.</para>
      </listitem>
      <listitem>
        <para>Číst dokumentaci pro každou jednotlivou předvolbu.</para>
      </listitem>
    </itemizedlist>
    <para><application>GConf</application> také informuje aplikace o tom, že se některá z hodnot v předvolbách změnila, a to místně nebo přes síť. Díky tomu se ihned všechny aplikace dozví, když změníte některou předvolbu.</para>
    <para><application>GConf</application> má následující součásti:</para>
    <itemizedlist>
      <listitem>
        <para>Úložiště uživatelských předvoleb.</para>
      </listitem>
      <listitem>
        <para>Démona, <command>gconfd-2</command>.</para>
      </listitem>
      <listitem>
        <para>Nástroj příkazové řádky, <command>gconftool-2</command>.</para>
      </listitem>
    </itemizedlist>
  </sect1>
  <sect1 id="gconf-24">
    <title>Úložiště GConf</title>
    <indexterm>
      <primary>GConf</primary>
      <secondary>úložiště</secondary>
    </indexterm>
    <para>Každá z předvoleb v úložišti <application>GConf</application> je představována párem klíč - hodnota. <firstterm>Klíč předvolby GConf</firstterm> je element v úložišti, který odpovídá předvolbě aplikace. Např. klíč předvolby <systemitem>/apps/gnome-session/options/show_splash_screen</systemitem> odpovídá volbě <guilabel>Během přihlašování zobrazit úvodní obrazovku</guilabel> v nástroji předvoleb <application>Sezení</application>. Uživatelské rozhraní pracovního prostředí GNOME neobsahuje všechny klíče předvoleb z úložiště <application>GConf</application>. Např. nástroj předvoleb <application>Panel</application> neobsahuje volbu, která by odpovídala klíči <systemitem>/apps/panel/global/tooltips_enabled</systemitem>.</para>
    <para>Struktura úložiště je podobná jednoduchému hierarchickému souborovému systému. Úložiště obsahuje následující věci:</para>
    <itemizedlist>
      <listitem>
        <para>Složky odpovídající aplikacím, které úložiště <application>GConf</application> používají. Např. souborový systém obsahuje složku <systemitem>/apps/metacity</systemitem>.</para>
      </listitem>
      <listitem>
        <para>Podsložky odpovídající kategoriím předvoleb. Např. souborový systém obsahuje složku <systemitem>/apps/metacity/general</systemitem>.</para>
      </listitem>
      <listitem>
        <para>Speciální soubory, které obsahují seznamy klíčů předvoleb ve složce a informace o klíčích. Např. soubor, který obsahuje informace o klíčích vztahujících se k předvolbám HTTP proxy, je ve složce <systemitem>/system/http_proxy</systemitem>.</para>
      </listitem>
      <listitem>
        <para>Složku <systemitem>/schemas</systemitem>, která obsahuje soubory popisující všechny klíče předvoleb.</para>
      </listitem>
    </itemizedlist>
    <para>Klíče předvoleb mívají typicky jednoduché hodnoty jako řetězce a čísla a nebo seznamy řetězců a čísel. Formát klíčů předvoleb v úložišti závisí na modulu implementace, který je použitý ke čtení úložiště. Následující příklad klíče předvolby <systemitem>/desktop/gnome/interface/font_name</systemitem> je pro použití modulu implementace Extensible Markup Language (XML):</para>
    <programlisting><![CDATA[<entry name="font_name" mtime="1038323555" muser="user123" type="string">
<stringvalue>Sans 10</stringvalue></entry>]]></programlisting>
    <note>
      <para>Když tato příručka odkazuje na klíč předvolby, je k názvu klíče přidaná cesta ke klíči. Např. na klíč předvolby <systemitem>font_name</systemitem> v podsložce <systemitem>/desktop/gnome/interface</systemitem> je odkazováno jako <systemitem>/desktop/gnome/interface/font_name</systemitem>.</para>
    </note>
    <sect2 id="gconf-26">
      <title>Zdroje nastavení GConf</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>zdroje nastavení</secondary>
      </indexterm>
      <para>Úložiště <application>GConf</application> obsahuje sadu úložných míst, která se nazývají <firstterm>zdroje nastavení</firstterm>. Zdroje nastavení jsou uvedené v <firstterm>souboru cesty GConf</firstterm>. Soubor cesty <application>GConf</application> je umístěný v <systemitem>/etc/gconf/<replaceable>číslo-verze-gconf</replaceable>/path</systemitem>. Soubor cesty určuje pro každý zdroj nastavení následující informace:</para>
      <itemizedlist>
        <listitem>
          <para>Modul implementace, který se používá ke čtení úložiště.</para>
        </listitem>
        <listitem>
          <para>Oprávnění úložiště.</para>
        </listitem>
        <listitem>
          <para>Umístění úložiště.</para>
        </listitem>
      </itemizedlist>
      <para>Soubor cesty <application>GConf</application> také obsahuje instrukce <systemitem>include</systemitem>. Standardně je obsah souboru cesty <application>GConf</application> následující:</para>
      <programlisting>xml:readonly:/etc/gconf/gconf.xml.mandatory
include /etc/gconf/2/local-mandatory.path
include "$(HOME)/.gconf.path"
include /etc/gconf/2/local-defaults.path
xml:readwrite:$(HOME)/.gconf
xml:readonly:/etc/gconf/gconf.xml.defaults</programlisting>
      <para>Když <application>GConf</application> vyhledává hodnotu předvolby, čte zdroje nastavení v pořadí uvedeném v souboru cesty. Následující tabulka popisuje zdroje nastavení v souboru cesty:</para>
      <informaltable frame="topbot">
        <tgroup cols="2" colsep="0" rowsep="0">
          <colspec colwidth="31.29*"/>
          <colspec colwidth="68.71*"/>
          <thead>
            <row rowsep="1">
              <entry>
                <para>Zdroj nastavení</para>
              </entry>
              <entry>
                <para>Popis</para>
              </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry valign="top">
                <para>mandatory (povinné)</para>
              </entry>
              <entry valign="top">
                <para>Oprávnění k tomuto zdroji nastavení je nastavené na „pouze ke čtení“. Uživatel nemůže v tomto zdroji přepisovat hodnoty, čímž pádem jsou předvolby v tomto zdroji povinné.</para>
              </entry>
            </row>
            <row>
              <entry valign="top">
                <para>user (uživatelské)</para>
              </entry>
              <entry valign="top">
                <para>Tento zdroj nastavení je uložený ve složce <filename>.gconf</filename> v domovské složce uživatele. Když uživatel nastaví předvolbu, tak se nová informace o předvolbě přidá do tohoto umístění.</para>
                <para>Ke změnám zdrojů uživatelských nastavení můžete použít aplikaci <application>Editor nastavení</application>.</para>
              </entry>
            </row>
            <row>
              <entry valign="top">
                <para>default (výchozí)</para>
              </entry>
              <entry valign="top">
                <para>Tento zdroj nastavení obsahuje výchozí nastavení předvoleb.</para>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
      <para>Pořadí zdrojů nastavení v souboru cesty zajišťuje, že povinné hodnoty předvoleb přepíšou uživatelská nastavení předvoleb. Pořadí také zajišťuje, že uživatelská nastavení předvoleb přepíšou výchozí nastavení předvoleb. To jest, <application>GConf</application> používá předvolby v následujícím pořadí priority:</para>
      <orderedlist>
        <listitem>
          <para>Povinné předvolby</para>
        </listitem>
        <listitem>
          <para>Uživatelem zadané předvolby</para>
        </listitem>
        <listitem>
          <para>Výchozí předvolby</para>
        </listitem>
      </orderedlist>
      <para>Instrukce <systemitem>include</systemitem> v souboru cesty <application>GConf</application> dovoluje správci systému zadat další zdroje nastavení.</para>
      <informaltable frame="topbot">
        <tgroup cols="2" colsep="0" rowsep="0">
          <colspec colwidth="50*"/>
          <colspec colwidth="50*"/>
          <thead>
            <row rowsep="1">
              <entry>
                <para>Vložený zdroj nastavení</para>
              </entry>
              <entry>
                <para>Popis</para>
              </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry valign="top">
                <para>
                  <filename>/etc/gconf/2/local-mandatory.path</filename>
                </para>
              </entry>
              <entry valign="top">
                <para>Použijte tento zdroj nastavení k uložení povinných hodnot předvoleb pro specifický systém.</para>
              </entry>
            </row>
            <row>
              <entry valign="top">
                <para>
                  <filename>$(HOME)/.gconf.path</filename>
                </para>
              </entry>
              <entry valign="top">
                <para>Uživatel určuje umístění zdrojů nastavení v domovské složce v souboru, který se nazývá <filename>.gconf.path</filename>.</para>
              </entry>
            </row>
            <row>
              <entry valign="top">
                <para>
                  <filename>/etc/gconf/2/local-defaults.path</filename>
                </para>
              </entry>
              <entry valign="top">
                <para>Použijte tento zdroj nastavení k uložení výchozích hodnot předvoleb pro specifický systém.</para>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
    </sect2>
    <sect2 id="gconf-27">
      <title>Schémata GConf</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>schémata</secondary>
      </indexterm>
      <indexterm>
        <primary>GConf</primary>
        <secondary>klíče schémat</secondary>
      </indexterm>
      <indexterm>
        <primary>GConf</primary>
        <secondary>objekty schémat</secondary>
      </indexterm>
      <indexterm>
        <primary>schémata</primary>
        <secondary>popis</secondary>
      </indexterm>
      <indexterm>
        <primary>schémata</primary>
        <secondary>klíče schémat</secondary>
      </indexterm>
      <indexterm>
        <primary>schémata</primary>
        <secondary>objekty schémat</secondary>
      </indexterm>
      <para><firstterm>Schéma GConf</firstterm> je společný termín pro <firstterm>klíč schématu GConf</firstterm> a <firstterm>objekt schématu GConf</firstterm>. Následující tabulka popisuje klíče schémat a objekty schémat a vztahy těchto položek ke klíčům předvoleb:</para>
      <informaltable frame="topbot">
        <tgroup cols="2" colsep="0" rowsep="0">
          <colspec colname="colspec0" colwidth="24.31*"/>
          <colspec colname="colspec1" colwidth="75.69*"/>
          <thead>
            <row rowsep="1">
              <entry>
                <para>Položka</para>
              </entry>
              <entry>
                <para>Popis</para>
              </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry colname="colspec0" valign="top">
                <para>Klíč předvolby</para>
              </entry>
              <entry colname="colspec1" valign="top">
                <para>Element v úložišti <application>GConf</application>, který odpovídá předvolbě aplikace.</para>
              </entry>
            </row>
            <row>
              <entry valign="top">
                <para>Klíč schématu</para>
              </entry>
              <entry valign="top">
                <para>Klíč, který uchovává objekt schématu pro klíč předvolby.</para>
              </entry>
            </row>
            <row>
              <entry valign="top">
                <para>Objekt schématu</para>
              </entry>
              <entry valign="top">
                <para>Element ve zdroji nastavení, který obsahuje takové informace ke klíči předvolby, jako jsou:</para>
                <itemizedlist>
                  <listitem>
                    <para>Název aplikace, která klíč předvolby používá.</para>
                  </listitem>
                  <listitem>
                    <para>Typ hodnoty požadované pro klíč předvolby, např. celé číslo, pravdivostní hodnota apod.</para>
                  </listitem>
                  <listitem>
                    <para>Výchozí hodnotu pro klíč předvolby.</para>
                  </listitem>
                  <listitem>
                    <para>Stručnou dokumentaci ke klíči předvolby.</para>
                  </listitem>
                </itemizedlist>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
      <para>Následující tabulka ukazuje příklady klíče předvoleb, klíče schématu a objektu schématu:</para>
      <informaltable frame="topbot">
        <tgroup cols="2" colsep="0" rowsep="0">
          <colspec colname="colspec0" colwidth="24.31*"/>
          <colspec colname="colspec1" colwidth="75.69*"/>
          <thead>
            <row rowsep="1">
              <entry>
                <para>Položka</para>
              </entry>
              <entry>
                <para>Příklad</para>
              </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry colname="colspec0" valign="top">
                <para>Klíč předvolby</para>
              </entry>
              <entry colname="colspec1" valign="top">
                <para>
                  <systemitem>/desktop/gnome/interface/font_name</systemitem>
                </para>
              </entry>
            </row>
            <row>
              <entry colname="colspec0" valign="top">
                <para>Klíč schématu</para>
              </entry>
              <entry colname="colspec1" valign="top">
                <para>
                  <systemitem>/schemas/desktop/gnome/interface/font_name</systemitem>
                </para>
              </entry>
            </row>
            <row>
              <entry valign="top">
                <para>Objekt schématu</para>
              </entry>
              <entry valign="top">
                <programlisting><![CDATA[<schema>
  <applyto>/desktop/gnome/interface/font_name</applyto>
  <key>/schemas/desktop/gnome/interface/font_name</key>
  <owner>gnome</owner>
  <type>string</type>
  <default>Sans 10</default>
  <locale name="C">
    <short>Default font</short>
      <long>Name of the default font used by gtk+.</long>
  </locale>
</schema>]]></programlisting>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
      <para>Klíč schématu můžete přidružit ke klíči předvolby. Vezměme např. následující klíč <systemitem>/desktop/gnome/interface/font_name</systemitem> zahrnující klíč schématu:</para>
      <programlisting><![CDATA[<entry name="font_name" mtime="1034873859"
schema="/schemas/desktop/gnome/interface/font_name"/>]]></programlisting>
      <para>Když klíč schématu přidružíte ke klíči předvolby, předvolba použije navrhovanou hodnotu, která je určená v objektu schématu klíče schématu. Navrhovanou hodnotu obsahuje element <sgmltag>&lt;default&gt;</sgmltag> objektu schématu. Standardně jsou všechny klíče předvoleb ve zdroji výchozích nastavení přidružené s klíči schématu.</para>
      <para>Schémata bývají obvykle uložená ve zdroji výchozího nastavení.</para>
    </sect2>
    <sect2 id="gconf-2">
      <title>Soubory definicí schématu GConf</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>soubory definicí schématu</secondary>
        <tertiary>úvod</tertiary>
      </indexterm>
      <indexterm>
        <primary>schémata</primary>
        <secondary>soubory definicí schématu</secondary>
        <tertiary>úvod</tertiary>
      </indexterm>
      <para>Schémata jsou generovaná ze <firstterm>souborů definicí schématu</firstterm>. Soubory definicí schématu definují vlastnosti všech klíčů v určité aplikaci. Soubory definicí schématu mají příponu <filename>.schemas</filename>.</para>
      <para>Soubory definicí schématu jsou uložená ve složce <filename>/etc/gconf/schemas</filename>. Soubory s definicí schématu můžete použít k vytvoření nového zdroje nastavení.</para>
      <para>Některé soubory definice schématu odpovídají přesně části uživatelského rozhraní pracovního prostředí GNOME. Např. <filename>system_http_proxy.schemas</filename> odpovídá nástroji předvoleb <application>Proxy sítě</application>. Jiné soubory definice schématu obsahují klíče předvoleb, které nepředstavují uživatelského rozhraní pracovního prostředí GNOME. Např. <systemitem>/apps/panel/global/tooltips_enabled</systemitem> se v uživatelském rozhraní neobjevuje.</para>
      <para>Některé části uživatelského rozhraní pracovního prostředí GNOME obsahují předvolby, které představují klíče předvoleb z více než jednoho souboru definice schématu. Např. nástroj předvolby <application>Klávesové zkratky</application> obsahuje předvolby, které představují klíče ze souborů <filename>panel-global-config.schemas</filename> a <filename>metacity.schemas</filename>.</para>
    </sect2>
  </sect1>
  <sect1 id="gconf-25">
    <title>Démon GConf</title>
    <indexterm>
      <primary>gconfd</primary>
      <see>démon GConf</see>
    </indexterm>
    <indexterm>
      <primary>GConf</primary>
      <secondary>démon</secondary>
    </indexterm>
    <para>Démon <application>GConf</application> se nazývá <command>gconfd-2</command>. Démon <application>GConf</application> oznamuje aplikacím, když se změní některá z hodnot předvoleb. Můžete například v nástroji předvoleb <application>Nabídky a panely nástrojů</application> vybrat, že chcete na panelech nástrojů zobrazovat pouze ikony. Jakmile tuto volbu v nástroji předvoleb vyberete, panely nástrojů ve všech otevřených aplikacích se ihned aktualizují. Démon <application>GConf</application> může pracovat místně nebo přes síť.</para>
    <para>Pro každého uživatele se spustí zvlášť instance démona <application>GConf</application>. Démon <application>GConf</application> nemá mnoho společného s takovými komplexními problémy, jako je ověřování a bezpečnost dat. Když se démon <application>GConf</application> spustí, tak načte soubor cesty <application>GConf</application>. Démon <application>GConf</application> spravuje všechny přístupy mezi aplikacemi a zdroji nastavení.</para>
    <para>Když aplikace požádá o hodnotu klíče předvolby, démon následovně prohledá zdroje nastavení:</para>
    <orderedlist>
      <listitem>
        <para>Hledá hodnotu klíče předvolby v každém zdroji nastavení, v pořadí určeném v souboru cesty. Pokud je hodnota nalezena, tak ji vrátí.</para>
      </listitem>
      <listitem>
        <para>Pokud hodnota nalezena není, hledá klíč schématu, který odpovídá klíči předvolby, a to v každém zdroji nastavení v pořadí daném souborem cesty.</para>
      </listitem>
      <listitem>
        <para>Jestliže klíč schématu najde, zkontroluje hodnotu klíče schématu.</para>
      </listitem>
      <listitem>
        <para>Pokud je hodnota klíče schématu objekt schématu, tak vrátí doporučenou hodnotu podle elementu <sgmltag>&lt;default&gt;</sgmltag> objektu schématu.</para>
      </listitem>
    </orderedlist>
    <para>Démon <application>GConf</application> rovněž provádí ukládání hodnot klíčů předvoleb do mezipaměti. Tuto mezipaměť používají všechny aplikace, takže přístup ke zdroji nastavení je potřeba pouze jednou.</para>
    <para>V případě, že chcete démona <application>GConf</application> ukončit, spusťte následující příkaz:</para>
    <screen><userinput>gconftool-2 --shutdown</userinput></screen>
  </sect1>
  <sect1 id="gconf-6">
    <title>Nástroj příkazového řádku GConf</title>
    <anchor id="gconf-TBL-7"/>
    <indexterm>
      <primary>gconftool-2</primary>
      <see>Nástroj GConf příkazového řádku</see>
    </indexterm>
    <indexterm>
      <primary>GConf</primary>
      <secondary>nástroj příkazového řádku</secondary>
    </indexterm>
    <para><application>GConf</application> obsahuje nástroj příkazového řádku <command>gconftool-2</command>. Příkaz <command>gconftool-2</command> můžete používat k provádění následujících úkolů:</para>
    <itemizedlist>
      <listitem>
        <para>Nastavení hodnoty klíče</para>
      </listitem>
      <listitem>
        <para>Zobrazení hodnoty klíče</para>
      </listitem>
      <listitem>
        <para>Instalace schématu ze souboru definice schématu při instalaci aplikace</para>
      </listitem>
    </itemizedlist>
    <para>Např. následující příkaz zobrazí hodnoty všech klíčů ve složce <systemitem>/desktop/gnome</systemitem> a podsložkách.</para>
    <screen><userinput>gconftool-2 --recursive-list /desktop/gnome</userinput></screen>
    <para>Následuje seznam některých přepínačů, které můžete použít s příkazem <command>gconftool-2</command>. Podrobný seznam přepínačů příkazové řádky najdete v <ulink url="man:gconftool-2(1)">man:gconftool-2(1)</ulink>.</para>
    <variablelist>
      <title>Přepínače příkazu gconftool-2</title>
      <varlistentry>
        <term>
            <option>--all-dirs</option>
        </term>
        <listitem>
          <para>Vypíše všechny podsložky ve složce, kterou zadáte.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--all-entries</option>
        </term>
        <listitem>
          <para>Zobrazí všechny hodnoty všech klíčů ve složce, kterou zadáte.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--config-source=<replaceable>zdroj-nastavení</replaceable></option>
        </term>
        <listitem>
          <para>Tento přepínač použijte spolu s přepínačem <option>--direct</option> k zadání použitého zdroje nastavení. Pokud zadáte zdroj nastavení s tímto přepínačem, spustí se příkaz na všechny zdroje nastavení v souboru cesty.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--direct</option>
        </term>
        <listitem>
          <para>Tento přepínač použijte spolu s přepínačem <option>--config-source</option> k přímému přístupu ke zdroji nastavení. Pokud použijete tento přepínač, <application>GConf</application> obejde server. Ujistěte se, než použijete tuto možnost, že démon <application>GConf</application> neběží.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--dump</option>
        </term>
        <listitem>
          <para>Generovat seznam obsahující všechny klíče předvoleb ve složce úložiště <application>GConf</application>, kterou zadáte. Seznam obsahuje popis všech klíčů ve formátu XML a je vložený v elementu <sgmltag>&lt;gconfentryfile&gt;</sgmltag>.</para>
          <para>Výstup tohoto přepínače můžete například přesměrovat, aby se vygeneroval soubor se seznamem všech klíčů, které se vztahují k vašemu nastavení panelu. Tento soubor můžete použít pro přepínač <option>--load</option>.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--get</option>
        </term>
        <listitem>
          <para>Zobrazí hodnotu klíče předvolby, který určíte. Rovněž zobrazí hodnoty elementů v objektu schématu pro klíč schématu, který určíte.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--help</option>
        </term>
        <listitem>
          <para>Zobrazí zprávu s nápovědou k příkazu <command>gconftool-2</command> a přepínače, které můžete s příkazem <command>gconftool-2</command> použít.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--load=<replaceable>název-souboru</replaceable></option>
        </term>
        <listitem>
          <para>Použijte tento přepínač k nastavení hodnot klíčů předvoleb v aktuální složce ve zdroji nastavení na hodnoty v souboru, který určíte. Zadaný soubor musí obsahovat v elementu <literal>&lt;gconfentryfile&gt;</literal> popis klíčů ve formátu XML.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--long-desc=<replaceable>popis</replaceable></option>
        </term>
        <listitem>
          <para>Tento přepínač použijte spolu s přepínačem <option>--set-schema</option> k zadání dlouhého popisu pro klíč schématu.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--makefile-install-rule</option>
        </term>
        <listitem>
          <para>Nainstaluje do aplikace soubory definice schématu.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--owner=<replaceable>vlastník</replaceable></option>
        </term>
        <listitem>
          <para>Tento přepínač použijte spolu s přepínačem <option>--set-schema</option> k zadání vlastníka klíče schématu.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--recursive-list</option>
        </term>
        <listitem>
          <para>Zobrazí hodnoty všech klíčů předvoleb ve všech podsložkách ve složce, kterou určíte.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--recursive-unset</option>
        </term>
        <listitem>
          <para>Přenastaví zpátky hodnoty všech klíčů předvoleb ve všech podsložkách složky z uživatelského nastavení na hodnoty, které jsou nastavené ve zdroji výchozího nastavení.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--set</option>
        </term>
        <listitem>
          <para>Nastaví hodnotu klíče předvolby a zapíše hodnotu do zdroje uživatelských nastavení. K zadání hodnoty, kterou chcete nastavit, použijte spolu s přepínačem <option>--set</option> přepínač <option>--type</option>. Například následující příkaz nastaví hodnotu klíče <systemitem>/apps/gnome-terminal/profiles/Default/background_color</systemitem> ve zdroji uživatelského nastavení:</para>
          <screen><userinput>gconftool-2 \
  --set "/apps/gnome-terminal/profiles/Default/background_color" \
  --type string "#000000"</userinput></screen>
          <para>Spolu s přepínačem <option>--set</option> můžete použít také přepínače <option>--direct</option> a <option>--config-source</option> k zápisu hodnoty do jiného zdroje nastavení.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--set-schema</option>
        </term>
        <listitem>
          <para>Nastaví hodnotu atributu v klíči schématu a zapíše hodnotu do zdroje výchozího nastavení.</para>
          <para>Spolu s přepínačem <option>--set-schema</option> použijte následující přepínače k určení atributu, který se má aktualizovat:</para>
          <itemizedlist>
            <listitem>
              <para>
                <option>--type</option>
              </para>
            </listitem>
            <listitem>
              <para>
                <option>--short-desc</option>
              </para>
            </listitem>
            <listitem>
              <para>
                <option>--long-desc</option>
              </para>
            </listitem>
            <listitem>
              <para>
                <option>--owner</option>
              </para>
            </listitem>
          </itemizedlist>
          <para>Například následující příkaz nastaví krátký popis v klíči schématu pro klíč <systemitem>/apps/gnome-terminal/profiles/Default/background_color</systemitem>:</para>
          <screen><userinput>gconftool-2 \
  --set-schema  "/schemas/apps/gnome-terminal/profiles/Default/background_color" \
  --short-desc "Výchozí barva pozadí v terminálu"</userinput></screen>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--short-desc=<replaceable>popis</replaceable></option>
        </term>
        <listitem>
          <para>Použijte tento přepínač spolu s přepínačem <option>--set-schema</option> k určení krátkého popisu klíče schématu.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--shutdown</option>
        </term>
        <listitem>
          <para>Ukončí démona <application>GConf</application>.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--type=<replaceable>datový-typ</replaceable></option>
        </term>
        <listitem>
          <para>Použijte tento přepínač k určení datového typu, když nastavujete hodnotu klíče předvolby. Tento přepínač můžete použít také, když nastavujete hodnotu atributu v klíči schématu. Zde je seznam platných datových typů:</para>
          <itemizedlist>
            <listitem>
              <para>
                <type>bool</type>
              </para>
            </listitem>
            <listitem>
              <para>
                <type>float</type>
              </para>
            </listitem>
            <listitem>
              <para>
                <type>int</type>
              </para>
            </listitem>
            <listitem>
              <para>
                <type>list</type>
              </para>
            </listitem>
            <listitem>
              <para>
                <type>pair</type>
              </para>
            </listitem>
            <listitem>
              <para>
                <type>string</type>
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--unset</option>
        </term>
        <listitem>
          <para>Přenastaví zpátky hodnotu klíče předvolby z uživatelského nastavení na hodnotu ve zdroji výchozího nastavení.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
            <option>--usage</option>
        </term>
        <listitem>
          <para>Zobrazí stručnou nápovědu k příkazu <command>gconftool-2</command> a přepínače, které můžete s příkazem <command>gconftool-2</command> použít.</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect1>
  <sect1 id="gconf-7">
    <title>Nastavení hodnot předvoleb</title>
    <indexterm>
      <primary>GConf</primary>
      <secondary>hodnoty předvoleb, natavení</secondary>
    </indexterm>
    <indexterm>
      <primary>hodnoty předvoleb</primary>
      <secondary>nastavení s GConf</secondary>
    </indexterm>
    <para>Můžete nastavit povinné hodnoty nebo výchozí hodnoty pro klíč předvolby. Než změníte hodnoty povinných nebo výchozích nastavení pro uživatele, musíte se ujistit, že démon <application>GConf</application> neběží pro žádného uživatele. Před změnou hodnoty předvolby pro uživatele se přesvědčte, že jsou všichni uživatelé odhlášení.</para>
    <para>K nastavení povinné hodnoty nebo výchozí hodnoty klíče předvolby použijte příkaz <command>gconftool-2</command> následovně:</para>
    <screen><userinput>gconftool-2 --direct \
  --config-source <replaceable>zdroj-nastavení</replaceable> \
  --type <replaceable>datový-typ</replaceable> \
  --set <replaceable>klíč-předvolby</replaceable> <replaceable>hodnota</replaceable></userinput></screen>
    <para>Například k nastavení <literal>wwwproxy.xyz.cz</literal> jako povinné proxy HTTP spusťte následující příkaz:</para>
    <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.mandatory \
  --type string \
  --set /system/http_proxy/host wwwproxy.xyz.com</userinput></screen>
    <para>Uživatel nemůže tuto hodnotu předvolby přepsat.</para>
    <para>Příkaz <command>gconftool-2</command> můžete použít také k nastavení výchozích hodnot. Například k nastavení výchozího počtu pracovních ploch na pět spusťte následující příkaz:</para>
    <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.defaults \
  --type int \
  --set /apps/metacity/general/num_workspaces 5</userinput></screen>
    <para>Uživatel může tuto hodnotu předvolby přepsat.</para>
    <caution>
      <para>Než změníte hodnoty povinných nastavení nebo hodnoty výchozích nastavení pro uživatele, přesvědčte se, že jsou všichni uživatelé odhlášení.</para>
    </caution>
  </sect1>
  <sect1 id="gconf-8">
    <title>Nastavení obecných předvoleb</title>
    <para>Následující oddíl popisuje, jak přiřadit do obecných předvoleb povinné nebo výchozí hodnoty.</para>
    <sect2 id="gconf-10">
      <title>Natavení předvoleb proxy HTTP</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>proxy HTTP, nastavení</secondary>
      </indexterm>
      <indexterm>
        <primary>proxy HTTP</primary>
        <secondary>nastavení s GConf</secondary>
      </indexterm>
      <para>Pro nastavení předvoleb proxy HTTP změňte hodnoty klíčů předvoleb v umístění <systemitem>/system/http_proxy/</systemitem>. Např. nastavení povinné hodnoty pro proxy HTTP se provede následovně:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.mandatory \
  --type string \
  --set /system/http_proxy/host <replaceable>název-proxy</replaceable></userinput></screen>
      <para>Pokud chcete nastavit výchozí proxy HTTP, spusťte následující příkaz:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.defaults \
  --type string \
  --set /system/http_proxy/host <replaceable>název-proxy</replaceable></userinput></screen>
      <para>Můžete nastavit i další předvolby, které se vztahují k proxy HTTP. Na informace o dalších předvolbách proxy HTTP se můžete podívat do souboru definice schématu <filename>system_http_proxy.schemas</filename>.</para>
    </sect2>
    <sect2 id="gconf-11">
      <title>Nastavení předvoleb správce tisku</title>
      <para>Pro nastavení předvolby správce tisku změňte hodnoty klíče předvolby v umístění <systemitem>/apps/gnome-print-manager</systemitem>. Když například nechcete, aby mohli uživatelé prohlížet tiskové úlohy ostatních uživatelů, natavte povinnou hodnotu následovně:</para>
      <indexterm>
        <primary>GConf</primary>
        <secondary>správce tisku, nastavení</secondary>
      </indexterm>
      <indexterm>
        <primary>správce tisku</primary>
        <secondary>nastavení s GConf</secondary>
      </indexterm>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.mandatory \
  --type bool \
  --set /apps/gnome-print-manager/show_all_jobs false</userinput></screen>
      <para>Pokud chcete nastavit výchozí hodnotu pro tuto předvolbu, spusťte následující příkaz:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.defaults \
  --type bool \
  --set /apps/gnome-print-manager/show_all_jobs false</userinput></screen>
      <para>Můžete nastavit i další předvolby, které se vztahují ke správci tisku. Na informace o dalších předvolbách správce tisku se můžete podívat do souboru definice schématu <filename>gnome-print-manager.schemas</filename>.</para>
<!--gnome-print-manager isn't in Mercury. Is there a replacement?-->
    </sect2>
    <sect2 id="gconf-12">
      <title>Nastavení počtu pracovních ploch</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>počet pracovních ploch, nastavení</secondary>
      </indexterm>
      <indexterm>
        <primary>pracovní plochy</primary>
        <secondary>nastavení počtu s GConf</secondary>
      </indexterm>
      <para>Pro nastavení povinného počtu pracovních ploch použijte následující příkaz:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.mandatory \
  --type int \
  --set /apps/metacity/general/num_workspaces <replaceable>celé-číslo</replaceable></userinput></screen>
      <para>Pokud chcete nastavit výchozí počet pracovních ploch, použijte následující příkaz:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.defaults \
  --type int \
  --set /apps/metacity/general/num_workspaces <replaceable>celé-číslo</replaceable></userinput></screen>
      <para>Můžete nastavit i další předvolby, které se vztahují k okennímu správci. Na informace o dalších předvolbách okenního správce se můžete podívat do souboru definice schématu <filename>metacity.schemas</filename>.</para>
    </sect2>
    <sect2 id="gconf-16">
      <title>Nastavení předvoleb přístupnosti klávesnice</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>přístupnost klávesnice, natavení</secondary>
      </indexterm>
      <indexterm>
        <primary>klávesnice</primary>
        <secondary>nastavení předvoleb přístupnosti s GConf</secondary>
      </indexterm>
      <para>Pro nastavení předvolby přístupnosti klávesnice změňte hodnoty klíčů předvolby v umístění <systemitem>/desktop/gnome/accessibility/keyboard</systemitem>. Když chcete například nastavit povinnou hodnotu tak, aby funkce přístupnosti klávesnice byly zapnuté, spusťte tento příkaz:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.mandatory \
  --type bool \
  --set /desktop/gnome/accessibility/keyboard/enable true</userinput></screen>
      <para>Pokud chcete nastavit výchozí hodnotu pro tuto předvolbu, spusťte následující příkaz:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.defaults \
  --type bool \
  --set /desktop/gnome/accessibility/keyboard/enable false</userinput></screen>
      <para>Můžete nastavit i další předvolby, které se vztahují k přístupnosti klávesnice. Na informace o dalších předvolbách přístupnosti klávesnice se můžete podívat do souboru definice schématu <filename>desktop_gnome_accessibility_keyboard.schemas</filename>.</para>
    </sect2>
    <sect2 id="gconf-18">
      <title>Nastavení předvoleb klávesových zkratek</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>klávesové zkratky, nastavení</secondary>
      </indexterm>
      <indexterm>
        <primary>klávesnice</primary>
        <secondary>nastavení předvoleb zkratek s GConf</secondary>
      </indexterm>
      <para>Pro nastavení předvolby klávesových zkratek změňte hodnoty klíčů v umístění <systemitem>/apps/metacity/global_keybindings</systemitem>. Můžete třeba chtít, aby uživatelé používali klávesovou zkratku <keycombo><keycap>Alt</keycap><keycap>F3</keycap></keycombo> pouze k otevírání dialogového okna <guilabel>Spustit aplikaci</guilabel>. Pro natavení této povinné hodnoty spusťte následující příkaz:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.mandatory \
  --type string \
  --set /apps/metacity/global_keybindings/panel_run_dialog '&lt;Alt&gt;F3'</userinput></screen>
      <para>Můžete nastavit i další předvolby, které se týkají klávesových zkratek. Na informace o dalších předvolbách klávesových zkratek se můžete podívat do souboru definice schématu <filename>metacity.schemas</filename>.</para>
    </sect2>
    <sect2 id="gconf-14">
      <title>Nastavení předvoleb panelu a objektu panelu</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>předvolby objektu panelu, nastavení</secondary>
      </indexterm>
      <indexterm>
        <primary>GConf</primary>
        <secondary>předvolby panelu, natavení jednotlivých</secondary>
      </indexterm>
      <indexterm>
        <primary>panely</primary>
        <secondary>předvolby, jednotlivé, nastavení s GConf</secondary>
      </indexterm>
      <para>Soubor <filename>panel-default-setup.entries</filename> specifikuje následující detaily panelů v pracovním prostředí GNOME:</para>
      <itemizedlist>
        <listitem>
          <para>Počet panelů</para>
        </listitem>
        <listitem>
          <para>Typy panelů</para>
        </listitem>
        <listitem>
          <para>Vlastnosti panelů</para>
        </listitem>
        <listitem>
          <para>Obsah panelů</para>
        </listitem>
      </itemizedlist>
      <para>Nastavení jednotlivých panelů a objektů panelů je komplexní úkol. Pokud chcete nastavit jednotlivé panely a objekty panelů, musíte nejprve porozumět struktuře souboru <filename>panel-default-setup.entries</filename>. V následujícím oddíle najdete o souboru <filename>panel-default-setup.entries</filename> více informací.</para>
      <para>Když nastavujete předvolby pro jednotlivé panely a objekty panelů, musíte měnit hodnoty mnoha předvoleb ve zdroji nastavení. Nejjednodušší způsob, jak nastavit hodnoty předvoleb panelu je použít příkaz <command>gconftool-2</command> s přepínači <option>--dump</option> a <option>--load</option>. Více informací o tom, jak nastavit předvolby pro panely a objekty panelů viz <xref linkend="gconf-3"/>.</para>
      <sect3 id="gconf-23">
        <title>Specifikace jednotlivých panelů a objektů panelu</title>
        <indexterm>
          <primary>GConf</primary>
          <secondary>soubory definicí schématu</secondary>
          <tertiary>panel a objekt panelu</tertiary>
        </indexterm>
        <indexterm>
          <primary>schémata</primary>
          <secondary>soubory definicí schématu</secondary>
          <tertiary>panel a objekt panelu</tertiary>
        </indexterm>
        <para>Soubor <filename>panel-default-setup.entries</filename> obsahuje oddíly, které specifikují panely a objekty panelů. Určuje hodnoty pro klíče schématu a nachází se ve složce <filename>/etc/gconf/schemas</filename>.</para>
        <para>Soubor <filename>panel-default-setup.entries</filename> má následující strukturu:</para>
        <orderedlist>
          <listitem>
            <para>Klíče, které specifikují všeobecnou strukturu panelů, appletů a dalších objektů panelu v pracovním prostředí GNOME. Následující klíče určují počet panelů, objektů panelu a appletů, které se objeví v pracovním prostředí GNOME:</para>
            <itemizedlist>
              <listitem>
                <para>
                  <systemitem>/apps/panel/default_setup/general/toplevel_id_list</systemitem>
                </para>
              </listitem>
              <listitem>
                <para>
                  <systemitem>/apps/panel/default_setup/general/object_id_list</systemitem>
                </para>
              </listitem>
              <listitem>
                <para>
                  <systemitem>/apps/panel/default_setup/general/applet_id_list</systemitem>
                </para>
              </listitem>
            </itemizedlist>
            <para>Klíče také přiřazují identifikátor každému panelu, objektu panelu a appletu. Např. následující ukázka z <filename>panel-default-setup.entries</filename> specifikuje jeden panel, který se objeví v pracovním prostředí GNOME:</para>
            <programlisting><![CDATA[<entry>
  <key>toplevel_id_list</key>
  <schema_key>/schemas/apps/panel/general/toplevel_id_list</schema_key>
  <value>
    <list type="string">
      <value>
        <string>bottom_panel</string>
      </value>
    </list>
  </value>
</entry>]]></programlisting>
            <para>V souboru <filename>panel-default-setup.entries</filename> je pro panel u spodního okraje určen identifikátor <systemitem>bottom_panel</systemitem>.</para>
          </listitem>
          <listitem>
            <para>Klíče, které specifikují vlastnosti panelů. Klíče s vlastnostmi panelu mají následující strukturu:</para>
            <programlisting>/apps/panel/default_setup/toplevels/<replaceable>název-panelu</replaceable>/<replaceable>klíč-vlastnosti-panelu</replaceable></programlisting>
            <para>Například klíč <systemitem>/apps/panel/default_setup/toplevels/bottom_panel/size</systemitem> určuje velikost spodního panelu.</para>
          </listitem>
          <listitem>
            <para>Klíče, které specifikují objekty panelu, vlastnosti objektů panelu a panely, ve kterých jsou objekty umístěné. Např. následující ukázka z <filename>panel-default-setup.entries</filename> specifikuje objekt <guimenu>Hlavní nabídka</guimenu> v levé části spodního panelu:</para>
            <programlisting><![CDATA[<entrylist base="/apps/panel/default_setup/objects/main_menu">
  <entry>
    <key>object_type</key>
    <schema_key>/schemas/apps/panel/objects/object_type</schema_key>
    <value>
      <string>menu-object</string>
    </value>
  </entry>
  <entry>
    <key>toplevel_id</key>
    <schema_key>/schemas/apps/panel/objects/toplevel_id</schema_key>
    <value>
      <string>bottom_panel</string>
    </value>
  </entry>
  <entry>
    <key>position</key>
    <schema_key>/schemas/apps/panel/objects/position</schema_key>
    <value>
      <int>0</int>
    </value>
  </entry>
  <!-- Possibly more entry elements -->
</entrylist>]]></programlisting>
          </listitem>
          <listitem>
            <para>Klíče, které specifikují applety, předvolby appletů a panely, ve kterých jsou applety umístěné. Například následující ukázka z <filename>panel-default-setup.entries</filename> specifikuje applet <application>Seznam oken</application> ve spodním panelu:</para>
            <programlisting><![CDATA[<entrylist base="/apps/panel/default_setup/applets/window_list">
  <entry>
    <key>object_type</key>
    <schema_key>/schemas/apps/panel/objects/object_type</schema_key>
    <value>
      <string>bonobo-applet</string>
    </value>
  </entry>
  <entry>
    <key>toplevel_id</key>
    <schema_key>/schemas/apps/panel/objects/toplevel_id</schema_key>
    <value>
      <string>bottom_panel</string>
    </value>
  </entry>
  <entry>
    <key>position</key>
    <schema_key>/schemas/apps/panel/objects/position</schema_key>
    <value>
      <int>2</int>
    </value>
  </entry>
  <!-- Possibly more entry elements -->
  <entry>
    <key>bonobo_iid</key>
    <schema_key>/schemas/apps/panel/objects/bonobo_iid_type</schema_key>
    <value>
      <string>OAFIID:GNOME_WindowListApplet</string>
    </value>
  </entry>
</entrylist>]]></programlisting>
            <para>OAFIID je jedinečný identifikátor appletu. Když chcete najít OAFIID pro určitý applet, podívejte se do souboru <filename>.server</filename> onoho appletu ve složce <filename>/usr/lib/bonobo/servers</filename>. Například následující výňatek z <filename>GNOME_Wncklet_Factory.server</filename> ukazuje OAFIID pro applet <application>Seznam oken</application>.</para>
            <programlisting><![CDATA[<oaf_server iid="OAFIID:GNOME_WindowListApplet" 
type="factory" location="OAFIID:GNOME_Wncklet_Factory">]]></programlisting>
          </listitem>
        </orderedlist>
      </sect3>
      <sect3 id="gconf-3">
        <title>Nastavení předvoleb pro jednotlivé panely a objekty panelu</title>
        <para>Pokud chcete nastavit předvolby pro panel a objekty panelu na panelu, postupujte podle těchto kroků:</para>
        <orderedlist>
          <listitem>
            <para>Přihlaste se do sezení GNOME a nastavte panely dle požadavků.</para>
          </listitem>
          <listitem>
            <para>Použijte nástroj příkazové řádky <command>gconftool-2</command> s přepínačem <option>--dump</option> k vygenerování souboru, který obsahuje popis nastavení vašeho panelu ve formátu XML. Přepínač <option>--dump</option> vygeneruje seznam, který obsahuje všechny klíče předvoleb v úložišti <application>GConf</application> ve složce, kterou zadáte.</para>
            <para>Například následující příkaz vytvoří popis ve formátu XML pro nastavení výchozího panelu a uloží jej do souboru s názvem <filename>nastavení-mého-panelu.entries</filename>:</para>
            <screen><userinput>gconftool-2 --dump /apps/panel &gt; nastavení-mého-panelu.entries</userinput></screen>
          </listitem>
          <listitem>
            <para>Otevřete soubor <filename>nastavení-mého-panelu.entries</filename> v textovém editoru a upravte jej dle požadavků.</para>
            <para>Například můžete chtít změnit umístění souborů vstupu pracovního prostředí. Zde je výňatek ze souboru vygenerovaného s přepínačem <option>--dump</option>:</para>
            <programlisting><![CDATA[<entry>
  <key>objects/object_16/launcher_location</key>
  <schema_key>/schemas/apps/panel/objects/launcher_location</schema_key>
  <value>
    <string>hadjaha-00adce02f7.desktop</string>
  </value>
</entry>]]></programlisting>
            <para>V předchozí ukázce můžete chtít změnit odkaz na <filename>hadjaha-00adce02f7.desktop</filename> na jiný soubor vstupu pracovního prostředí, který je globálně dostupný.</para>
            <para>Když generujete nastavení panelu pomocí přepínače <option>--dump</option>, umístění objektů panelu je dáno absolutní pozicí. Můžete chtít změnit umístění objektů panelu z absolutních pozic na relativní pozice. Objekt v nejvíce vlevo na panelu má <systemitem>pozici</systemitem> s hodnotou <literal>0</literal>. Následující objekt má <systemitem>pozici</systemitem> s hodnotou <literal>1</literal> atd. Pokud chcete, aby pozice byla relativní vzhledem k pravé straně panelu, nastavte hodnotu klíče <systemitem>right_stick</systemitem> na <literal>true</literal>.</para>
<!--Give full key name for position.-->
          </listitem>
          <listitem>
            <para>Použijte nástroj příkazové řádky <command>gconftool-2</command> s přepínačem <option>--load</option> k nastavení hodnot zdroje výchozího nastavení na hodnoty v souboru <filename>nastaveni-mého-panelu.entries</filename>. Například následující příkaz nastaví hodnoty klíčů ve zdroji výchozího nastavení na hodnoty odpovídající klíčům v <filename>nastavení-mého-panelu.entries</filename>:</para>
            <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.defaults \
  --load nastaveni-mého-panelu.entries</userinput></screen>
          </listitem>
        </orderedlist>
      </sect3>
    </sect2>
  </sect1>
  <sect1 id="gconf-9">
    <title>Nastavení předvoleb celkového vzhledu</title>
    <para>Následující oddíl popisuje, jak přiřadit povinné nebo výchozí hodnoty předvolbám celkového vzhledu.</para>
    <sect2 id="gconf-19">
      <title>Nastavení předvoleb písma</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>písma, nastavení</secondary>
      </indexterm>
      <indexterm>
        <primary>písma</primary>
        <secondary>nastavení s GConf</secondary>
      </indexterm>
      <para>Pro nastavení předvoleb písma musíte změnit hodnoty dvou klíčů předvoleb. Následující tabulka ukazuje klíče, které je potřeba změnit a části uživatelského rozhraní, které klíči odpovídají:</para>
      <informaltable frame="topbot">
        <tgroup cols="2" colsep="0" rowsep="0">
          <colspec colwidth="50*"/>
          <colspec colwidth="50*"/>
          <thead>
            <row rowsep="1">
              <entry>
                <para>Umístění GConf</para>
              </entry>
              <entry>
                <para>Komponenta uživatelského rozhraní</para>
              </entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry valign="top">
                <para>/desktop/gnome/interface/font_name</para>
              </entry>
              <entry valign="top">
                <para>Nástroj předvolby <application>Písmo</application>, volba <guilabel>Písmo aplikací</guilabel></para>
              </entry>
            </row>
            <row>
              <entry valign="top">
                <para>/apps/nautilus/preferences/desktop_font</para>
              </entry>
              <entry valign="top">
                <para>Nástroj předvolby <application>Písmo</application>, volba <guilabel>Písmo plochy</guilabel></para>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
      <para>Například nastavení písma aplikací na <literal>Sans 12</literal> se provede takovýmto příkazem:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.mandatory \
  --type string \
  --set /desktop/gnome/interface/font_name "Sans 12"</userinput></screen>
      <para><indexterm><primary>pracovní plocha</primary><secondary>předvolby písma, nastavení s GConf</secondary></indexterm>Nastavení výchozího písma pracovní plochy na <literal>palatino 12</literal> se provede takovýmto příkazem:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.defaults \
  --type string \
  --set /apps/nautilus/preferences/desktop_font "palatino 12"</userinput></screen>
    </sect2>
    <sect2 id="gconf-20">
      <title>Nastavení předvoleb pozadí</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>pozadí, nastavení</secondary>
      </indexterm>
      <indexterm>
        <primary>pozadí</primary>
        <secondary>předvolby, nastavení s GConf</secondary>
      </indexterm>
      <para>Pro nastavení předvolby pozadí pracovní plochy změňte hodnoty klíčů předvoleb v umístění <systemitem>/desktop/gnome/background</systemitem>. Například nastavení povinného obrázku na pozadí provedete tímto příkazem:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.mandatory \
  --type string \
  --set /desktop/gnome/background/picture_filename <replaceable>obrázek.png</replaceable></userinput></screen>
      <para>Pokud chcete nastavit výchozí hodnotu pro tuto předvolbu, spusťte následující příkaz:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.defaults \
  --type string \
  --set /desktop/gnome/background/picture_filename <replaceable>obrázek.png</replaceable></userinput></screen>
      <para>Můžete nastavit i další předvolby, které se týkají pozadí. Na informace o dalších předvolbách pozadí se můžete podívat do souboru definice schématu <filename>desktop_gnome_background.schemas</filename>.</para>
    </sect2>
    <sect2 id="gconf-21">
      <title>Nastavení předvoleb úvodního obrázku</title>
      <indexterm>
        <primary>GConf</primary>
        <secondary>úvodní obrázek, nastavení</secondary>
      </indexterm>
      <indexterm>
        <primary>úvodní obrazovka</primary>
        <secondary>obrázek, nastavení s GConf</secondary>
      </indexterm>
      <para>Pro nastavení předvolby úvodního obrázku změňte hodnoty klíčů předvoleb v umístění <systemitem>//apps/gnome-session/options/</systemitem>. Pokud například nechcete, aby se uživatelé pokaždé dívali na úvodní obrázek, nastavte následující povinnou hodnotu:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.mandatory \
  --type bool \
  --set /apps/gnome-session/options/show_splash_screen false</userinput></screen>
      <para>Pokud chcete nastavit výchozí hodnotu pro tuto předvolbu, spusťte následující příkaz:</para>
      <screen><userinput>gconftool-2 --direct \
  --config-source xml:readwrite:/etc/gconf/gconf.xml.defaults \
  --type bool \
  --set /apps/gnome-session/options/show_splash_screen false</userinput></screen>
      <para>Můžete nastavit i další předvolby, které se týkají úvodního obrázku. Na informace o dalších předvolbách úvodního obrázku se můžete podívat do souboru definice schématu <filename>gnome-session.schemas</filename>.</para>
    </sect2>
  </sect1>
  <sect1 id="gconf-28">
    <title>Obnovení výchozích hodnot předvolby</title>
    <indexterm>
      <primary>GConf</primary>
      <secondary>obnovení výchozích hodnot předvolby</secondary>
    </indexterm>
    <indexterm>
      <primary>hodnoty předvoleb</primary>
      <secondary>obnovení výchozích hodnot s GConf</secondary>
    </indexterm>
    <para>Výchozí hodnoty předvolby pro uživatele obnovíte spuštěním tohoto příkazu:</para>
    <screen><userinput>gconftool-2 --direct \
  --config-source <replaceable>zdroj-uživatelského-nastavení</replaceable> \
  --recursive-unset</userinput></screen>
    <para><replaceable>zdroj-uživatelského-nastavení</replaceable> nahraďte zdrojem nastavení ve složce <filename>.gconf</filename> v domovské složce uživatele.</para>
    <para>Tento příkaz obnoví hodnoty všech klíčů předvoleb ve všech podsložkách z uživatelského nastavení na nastavení podle zdroje výchozího nastavení.</para>
  </sect1>
</chapter>


<chapter id="menustructure-0">
  <title>Přizpůsobení nabídek</title>

  <anchor id="menustructure-22"/>

  <anchor id="menustructure-TBL-12"/>

  <anchor id="menustructure-TBL-17"/>

  <highlights>
    <para>Obsahem této kapitoly je popis, jak pracovní prostředí GNOME implementuje nabídky a jak si je můžete přizpůsobit.</para>
  </highlights>

  <sect1 id="menustructure-1">
    <title>Úvod do nabídek</title>

    <indexterm>
      <primary>nabídky</primary>

      <secondary>úvod</secondary>
    </indexterm>

    <para>Pracovní prostředí GNOME implementuje nabídky v souladu se <ulink url="http://www.freedesktop.org/wiki/Standards/menu-spec">Specifikací nabídek od XDG</ulink>. Díky podpoře této specifikace vám  GNOME dává k dispozici:</para>

    <itemizedlist>
      <listitem>
        <para>Snadné přizpůsobení hierarchie nabídek. Kvůli přizpůsobení hierarchie nabídky stačí upravit jen pár souborů. Nemusíte měnit vaši aplikaci nebo přesouvat soubory.</para>
      </listitem>

      <listitem>
        <para>Snadnou instalaci aplikací. Nemusíte aplikaci, když ji instalujete, poskytovat informace o hierarchii nabídky.</para>
      </listitem>

      <listitem>
        <para>Nastavení nabídek tak, že je uživatel nemůže změnit.</para>
      </listitem>
    </itemizedlist>

    <para>Nabídky v pracovním prostředí GNOME používají následující komponenty:</para>

    <itemizedlist>
      <listitem>
        <para>Soubory s definicí nabídky</para>
      </listitem>

      <listitem>
        <para>Soubory vstupu pracovního prostředí</para>
      </listitem>

      <listitem>
        <para>Soubory vstupu složky</para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 id="menustructure-13">
    <title>Soubory s definicí nabídky</title>

    <indexterm>
      <primary>soubory s definicí nabídky</primary>
    </indexterm>

    <indexterm>
      <primary>soubory .menu</primary>

      <see>soubory s definicí nabídky</see>
    </indexterm>

    <para>Soubory nabídek definují hierarchii nabídek, kterou používá panel nabídek GNOME. Změnou těchto souborů můžete přizpůsobit nabídky pro všechny uživatele nebo pro jednoho uživatele, v závislosti na umístění souboru <filename>applications.menu</filename>, který měníte.</para>

    <para>Soubory nabídek musí být umístěné v <filename>$XDG_CONFIG_DIRS/menus/applications.menu</filename>. Pokud není <envar>$XDG_CONFIG_DIRS</envar><footnote>
        <para>$XDG_CONFIG_DIRS je proměnná prostředí, kterou definuje <ulink url="http://www.freedesktop.org/Standards/basedir-spec">Specifikace základních složek od XDG</ulink>.</para>
      </footnote> nastavená, použije se výchozí cesta <filename>/etc/xdg</filename>. Rovněž je implementováno, že lze do umístění <filename>$XDG_CONFIG_HOME/menus/applications.menu</filename> uložit uživatelem vytvořenou verzi, která se prohledá jako první. Pokud není <envar>$XDG_CONFIG_HOME</envar> nastavená, použije se výchozí cesta <filename>~/.config</filename>. Složky, které se vyskytují v <envar>$XDG_CONFIG_DIRS</envar> jako první jsou brané přednostně při více souborech <filename>applications.menu</filename>. První nalezený soubor se použije a ostatní soubory jsou ignorovány.</para>

    <para>V případě, že jste z pořadí, ve kterém se cesty prohledávají, zmateni, tak zde je jednoduchý seznam postupu rozhodování o umístění <filename>applications.menu</filename>:</para>

    <orderedlist>
      <listitem>
        <para>Prohledá se každá složka z <envar>$XDG_CONFIG_HOME</envar> v zadaném pořadí, zda se v ní nenachází <filename>menus/applications.menu</filename>. Pokud není <envar>$XDG_CONFIG_HOME</envar> nastavená, použije se výchozí složka <filename>~/.config/</filename>.</para>
      </listitem>

      <listitem>
        <para>Prohledá se každá složka z <envar>$XDG_CONFIG_DIRS</envar> v zadaném pořadí, zda se v ní nenachází <filename>menus/applications.menu</filename>. Pokud není <envar>$XDG_CONFIG_DIRS</envar> nastavená, použije se výchozí složka <filename>/etc/xdg/</filename>.</para>
      </listitem>

      <listitem>
        <para>Použije se první nalezený soubor <filename>applications.menu</filename>.</para>
      </listitem>
    </orderedlist>

    <para><xref linkend="example-menu"/> obsahuje ukázku souboru <filename>.menu</filename>. V tomto příkladu se nejvyšší nabídka nazývá <literal>Aplikace</literal>, což je dáno elementem <literal>&lt;Name&gt;</literal>. Nabídka <literal>Aplikace</literal> obsahuje jednu podnabídku, ale může jich být více. Každá podnabídka může také mít element <literal>&lt;Include&gt;</literal>.  Účelem elementu <literal>&lt;Include&gt;</literal> je provádět filtrování sady dostupných vstupů pracovního prostředí pomocí srovnávacích pravidel.</para>

    <para>Například element <literal>&lt;Category&gt;</literal> je základní srovnávací pravidlo, které vybere <link linkend="menustructure-desktopentry"><emphasis>vstup pracovního prostředí</emphasis></link> pouze v případě, že <link linkend="category-key">klíč <literal>Categories</literal></link> obsahuje hodnotu elementu <literal>&lt;Category&gt;</literal>. V příkladu bude nabídka <literal>Příslušenství</literal> zahrnovat <emphasis>vstupy pracovního prostředí</emphasis> jen v případě, že budou mít v klíči Categories uvedeno <quote>Pomůcky</quote>, ale ne <quote>Systém</quote>. Více o klíči Categories uvádí <xref linkend="menustructure-desktopentry"/>.</para>

    <example id="example-menu">
      <title>Příklad souboru <filename>.menu</filename></title>

      <para><programlisting>&lt;!DOCTYPE Menu PUBLIC "-//freedesktop//DTD Menu 1.0//EN"
 "http://www.freedesktop.org/standards/menu-spec/1.0/menu.dtd"&gt;
&lt;Menu&gt;
  &lt;Name&gt;Aplikace&lt;/Name&gt;
  &lt;Directory&gt;Applications.directory&lt;/Directory&gt;

  &lt;!-- Read standard .directory and .desktop file locations --&gt;
  &lt;DefaultAppDirs/&gt;
  &lt;DefaultDirectoryDirs/&gt;

  &lt;!-- Accessories submenu --&gt;
  &lt;Menu&gt;
    &lt;Name&gt;Příslušenství&lt;/Name&gt;
    &lt;Directory&gt;Accessories.directory&lt;/Directory&gt;
    &lt;Include&gt;
      &lt;And&gt;
        &lt;Category&gt;Pomůcky&lt;/Category&gt;
        &lt;Not&gt;
          &lt;Category&gt;Systém&lt;/Category&gt;
        &lt;/Not&gt;
      &lt;/And&gt;
    &lt;/Include&gt;
  &lt;/Menu&gt; &lt;!-- End Accessories --&gt;

  &lt;!-- possibly more submenus --&gt;

&lt;/Menu&gt; &lt;!-- End Applications --&gt;
</programlisting></para>
    </example>

    <para><xref linkend="menustructure-xmlmenu"/> popisuje některé z elementů v souborech <filename>.menu</filename>. Úplný popis najdete ve <ulink url="http://www.freedesktop.org/wiki/Standards/menu-spec">Specifikaci nabídek od XDG</ulink>.</para>

    <table frame="topbot" id="menustructure-xmlmenu">
      <title>Elementy souboru s definicí nabídky</title>

      <tgroup cols="2" colsep="0" rowsep="0">
        <colspec colname="colspec2" colwidth="33.83*"/>

        <colspec colname="colspec3" colwidth="80.00*"/>

        <thead>
          <row rowsep="1">
            <entry><para>Element</para></entry>

            <entry><para>Popis</para></entry>
          </row>
        </thead>

        <tbody>
          <row>
            <entry colname="colspec2" valign="top"><para><literal>&lt;Menu&gt;</literal> </para></entry>

            <entry colname="colspec3" valign="top"><para>Kořenový element, který může obsahovat vnořené elementy <literal>&lt;Menu&gt;</literal> definující podnabídky. Tím jak jsou elementy vnořené je daná struktura nabídky.</para></entry>
          </row>

          <row>
            <entry colname="colspec2" valign="top"><para><literal>&lt;Name&gt;</literal> </para></entry>

            <entry colname="colspec3" valign="top"><para>Určuje název nabídky. Každý element <literal>&lt;Menu&gt;</literal> musí obsahovat element <literal>&lt;Name&gt;</literal>.</para></entry>
          </row>

          <row>
            <entry colname="colspec2" valign="top"><para><literal>&lt;Directory&gt;</literal>
            </para></entry>

            <entry colname="colspec3" valign="top"><para>Určuje název souboru se vstupy složek, který určuje název, komentář a ikonu pro nabídku. Pokud tento element schází, použije se pro zobrazení názvu nabídky element <literal>&lt;Name&gt;</literal>.</para><para>Standardně se soubory <filename>.directory</filename> hledají v umístění <filename>$XDG_DATA_DIRS/desktop-directories/</filename>, jak určuje <citetitle>Specifikace nabídek od XDG</citetitle>.</para></entry>
          </row>

          <row>
            <entry colname="colspec2"><literal>&lt;DefaultAppDirs&gt;</literal></entry>

            <entry colname="colspec3">Jedná se o instrukci, která označuje, že by se měly prohledat všechny dostupné vstupy pracovního prostředí z <filename>$XDG_DATA_DIRS/applications/</filename>. Pokud tato instrukce není obsažena, nejsou v těchto umístěních vyhledávány vstupy pracovního prostředí.</entry>
          </row>

          <row>
            <entry colname="colspec2"><literal>&lt;DefaultDirectoryDirs&gt;</literal></entry>

            <entry colname="colspec3">Jedná se o instrukci, která označuje, že by se měly prohledat všechny dostupné vstupy pracovního prostředí z <filename>$XDG_DATA_DIRS/desktop-directories/</filename>. Pokud tato instrukce není obsažena, nejsou v těchto umístěních vyhledávány vstupy pracovního prostředí.</entry>
          </row>

          <row>
            <entry colname="colspec2" valign="top"><para><literal>&lt;Include&gt;</literal></para></entry>

            <entry colname="colspec3">Obsahuje seznam srovnávacích pravidel, na základě kterých se generuje obsah nabídky. Může obsahovat srovnávací pravidla <literal>&lt;Filename&gt;</literal>, <literal>&lt;Category&gt;</literal>, <literal>&lt;And&gt;</literal>, <literal>&lt;Or&gt;</literal>, <literal>&lt;Not&gt;</literal> nebo <literal>&lt;All&gt;</literal>. Pokud se vyskytuje více než jedno pravidlo, vážou se logickým NEBO, takže se ve výsledku objeví <emphasis>vstupy pracovního prostředí</emphasis>, které vyhovují kterémukoliv z pravidel.</entry>
          </row>

          <row>
            <entry colname="colspec2"><literal>&lt;Exclude&gt;</literal></entry>

            <entry colname="colspec3">Je opakem k <literal>&lt;Include&gt;</literal>, takže <emphasis>vstupy pracovního prostředí</emphasis>, který se podle tohoto elementu shodují, se vyjmou z množiny vytvořené předchozím vkládacím elementem. Z tohoto důvodu se tento element musí nacházet až za elementem <literal>&lt;Include&gt;</literal>.</entry>
          </row>

          <row>
            <entry colsep="colspec2"><literal>&lt;Filename&gt;</literal></entry>

            <entry colname="colspec3">Srovnávací pravidlo, které vybere <emphasis>vstup pracovního prostředí</emphasis> za podmínky, že Desktop File-Id odpovídá obsahu elementu <literal>&lt;Filename&gt;</literal>.</entry>
          </row>

          <row>
            <entry colname="colspec2"><literal>&lt;Category&gt;</literal></entry>

            <entry colname="colspec3">Srovnávací pravidlo, které vybere <emphasis>vstup pracovního prostředí</emphasis> za podmínky, že klíč Categories odpovídá obsahu elementu <literal>&lt;Category&gt;</literal>.</entry>
          </row>

          <row>
            <entry colname="colspec2"><literal>&lt;And&gt;</literal></entry>

            <entry colname="colspec3">Srovnávací pravidlo, které vybere <emphasis>vstup pracovního prostředí</emphasis> za podmínky, že je vybraný <emphasis>všemi</emphasis> vnořenými srovnávacími pravidly v elementu <literal>&lt;And&gt;</literal>.</entry>
          </row>

          <row>
            <entry colname="colspec2"><literal>&lt;Or&gt;</literal></entry>

            <entry colname="colspec3">Srovnávací pravidlo, které vybere <emphasis>vstup pracovního prostředí</emphasis> za podmínky, že je vybraný <emphasis>libovolným</emphasis> vnořeným srovnávacím pravidlem v elementu <literal>&lt;Or&gt;</literal>.</entry>
          </row>

          <row>
            <entry colname="colspec2"><literal>&lt;Not&gt;</literal></entry>

            <entry colname="colspec3">Srovnávací pravidlo, které nevybere <emphasis>vstup pracovního prostředí</emphasis> za podmínky, že je vybraný <emphasis>libovolným</emphasis> vnořeným srovnávacím pravidlem v elementu <literal>&lt;Not&gt;</literal>.</entry>
          </row>

          <row>
            <entry colname="colspec2"><literal>&lt;All&gt;</literal></entry>

            <entry colname="colspec3">Srovnávací pravidlo, které vybere všechny <emphasis>vstupy pracovního prostředí</emphasis>.</entry>
          </row>
        </tbody>
      </tgroup>
    </table>
  </sect1>

  <sect1 id="menustructure-desktopentry">
    <title>Soubor vstupu pracovního prostředí</title>

    <anchor id="menustructure-6"/>

    <indexterm>
      <primary>soubor vstupu pracovního prostředí</primary>
    </indexterm>

    <indexterm>
      <primary>soubory .desktop</primary>

      <see>soubor vstupu pracovního prostředí</see>
    </indexterm>

    <para><firstterm>Soubor vstupu pracovního prostředí</firstterm> je datový soubor, který poskytuje informace o položkách nabídky. Soubor vstupu pracovního prostředí určuje podrobnosti pro položku, jako je název, příkaz ke spuštění, ikona atd. Rovněž obsahuje klíčová slova, která určují umístění položky v hierarchii nabídky.</para>

    <para>Soubor vstupu pracovního prostředí musí být umístěný ve složce <filename>$XDG_DATA_DIRS/applications</filename> a musí mít příponu <filename>.desktop</filename>. Pokud není <envar>$XDG_DATA_DIRS</envar><footnote>
        <para>$XDG_DATA_DIRS je proměnná prostředí definovaná ve <ulink url="http://www.freedesktop.org/Standards/basedir-spec">Specifikaci základních složek od XDG</ulink>.</para>
      </footnote> nastavená, použije se výchozí cesta <filename>/usr/share</filename>. Rovněž se předpokládá, že uživatelem zadané vstupy pracovního prostředí jsou umístěné v <filename>$XDG_DATA_HOME/applications</filename>, které je prohledaná jako první. Pokud není <envar>$XDG_DATA_HOME</envar><footnote>
        <para>$XDG_DATA_DIRS je proměnná prostředí definovaná ve <ulink url="http://www.freedesktop.org/Standards/basedir-spec">Specifikaci základních složek od XDG</ulink>.</para>
      </footnote> nastavená, použije se výchozí cesta <filename>~/.local/shar</filename>. Vstupy pracovní plochy jsou sesbírané ze všech složek z proměnné prostředí <envar>$XDG_DATA_DIRS</envar>. Složky, které se vyskytují v <envar>$XDG_DATA_DIRS</envar> jako první, mají v případě výskytu stejných souborů <filename>.desktop</filename> přednost.</para>

    <para>Zde je ukázka souboru vstupu pracovního prostředí:</para>

    <programlisting>[Desktop Entry]
Encoding=UTF-8
Name=Calculator
Name[cs]=Kalkulačka
Name[fr]=Calculatrice
...
Comment=Perform calculations
Comment[cs]=Provádí výpočty
Comment[fr]=Effectue des calculs compliqués
...
Exec=gcalctool
Icon=accessories-calculator
Terminal=false
Type=Application
StartupNotify=true
Categories=GNOME;GTK;Utility;Calculator</programlisting>

    <para><xref linkend="menustructure-TBL-7"/> popisuje nejdůležitější klíče v souborech vstupu pracovního prostředí. Více informací o souborech vstupu pracovního prostředí naleznete ve <ulink url="http://www.freedesktop.org/Standards/desktop-entry-spec">Specifikaci vstupu pracovního prostředí od XDG</ulink>.</para>

    <table frame="topbot" id="menustructure-TBL-7">
      <title>Klíče vstupu pracovního prostředí</title>

      <tgroup cols="2" colsep="0" rowsep="0">
        <colspec colname="colspec0" colwidth="25.25*"/>

        <colspec colname="colspec1" colwidth="74.75*"/>

        <thead>
          <row rowsep="1">
            <entry><para>Klíč vstupu pracovního prostředí</para></entry>

            <entry><para>Popis</para></entry>
          </row>
        </thead>

        <tbody>
          <row>
            <entry colname="colspec0" id="category-key" valign="top"><para>
            <literal>Categories</literal> </para></entry>

            <entry colname="colspec1" valign="top"><para>Určuje klíčová slova, která položku popisují. Klíčová slova jsou navzájem oddělená středníkem (;). Jestli chcete, můžete se podívat na seznam klíčových slov standardních kategorií na <ulink url="http://www.freedesktop.org/Standards/menu-spec"> http://www.freedesktop.org/Standards/menu-spec</ulink>.</para><para><link linkend="menustructure-13">Soubory definice nabídky</link> mapují vstupy pracovního prostředí na nabídky s použitím srovnávacích pravidel vůči klíči Categories.</para></entry>
          </row>

          <row>
            <entry valign="top"><para> <literal>Comment</literal>
            </para></entry>

            <entry valign="top"><para>Určuje krátký popis položky. Komentář se zobrazí jako bublina s popisem, když na položku nabídky najedete ukazatelem.</para></entry>
          </row>

          <row>
            <entry valign="top"><para> <literal>Encoding</literal>
            </para></entry>

            <entry valign="top"><para>Určuje kódování souboru vstupu pracovního prostředí.</para></entry>
          </row>

          <row>
            <entry valign="top"><para> <literal>Exec</literal> </para></entry>

            <entry valign="top"><para>Určuje příkaz, který se má spustit, když zvolíte položku z nabídky.</para></entry>
          </row>

          <row>
            <entry colname="colspec0" valign="top"><para>
            <literal>Icon</literal> </para></entry>

            <entry colname="colspec1" valign="top"><para>Určuje název souboru s ikonou, která položku představuje. Neobsahuje cestu k souboru ani příponu souboru.</para></entry>
          </row>

          <row>
            <entry><literal>MimeType</literal></entry>

            <entry>Určuje typ MIME, který aplikace může obsluhovat.</entry>
          </row>
         
          <row>
            <entry valign="top"><para> <literal>Name</literal> </para></entry>

            <entry valign="top"><para>Určuje název položky. Tento název s zobrazuje v položce v nabídce.</para></entry>
          </row>

          <row>
            <entry valign="top"><para> <literal>NoDisplay</literal> </para></entry>

            <entry valign="top"><para>Tato možnost znamená <quote>Tato aplikace existuje, ale v nabídce ji neukazujte</quote>.</para></entry>
          </row>

          <row>
            <entry colname="colspec0" valign="top"><para>
            <literal>Terminal</literal> </para></entry>

            <entry colname="colspec1" valign="top"><para>Určuje, zda se příkaz v klíči <literal>Exec</literal> spouští v terminálovém okně. Jestliže je hodnota <literal>true</literal>, spustí se příkaz v terminálovém okně.</para><para>V případě, že příkaz nevytváří okno, ve kterém by mohl běžet, musí být hodnota tohoto klíče <literal>true</literal>.</para></entry>
          </row>

          <row>
            <entry colname="colspec0" valign="top"><para>
            <literal>Type</literal> </para></entry>

            <entry colname="colspec1" valign="top"><para>Určuje typ položky. Hodnota může být jedna z těchto:</para><itemizedlist>
                <listitem>
                  <para><literal>Application</literal>: Položka spouští aplikaci.</para>
                </listitem>

                <listitem>
                  <para><literal>Link</literal>: Položka odkazuje na soubor, složku nebo vzdálený zdroj (jak je FTP server, webová stránka, sdílení Windows...).</para>
                </listitem>

                <listitem>
                  <para><literal>FSDevice</literal>: Položka je zařízení souborového systému.</para>
                </listitem>

                <listitem>
                  <para><literal>Directory</literal>: Položka je složka.</para>
                </listitem>
              </itemizedlist></entry>
          </row>

        </tbody>
      </tgroup>
    </table>

    <para>Pokud se chcete dovědět další informace o klíčích v souborech vstupu pracovního prostředí, pročtěte si specifikaci vstupu pracovního prostředí na adrese:</para>

    <literallayout>
    <ulink url="http://www.freedesktop.org/Standards/desktop-entry-spec">http://www.freedesktop.org/Standards/desktop-entry-spec</ulink>
    </literallayout>

    <note>
      <para>Spouštěče panelů a objekty pracovní plochy rovněž používají soubory vstupu pracovního prostředí. Soubory vstupu pracovního prostředí pro spouštěče a objekty pracovní plochy poskytují ty samé informace, jako pro položky nabídky. Například soubory vstupu pracovního prostředí poskytují příkazy pro spuštění, když uživatel zvolí spouštěč nebo objekt.</para>
    </note>
  </sect1>

  <sect1 id="menustructure-14">
    <title>Soubory vstupu složky</title>

    <indexterm>
      <primary>soubory vstupu složky</primary>
    </indexterm>

    <indexterm>
      <primary>soubory .directory</primary>

      <see>soubory vstupu složky</see>
    </indexterm>

    <para><firstterm>Soubor vstupu složky</firstterm> je datový soubor, který poskytuje informace o nabídce. Soubor vstupu složky určuje podrobnosti pro nabídku, jako je název, stručná nápověda a ikona. Soubory vstupu složky mají příponu <filename>.directory</filename>.</para>

    <para>Soubory vstupu složky musí být umístěné ve složce <filename>$XDG_DATA_DIRS/desktop-directories</filename>. V případě, že <envar>$XDG_DATA_DIRS</envar> není nastavená, použije se výchozí cesta <filename>/usr/share</filename>. Rovněž se předpokládá, že uživatelem zadané vstupy složky, jsou umístěné v <filename>$XDG_DATA_HOME/desktop-directories</filename>, která je prohledávaná jako první. V případě, že <envar>$XDG_DATA_HOME</envar> není nastavená, použije se výchozí cesta <filename>~/.local/share</filename>. Vstupy složky jsou sesbírané ze všech složek uvedených v proměnné prostředí <envar>$XDG_DATA_DIRS</envar>. Složky, které jsou v <envar>$XDG_DATA_DIRS</envar> uvedené jako první, mají v případě výskytu více stejných souborů <filename>.directory</filename> přednost.</para>

    <para>Zde je ukázka souboru vstupu složky:</para>

    <programlisting>[Desktop Entry]
Name=Graphics
Name[cs]=Grafika
Name[fr]=Graphisme
...
Comment=Graphics applications
Comment[cs]=Grafické aplikace
Comment[fr]=Applications graphiques
...
Icon=gnome-graphics
Type=Directory
Encoding=UTF-8</programlisting>

    <para><xref linkend="menustructure-TBL-15"/> popisuje nejdůležitější klíče souborů vstupu složky.</para>

    <table frame="topbot" id="menustructure-TBL-15">
      <title>Klíče vstupu složky</title>

      <tgroup cols="2" colsep="0" rowsep="0">
        <colspec colname="colspec0" colwidth="27.07*"/>

        <colspec colname="colspec1" colwidth="72.93*"/>

        <thead>
          <row rowsep="1">
            <entry><para>Klíč vstupu složky</para></entry>

            <entry><para>Popis</para></entry>
          </row>
        </thead>

        <tbody>
          <row>
            <entry colname="colspec0" valign="top"><para>
            <literal>Name</literal> </para></entry>

            <entry colname="colspec1" valign="top"><para>Určuje název nabídky. Tento název se zobrazí v nabídce.</para></entry>
          </row>

          <row>
            <entry colname="colspec0" valign="top"><para>
            <literal>Comment</literal> </para></entry>

            <entry colname="colspec1" valign="top"><para>Určuje stručný popis nabídky. Komentář se zobrazí jako bublina se stručný popisem, když na nabídku najedete ukazatelem.</para></entry>
          </row>

          <row>
            <entry colname="colspec0" valign="top"><para>
            <literal>Icon</literal> </para></entry>

            <entry colname="colspec1" valign="top"><para>Určuje název souboru s ikonou, která představuje nabídku. Neobsahuje cestu k souboru ani příponu souboru.</para></entry>
          </row>

          <row>
            <entry valign="top"><para> <literal>Type</literal> </para></entry>

            <entry valign="top"><para>Určuje typ nabídky. Hodnota tohoto klíče je vždy <literal>Directory</literal>.</para></entry>
          </row>
        </tbody>
      </tgroup>
    </table>
  </sect1>

  <sect1 id="menustructure-2">
    <title>Úprava systémových nabídek</title>

    <anchor id="menustructure-23"/>

    <indexterm>
      <primary>nabídky</primary>

      <secondary>úprava</secondary>
    </indexterm>

    <para>Můžete ručně upravovat soubory nastavení nabídek a soubory s daty nabídek, abyste si nabídky přizpůsobili.</para>

    <sect2 id="menustructure-3">
      <title>Přidávání nabídek</title>

      <anchor id="menustructure-19"/>

      <anchor id="menustructure-20"/>

      <indexterm>
        <primary>nabídky</primary>

        <secondary>přidávání</secondary>
      </indexterm>

      <para>Pokud chcete přidat nabídku pro všechny uživatele, postupujte následovně:</para>

      <orderedlist>
        <listitem>
          <para>Vytvořte soubor vstupu složky pro položku, kterou chcete přidat. Umístěte jej do složky <filename>$XDG_DATA_DIRS/desktop-directories</filename>. Informace o souborech vstupu složky viz <xref linkend="menustructure-14"/>.</para>
        </listitem>

        <listitem>
          <para>Najděte soubor <filename>$XDG_CONFIG_DIRS/menus/applications.menu</filename>.</para>
        </listitem>

        <listitem>
          <para>Do souboru <filename>.menu</filename> přidejte element <literal>&lt;Menu&gt;</literal> pro novou nabídku. Informace o souborech <filename>.menu</filename> viz <xref linkend="menustructure-13"/>.</para>
        </listitem>

        <listitem>
          <para>Vytvořte v <literal>&lt;Menu&gt;</literal> element <literal>&lt;Name&gt;</literal>. Obsah elementu by měl být název nabídky.</para>
        </listitem>

        <listitem>
          <para>Vytvořte v <literal>&lt;Menu&gt;</literal> element <literal>&lt;Directory&gt;</literal>. Obsahem elementu by měl být název souboru vstupu složky.</para>
        </listitem>

        <listitem>
          <para><xref linkend="menustructure-4"/> vám podá popis, jak přidat položku do nabídky.</para>
        </listitem>
      </orderedlist>

      <para>Až se uživatel příště přihlásí, nabídka by se měla objevit v panelu nabídek.</para>

      <note>
        <title>Nabídka schází?</title>

        <para>Pokud nezadáte žádné srovnávací pravidlo v elementu <literal>&lt;Include&gt;</literal> a nebo pravidlo neodpovídá některému vstupu pracovního prostředí, pak nemusíte nabídku na panelu nabídek vidět.</para>
      </note>
    </sect2>

    <sect2 id="menustructure-4">
      <title>Přidávání položky do nabídky</title>

      <indexterm>
        <primary>nabídky</primary>

        <secondary>přidávání položek do</secondary>
      </indexterm>

      <para>Pokud chcete pro všechny uživatele přidat do nabídky položku, postupujte následovně:</para>

      <orderedlist>
        <listitem>
          <para>Vytvořte soubor vstupu pracovního prostředí pro položku, kterou hodláte přidat. Informace o souborech vstupu pracovního prostředí viz <xref linkend="menustructure-desktopentry"/>.</para>
        </listitem>

        <listitem>
          <para>Umístěte soubor vstupu pracovního prostředí do složky <filename>$XDG_DATA_DIRS/applications</filename>.</para>
        </listitem>

        <listitem>
          <para>Najděte soubor <filename>$XDG_CONFIG_DIRS/menus/applications.menu</filename>.</para>
        </listitem>

        <listitem>
          <para>Zkontrolujte, zda element <literal>&lt;Menu&gt;</literal> obsahuje element <literal>&lt;Include&gt;</literal> se srovnávacím pravidlem, které vybere soubor vstupu pracovního prostředí vytvořený v kroku 1.</para>
        </listitem>
      </orderedlist>

      <para>Až se uživatel příště přihlásí, bude položka nabídky na správném místě.</para>
    </sect2>

    <sect2 id="menustructure-9">
      <title>Úprava vlastností nabídky</title>

      <indexterm>
        <primary>nabídky</primary>

        <secondary>úprava vlastností</secondary>
      </indexterm>

      <para>Pokud chcete pro všechny uživatele upravit vlastnosti nabídky, postupujte následovně:</para>

      <orderedlist>
        <listitem>
          <para>Najděte soubor <filename>$XDG_CONFIG_DIRS/menus/applications.menu</filename>.</para>
        </listitem>

        <listitem>
          <para>Najděte v tomto souboru vstup <literal>&lt;Menu&gt;</literal>, který odpovídá nabídce, kterou chcete upravit. Poznamenejte si název souboru vstupu složky v elementu <literal>&lt;Directory&gt;</literal>.</para>
        </listitem>

        <listitem>
          <para>Najděte vstup složky pro tuto nabídku. Změňte obsah a tím i vlastnosti nabídky. Informace o souborech <filename>.directory</filename> viz <xref linkend="menustructure-14"/>.</para>
        </listitem>
      </orderedlist>
    </sect2>

    <sect2 id="menustructure-10">
      <title>Úprava položky nabídky</title>

      <indexterm>
        <primary>nabídky</primary>

        <secondary>úprava položky nabídky</secondary>
      </indexterm>

      <para>Pokud chcete upravit položku nabídky, postupujte následovně:</para>

      <orderedlist>
        <listitem>
          <para>Najděte vstup pracovního prostředí, který odpovídá položce nabídky, ve složce <filename>$XDG_DATA_DIRS/applications</filename>.</para>
        </listitem>

        <listitem>
          <para>Upravte vstup pracovního prostředí a tím i vlastnosti položky nabídky. Informace o souborech vstupu pracovního prostředí viz <xref linkend="menustructure-desktopentry"/>.</para>
        </listitem>
      </orderedlist>
    </sect2>

    <sect2 id="menustructure-11">
      <title>Mazání položek z nabídky</title>

      <indexterm>
        <primary>nabídky</primary>

        <secondary>mazání položek nabídky</secondary>
      </indexterm>

      <para>Pokud chcete pro všechny uživatele smazat položku z nabídky:</para>

      <orderedlist>
        <listitem>
          <para>Najděte soubor <filename>$XDG_CONFIG_DIRS/menus/applications.menu</filename>.</para>
        </listitem>

        <listitem>
          <para>Najděte v tomto souboru element <literal>&lt;Menu&gt;</literal>, který obsahuje vstup pracovního prostředí, který chcete smazat.</para>
        </listitem>

        <listitem>
          <para>Vložte element <literal>&lt;Exclude&gt;</literal> za uzavírací značku elementu <literal>&lt;Include&gt;</literal>. Ujistěte se, že se nachází v elementu <literal>&lt;Menu&gt;</literal> určeném v kroku 2.</para>
        </listitem>

        <listitem>
          <para>Vložte jako vnořený element elementu <literal>&lt;Exclude&gt;</literal> srovnávací pravidlo <literal>&lt;Filename&gt;</literal> kvůli vyjmutí vstupu pracovního prostředí.</para>
        </listitem>
      </orderedlist>

      <para>Až se uživatel příště přihlásí, položka nebude v nabídce zobrazená. <xref linkend="menustructure-deleteitem"/> ukazuje, jak je to udělané v souboru <filename>applications.menu</filename>. Vstup pracovního prostředí <filename>dasher.desktop</filename> je výslovně vyřazený ze zobrazování v nabídce přístupnosti.</para>

      <example id="menustructure-deleteitem">
        <title>Mazání položek z nabídky</title>

        <programlisting>&lt;!-- ... --&gt;

  &lt;Menu&gt;
    &lt;Name&gt;Accessibility&lt;/Name&gt;
    &lt;Directory&gt;Accessibility.directory&lt;/Directory&gt;
    &lt;Include&gt;
      &lt;And&gt;
        &lt;Category&gt;Accessibility&lt;/Category&gt;
        &lt;Not&gt;&lt;Category&gt;Settings&lt;/Category&gt;&lt;/Not&gt;
      &lt;/And&gt;
    &lt;/Include&gt;
    &lt;Exclude&gt;
      &lt;Filename&gt;dasher.desktop&lt;/Filename&gt;
    &lt;/Exclude&gt;
  &lt;/Menu&gt;

&lt;!-- ... --&gt;
</programlisting>
      </example>
    </sect2>
  </sect1>

  <sect1 id="menustructure-usermenus">
    <title>Úprava uživatelských nabídek a připojování nabídky</title>

    <indexterm>
      <primary>nabídky</primary>

      <secondary>úprava uživatelských nabídek</secondary>
    </indexterm>

    <para>K úpravě nabídek pro uživatele můžete použít následující aplikace pracovního prostředí GNOME:</para>

    <itemizedlist>
      <listitem>
        <para>Editor nabídek</para>
      </listitem>
    </itemizedlist>

    <para>Pro uživatele je k dispozici jednoduchý editor nabídek, aby si mohli upravovat své nabídky. Více informací najdete v kapitole <ulink url="ghelp:user-guide?goseditmainmenu-1">Práce s nabídkami</ulink> v <ulink url="ghelp:user-guide">Uživatelské příručce GNOME</ulink>. Samozřejmě máte možnost vytvářet a upravovat soubory uživatelských nabídek ručeně.</para>

    <para>Abyste mohli vytvářet vlastní nabídky pro uživatele, musí existovat <filename>$XDG_CONFIG_HOME/menus/applications.menu</filename>. V případě, že není nastavená <envar>$XDG_CONFIG_HOME</envar>, použije se výchozí složka <filename>~/.config</filename>. Vzhledem k tomu, že se jedná o první umístění, ve kterém se hledá soubor <filename>applications.menu</filename>, má přednost před všemi ostatními soubory nabídek.</para>

    <para>Uživatelské nabídky mohou obsahovat všechny elementy, které popisuje <xref linkend="menustructure-13"/>. Kompletní seznam povolených elementů najdete ve <ulink url="http://www.freedesktop.org/wiki/Standards/menu-spec">Specifikaci nabídky do XDG</ulink>.</para>

    <para>Vzhledem k tomu, že soubory uživatelských nabídek mají přednost před soubory systémové nabídky, úplně nahradí systémovou nabídku, ledaže systémovou nabídku vyloženě <emphasis>připojíte</emphasis>. Informace o připojování nabídky jsou uvedené v následující podkapitole.</para>

    <sect2>
      <title>Připojování systémové nabídky</title>

      <indexterm>
        <primary>nabídky</primary>

        <secondary>připojování systémové nabídky</secondary>
      </indexterm>

      <para>Uživatel chce často jen přidat nebo smazat položky standardní systémové nabídky. Pro takové případy jednoduchých změn je doporučené, abyste použili element <literal>&lt;MergeFile&gt;</literal> s atributem <literal>type="parent"</literal> v uživatelově souboru <filename>applications.menu</filename>.</para>

      <para>Element <literal>&lt;MergeFile&gt;</literal> dovoluje nabídku připojit k obsahu souboru uživatelovy nabídky. Když zadáte atribut <literal>type="parent"</literal>, obsah elementu <literal>&lt;MergeFile&gt;</literal> je ignorován a k připojení je použit následující soubor <filename>applications.menu</filename> ve složce <filename>$XDG_CONFIG_DIRS/menus</filename>.</para>

      <note>
        <title>Starší specifikace</title>

        <para>Starší specifikace neobsahuje atribut <literal>type</literal> a jednoduše vyžaduje umístění souboru nabídky, která se má připojit, jako obsah elementu <literal>&lt;MergeFile&gt;</literal>. Výsledkem je, že stále můžete vidět umístění zadané jako obsah <literal>&lt;MergeFile&gt;</literal>, přestože je uvedeno <literal>type="parent"</literal>.</para>
      </note>

      <para>Připojování se provádí následovně:</para>

      <itemizedlist>
        <listitem>
          <para>Element <literal>&lt;MergeFile&gt;</literal> v souboru základní nabídky je zastupován pomocí potomka kořenového elementu <literal>&lt;Menu&gt;</literal>v souboru připojené nabídky<footnote>
              <para>Přípojený soubor nabídky odkazuje na následující <filename>applications.menu</filename> ve složce <filename>$XDG_CONFIG_DIRS/menus</filename>.</para>
            </footnote>.</para>
        </listitem>

        <listitem>
          <para>Všichni potomci elementů <literal>&lt;Menu&gt;</literal> se stejným názvem jsou sloučeni do jednoho elementu <literal>&lt;Menu&gt;</literal>. To se provádí připojením všech elementů potomků každého elementu <literal>&lt;Menu&gt;</literal> se stejným názvem do <emphasis>posledního</emphasis> výskytu elementu menu.</para>
        </listitem>
      </itemizedlist>

      <para><xref linkend="menustructure-systemmerge"/> přináší ukázku souboru nabídky uživatele s výslovně připojeným souborem systémové nabídky.</para>

      <example id="menustructure-systemmerge">
        <title>Připojování systémové nabídky</title>

        <programlisting>&lt;!DOCTYPE Menu PUBLIC "-//freedesktop//DTD Menu 1.0//EN"
 "http://www.freedesktop.org/standards/menu-spec/menu-1.0.dtd"&gt;

&lt;Menu&gt;
  &lt;Name&gt;Applications&lt;/Name&gt;
  &lt;MergeFile type="parent"&gt;/etc/xdg/menus/applications.menu&lt;/MergeFile&gt;
  &lt;Menu&gt;
    &lt;Name&gt;Accessibility&lt;/Name&gt;
    &lt;Exclude&gt;
      &lt;Filename&gt;dasher.desktop&lt;/Filename&gt;
    &lt;/Exclude&gt;
  &lt;/Menu&gt;
&lt;/Menu&gt;
</programlisting>
      </example>
    </sect2>

    <sect2>
      <title>Slučování libovolných nabídek</title>

      <indexterm>
        <primary>nabídky</primary>

        <secondary>slučování libovolných nabídek</secondary>
      </indexterm>

      <para>Soubory libovolné nabídky lze sloučit v podstatě stejným způsobem jako systémové nabídky. Rozdíl je akorát v tom, že atribut <literal>type</literal> musí být nastavený na <literal>path</literal> nebo musí být v elementu <literal>&lt;MergeFile&gt;</literal> pro tento typ slučování vynechaný.</para>

      <para>Sloučení se provede stejným způsobem, akorát umístění <emphasis>souboru slučované nabídky</emphasis> je zadané v obsahu elementu <literal>&lt;MergeFile&gt;</literal>.</para>
    </sect2>
  </sect1>
</chapter>

<chapter id="themes-0">
  <title>Instalování motivů</title>
  <highlights>
    <para>Tato kapitola popisuje motivy, nastavení motivů dostupných v pracovním prostředí GNOME, jak instalovat volby pro nastavení motivů a jak vytvářet vlastní volby.</para>
  </highlights>
  <sect1 id="themes-1">
    <title>Úvod do motivů</title>
    <indexterm>
      <primary>motivy</primary>
      <secondary>úvod</secondary>
    </indexterm>
    <para>Motiv je skupina sladěných nastavení určujících vizuální vzhled části pracovního prostředí GNOME. Uživatel si může vybrat motiv a změnit si tak vzhled pracovního prostředí GNOME.</para>
    <para>Motivy obsahují nastavení, která ovlivňují různé části pracovního prostředí GNOME následovně:</para>
    <variablelist>
      <varlistentry>
        <term>Ovládací prvky</term>
        <listitem>
          <para><indexterm><primary>motivy</primary><secondary>varianty ovládacích prvků</secondary><tertiary>úvod</tertiary></indexterm><indexterm><primary>motivy GTK+</primary><see>motivy, varianty ovládacích prvků</see></indexterm>Nastavení ovládacích prvků pro motiv určují vzhled oken, panelů a appletů. Nastavení ovládacích prvků rovněž určuje vzhled položek rozhraní, které jsou v souladu s GNOME a vyskytují se v oknech, na panelech a v appletech, např. nabídek, ikon a tlačítek. Některé z dostupných variant nastavení ovládacích prvků jsou navržené pro potřeby speciální přístupnosti. Uživatel si může vybrat varianty pro nastavení ovládacích prvků na kartě <guilabel>Ovládací prvky</guilabel> v nástroji předvoleb <application>Motiv</application>.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Rám okna</term>
        <listitem>
          <para><indexterm><primary>motiv</primary><secondary>volba rámu okna</secondary><tertiary>úvod</tertiary></indexterm><indexterm><primary>motiv Metacity</primary><see>motivy, volby rámu okna</see></indexterm>Nastavení rámu okna pro motiv určují vzhled rámů pouze kolem oken. Uživatel si může vybrat varianty pro nastavení rámu okna na kartě <guilabel>Okraj okna</guilabel> v nástroji předvoleb <application>Motiv</application>.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Icon</term>
        <listitem>
          <para><indexterm><primary>motivy</primary><secondary>volby ikon</secondary><tertiary>úvod</tertiary></indexterm><indexterm><primary>motivy ikon</primary><see>motivy, volby ikon</see></indexterm>Nastavení ikon pro motiv určují vzhled ikon na panelech a pozadí pracovní plochy. Uživatel si může vybrat varianty pro nastavení ikon na kartě <guilabel>Ikony</guilabel> v nástroji předvoleb <application>Motiv</application>.</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect1>
  <sect1 id="themes-17">
    <title>Indexový soubor motivu</title>
    <para>Každý motiv má indexový soubor, který definuje vlastnosti motivu. Název indexového souboru je <filename>/usr/share/themes/<replaceable>název-motivu</replaceable>/index.theme</filename>.</para>
    <para>Zde je příklad indexového souboru motivu:</para>
    <programlisting>[Desktop Entry]
Type=X-GNOME-Metatheme
Name=High Contrast Large
Name[cs]=Velký vysoce kontrastní
Name[es]=Alto contraste grande
Comment=Large black-on-white text and icons
Comment[cs]=Velký černobílý text a ikony
Comment[es]=Textos e iconos grandes en negro sobre blanco
Encoding=UTF-8

[X-GNOME-Metatheme]
GtkTheme=HighContrastLargePrint
IconTheme=HighContrast
MetacityTheme=Atlanta
ApplicationFont=sans 18
</programlisting>
    <para>Následující tabulka popisuje klíče v indexovém souboru motivu:</para>
    <table frame="topbot" id="themes-TBL-18">
      <title>Klíče v indexovém souboru motivu</title>
      <tgroup cols="2" colsep="0" rowsep="0">
        <colspec colname="colspec0" colwidth="33*"/>
        <colspec colname="colspec1" colwidth="67*"/>
        <thead>
          <row rowsep="1">
            <entry>
              <para>Klíč indexového souboru</para>
            </entry>
            <entry>
              <para>Popis</para>
            </entry>
          </row>
        </thead>
        <tbody>
          <row>
            <entry colname="colspec0" valign="top">
              <para>
                <literal>Type</literal>
              </para>
            </entry>
            <entry colname="colspec1" valign="top">
              <para>Říká, že tento motiv určuje vzhled několika voleb motivu, jako jsou ovládací prvky, rámy oken a ikony</para>
            </entry>
          </row>
          <row>
            <entry colname="colspec0" valign="top">
              <para>
                <literal>Name</literal>
              </para>
            </entry>
            <entry colname="colspec1" valign="top">
              <para>Název motivu. Toto je název motivu, který se zobrazí v nástroji předvoleb <application>Motiv</application></para>
            </entry>
          </row>
          <row>
            <entry colname="colspec0" valign="top">
              <para>
                <literal>Comment</literal>
              </para>
            </entry>
            <entry colname="colspec1" valign="top">
              <para>Stručný popis motivu. Toto je text, který se nástroji předvoleb <application>Motiv</application> zobrazí pod názvem motivu.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <literal>GtkTheme</literal>
              </para>
            </entry>
            <entry valign="top">
              <para>Odpovídá nastavení ovládacích prvků v nástroji předvoleb <application>Motiv</application>. Určuje, která nastavení ovládacích prvků se použijí na okna, panely a applety.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <literal>IconTheme</literal>
              </para>
            </entry>
            <entry valign="top">
              <para>Odpovídá nastavení ikon v nástroji předvoleb <application>Motiv</application>. Určuje, která nastavení ikon se použijí na panely a pozadí pracovní plochy.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <literal>MetacityTheme</literal>
              </para>
            </entry>
            <entry valign="top">
              <para>Odpovídá nastavení rámu okna v nástroji předvoleb <application>Motiv</application>. Určuje, která nastavení rámu okna se použijí na okna.</para>
            </entry>
          </row>
          <row>
            <entry colname="colspec0" valign="top">
              <para>
                <literal>ApplicationFont</literal>
              </para>
            </entry>
            <entry colname="colspec1" valign="top">
              <para>Odpovídá nastavení písma aplikací v nástroji předvoleb <application>Písmo</application>.</para>
            </entry>
          </row>
        </tbody>
      </tgroup>
    </table>
  </sect1>
  <sect1 id="themes-3">
    <title>Instalace nové varianty ovládacích prvků</title>
    <indexterm>
      <primary>motivy</primary>
      <secondary>ovládací prvky</secondary>
      <tertiary>instalování</tertiary>
    </indexterm>
    <para>Novou variantu pro nastavení ovládacích prvků můžete přidat v nástroji předvoleb <application>Motiv</application>. Varianty ovládacích prvků se nachází ve složce <filename>/usr/share/themes</filename>. Typická struktura je v souborovém systému následující:</para>
    <variablelist>
      <varlistentry>
        <term>Soubor varianty</term>
        <listitem>
          <para>
            <filename>/usr/share/themes/<replaceable>název-varianty</replaceable>/gtk-2.0/gtkrc</filename>
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Soubory obrázků</term>
        <listitem>
          <para>
            <filename>/usr/share/themes/<replaceable>název-varianty</replaceable>/pixmaps/*.*</filename>
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <para>Nová varianta pro nastavení ovládacích prvků je obvykle poskytovaná jako soubor <filename>.tar.gz</filename>. Pokud ji chcete nainstalovat, rozzipujte soubor <filename>.tar.gz</filename> a následně rozbalte archiv <filename>.tar</filename> do složky <filename>/usr/share/themes</filename>.</para>
    <para>Uživatel si může instalovat své vlastní varianty pro nastavení ovládacích prvků. Pokud si varianty nastavení ovládacích prvků instaluje uživatel, uchovávají se ve složce <filename>$HOME/.themes</filename>.</para>
  </sect1>
  <sect1 id="themes-5">
    <title>Instalace nové varianty rámu okna</title>
    <indexterm>
      <primary>motivy</primary>
      <secondary>varianty rámu okna</secondary>
      <tertiary>instalování</tertiary>
    </indexterm>
    <para>Novou variantu nastavení rámu okna můžete přidat v nástroji předvoleb Motiv. Varianty rámu okna se nachází ve složce <filename>/usr/share/themes/<replaceable>název-varianty</replaceable>/metacity-1</filename>. Typická struktura je v souborovém systému následující:</para>
    <variablelist>
      <varlistentry>
        <term>Soubor varianty</term>
        <listitem>
          <para>
            <filename>/usr/share/themes/<replaceable>název-varianty</replaceable>/metacity-1/metacity-theme-1.xml</filename>
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Soubory obrázků</term>
        <listitem>
          <para>
            <filename>/usr/share/themes/<replaceable>název-varianty</replaceable>/metacity-1/*.*</filename>
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <para>Nová varianta nastavení rámu okna je obvykle poskytovaná jako soubor .tar.gz. Pokud ji chcete nainstalovat, rozzipujte soubor .tar.gz a následně rozbalte archiv .tar do složky <filename>/usr/share/themes</filename>.</para>
    <para>Uživatel si může instalovat své vlastní varianty nastavení rámu okna. Pokud si varianty nastavení rámu okna instaluje uživatel, uchovávají se ve složce <filename>$HOME/.themes</filename>.</para>
  </sect1>
  <sect1 id="themes-16">
    <title>Instalace nové varianty Ikon</title>
    <indexterm>
      <primary>motivy</primary>
      <secondary>varianty ikon</secondary>
      <tertiary>instalování</tertiary>
    </indexterm>
    <para>Novou variantu nastavení ikon můžete přidat v nástroji předvoleb Motiv. Varianty ikon se nachází ve složce <filename>/usr/share/icons/<replaceable>název-varianty</replaceable></filename>. Typická struktura je v souborovém systému následující:</para>
    <variablelist>
      <varlistentry>
        <term>Soubor varianty</term>
        <listitem>
          <para>
            <filename>/usr/share/icons/<replaceable>název-varianty</replaceable></filename>
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Soubory obrázků</term>
        <listitem>
          <para>
            <filename>/usr/share/icons/<replaceable>název-varianty</replaceable>/icons/*.*</filename>
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <para>Nová varianta nastavení ikon je obvykle poskytovaná jako soubor .tar.gz. Pokud ji chcete nainstalovat, rozzipujte soubor .tar.gz a následně rozbalte archiv .tar do složky <filename>/usr/share/themes</filename>.</para>
    <para>Uživatel si může instalovat své vlastní varianty ikon. Pokud si varianty nastavení ikon instaluje uživatel, uchovávají se ve složce <filename>$HOME/.themes</filename>.</para>
  </sect1>
  <sect1 id="themes-11">
    <title>Instalování ikon pro motiv</title>
    <indexterm>
      <primary>motivy</primary>
      <secondary>instalování ikon</secondary>
    </indexterm>
    <para>Pracovní prostředí GNOME nabízí několik motivů, které jsou navržené pro uživatele se speciálními potřebami. Např. některá témata jsou navržená pro uživatele se slabým zrakem. Aby ikona mohla být zobrazená správně v každém schématu, vyžaduje několik verzí.</para>
    <para>Dejme tomu, že chcete vytvořit novou ikonu pro aplikaci. Aby se ikona v motivech správně zobrazovala, musíte vytvořit několik verzí ikony. Jedná se o následující verze typů ikon:</para>
    <itemizedlist>
      <listitem>
        <para>Ikony, které se používají v aplikacích v pracovním prostředí GNOME.</para>
      </listitem>
      <listitem>
        <para>Ikony, které používají aplikace GTK+ interně nebo ikony skladiště GTK+.</para>
      </listitem>
    </itemizedlist>
    <para>Když tvoříte novou ikonu, musíte vytvořit několik jejích verzí, aby se ikona zobrazovala v motivech správně. Ikony můžete vytvářet v několika formátech, např. formátu PNG (Portable Network Graphic). Doporučená velikost ikon pro pracovní prostředí je 48 krát 48 pixelů. Při téhle velikosti se většina motivů může ikony přeškálovat.</para>
    <para>Když tvoříte novou ikonu, vytvořte následující verze ikony 48 krát 48 pixelů:</para>
    <itemizedlist>
      <listitem>
        <para>Normální ikona</para>
      </listitem>
      <listitem>
        <para>Ikona s nízkým kontrastem</para>
      </listitem>
      <listitem>
        <para>Ikona s vysokým kontrastem</para>
      </listitem>
      <listitem>
        <para>Inverzní vysoce kontrastní ikona</para>
      </listitem>
    </itemizedlist>
    <para>Pokud je to možné, vytvořte pro každou ikonu i verzi 16 krát 16 pixelů kvůli motivům, které nevyžadují velké zobrazení.</para>
    <para>Nainstalujte ikony do umístění souborů s obrázky, které je dané motivem, jak popisuje <xref linkend="themes-3"/> nebo <xref linkend="themes-5"/>. Pokud například chcete ikony přidat do motivu HighContrastLargePrint, přidejte ikony do složky <filename>/usr/share/themes/HighContrastLargePrint/pixmaps</filename>. Do příslušných souborů motivů přidejte odkazy na tyto ikony. U dříve zmíněného příkladu s motivem HighContrastLargePrint přidejte odkazy na ikony do souboru <filename>/usr/share/themes/HighContrastLargePrint/gtk-2.0/gtkrc</filename>. Změňte soubor <filename>gtkrc</filename> motivu, aby se ikona svázala s identifikátorem ikony skladu GTK.</para>
    <para>Jestli se chcete dozvědět více o tom, jak vytvářet ikony pro spouštěče aplikací a pro panely, navštivte <ulink url="http://www.freedesktop.org/Standards/icon-theme-spec">http://www.freedesktop.org/Standards/icon-theme-spec</ulink>.</para>
  </sect1>
  <sect1 id="themes-15">
    <title>Vytvoření vlastní varianty ovládacího prvku</title>
    <indexterm>
      <primary>motivy</primary>
      <secondary>ovládací prvky</secondary>
      <tertiary>vytváření přizpůsobení</tertiary>
    </indexterm>
    <para>Pokud nejsou varianty nastavení ovládacích prvků vhodné pro potřeby vašich uživatelů, můžete vytvořit vlastní. Pokud hodláte vytvořit vlastní varianty ovládacích prvků, postupujte podle následujících kroků:</para>
    <orderedlist>
      <listitem>
        <para>Vytvořte pro variantu strukturu složek ve složce <filename>/usr/share/themes</filename>. Použijte tu samou strukturu složek, jako je u jiných variant. Například, když chcete vytvořit variantu nazvanou SmallPrint, vytvořte následující složky:</para>
        <itemizedlist>
          <listitem>
            <para>
              <filename>/usr/share/themes/SmallPrint</filename>
            </para>
          </listitem>
          <listitem>
            <para>
              <filename>/usr/share/themes/SmallPrint/gtk-2.0</filename>
            </para>
          </listitem>
        </itemizedlist>
      </listitem>
      <listitem>
        <para>Najděte soubor <filename>gtkrc</filename>, který se nejvíce blíží potřebám vašich uživatelů. Nakopírujte jej do složky <filename>gtk-2.0</filename> své nové varianty.</para>
      </listitem>
      <listitem>
        <para>Otevřete soubor <filename>gtkrc</filename> v textovém editoru a upravte atributy prvků rozhraní podle svých požadavků.</para>
      </listitem>
      <listitem>
        <para>Pokud nová varianta obsahuje obrázky, nainstalujte potřebné obrázky do složky <filename>pixmaps</filename> své nové varianty. Pokud nová varianta využívá obrázky z jiné varianty, nemusíte vytvářet kopie těchto obrázků. Místo toho zadejte u položky <literal>pixmap_path</literal> v souboru <filename>gtkrc</filename> správný odkaz na stávající obrázky.</para>
      </listitem>
    </orderedlist>
    <para>Nyní si uživatelé mohou vybrat novou variantu pro nastavení ovládacích prvků.</para>
    <para>Podrobnější informace o souborech <filename>gtkrc</filename> najdete na <ulink url="http://developer.gnome.org/doc/API/2.0/gtk/index.html">http://developer.gnome.org/doc/API/2.0/gtk/index.html</ulink>.</para>
  </sect1>
</chapter>

<chapter id="fontconfig-0">
  <title>Nastavení písma</title>
  <highlights>
    <para>Tato kapitola popisuje, jak nastavit písmo v pracovním prostředí GNOME.</para>
  </highlights>
  <sect1 id="fontconfig-1">
    <title>Úvod do nastavení písma</title>
    <indexterm>
      <primary>nastavení písma</primary>
      <see>písma</see>
    </indexterm>
    <indexterm>
      <primary>fontconfig</primary>
      <see>písma</see>
    </indexterm>
    <indexterm>
      <primary>písma</primary>
      <secondary>úvod</secondary>
    </indexterm>
    <para>Pracovní prostředí používá k nastavení a přizpůsobení písma knihovnu <literal>fontconfig</literal>. Knihovna <literal>fontconfig</literal> umí pracovat se všemi druhy písma, včetně písem PostScript Type 1 a TrueType.</para>
    <para>Knihovna <literal>fontconfig</literal> poskytuje seznam všech dostupných písem v pracovním prostředí GNOME. Kvůli sestavení tohoto seznamu prohledává <literal>fontconfig</literal> složky uvedené v  souboru <filename>/etc/fonts/fonts.conf</filename>. Pokud si chcete prohlédnou všechna dostupná písma v systému, přepněte se ve správci souborů na umístění <literal>fonts:///</literal>.</para>
    <para>Pokud se chcete o knihovně <literal>fontconfig</literal> dovědět další podrobnosti, navštivte následující URL:</para>
    <literallayout>
      <ulink url="http://freedesktop.org/software/fontconfig">http://freedesktop.org/software/fontconfig</ulink>
    </literallayout>
  </sect1>
  <sect1 id="fontconfig-4">
    <title>Náhrada písma</title>
    <indexterm>
      <primary>písma</primary>
      <secondary>náhrada písma</secondary>
    </indexterm>
    <para>Knihova <literal>fontconfig</literal> provádí náhradu písem v situacích, kdy buď celé písmo nebo určitý znak nejsou k dispozici. Pokud systém potřebuje zobrazit písmo, které není dostupné, <literal>fontconfig</literal> se pokusí zobrazit jiné, podobné písmo. Například, když webová stránka požaduje zobrazení v písmu Verdana a takové písmo v systému není nainstalované, <literal>fontconfig</literal> použije k zobrazení podobné písmo, třeba Helvetiku. Seznam podobných písem je definovaný v souboru <filename>/etc/fonts/fonts.conf</filename>.</para>
    <para>Když systém potřebuje zobrazit znak, který vybrané písmo neobsahuje, pokusí se <literal>fontconfig</literal> zobrazit znak z jiného podobného písma. Můžete například vybrat v textovém editoru písmo Bitstream Vera Sans. Rodina písem Bitstream Vera nezahrnuje znaky Cyrilice. Pokud otevřete dokument, který obsahuje znaky Cyrilice, použije textový editor k zobrazení podobné písmo, které znaky Cyrilice zahrnuje.</para>
    <para>Knihovna <literal>fontconfig</literal> rovněž definuje přezdívky pro písma, např. <literal>serif</literal>, <literal>sans-serif</literal> a <literal>monospace</literal>. Pokud vyberete písmo s takovouto přezdívkou, systém použije první písmo, které je pro takovou přezdívku definované v <filename>/etc/fonts/fonts.conf</filename>.</para>
  </sect1>
  <sect1 id="fontconfig-2">
    <title>Přidání písma pro všechny uživatele</title>
    <indexterm>
      <primary>písma</primary>
      <secondary>přidání pro všechny uživatele</secondary>
    </indexterm>
    <para>Pokud chcete přidat písmo pro všechny uživatele, postupujte podle těchto kroků:</para>
    <orderedlist>
      <listitem>
        <para>Nakopírujte soubor s písmem do jedné ze složek uvedených v souboru <filename>/etc/fonts/fonts.conf</filename>. Typicky bývají písma uložená ve složce <filename>/usr/share/fonts/</filename>.</para>
      </listitem>
      <listitem>
        <para>Knihovna <literal>fontconfig</literal> aktualizuje seznam písem automaticky. Pokud se seznam písem přesto neaktualizuje, spusťte následující příkaz:</para>
        <screen><userinput>fc-cache <replaceable>název-složky</replaceable></userinput></screen>
      </listitem>
    </orderedlist>
  </sect1>
  <sect1 id="fontconfig-3">
    <title>Přidání písma pro jednotlivého uživatele</title>
    <indexterm>
      <primary>písma</primary>
      <secondary>přidání pro jednotlivého uživatele</secondary>
    </indexterm>
    <para>Pokud chcete přidat písmo pro jednotlivého uživatele, postupujte podle těchto kroků:</para>
    <orderedlist>
      <listitem>
        <para>Nakopírujte soubor s písmem do složky <filename>$HOME/.fonts</filename> uživatele. Také když přetáhnete soubor s písmem do umístění <literal>fonts:///</literal> ve správci souborů, nakopíruje písmo do složky <filename>$HOME/.fonts</filename>.</para>
      </listitem>
      <listitem>
        <para>Knihovna <literal>fontconfig</literal> aktualizuje seznam písem automaticky. Pokud se seznam písem přesto neaktualizuje, spusťte následující příkaz:</para>
        <screen><userinput>fc-cache <replaceable>název-složky</replaceable></userinput></screen>
      </listitem>
    </orderedlist>
  </sect1>
</chapter>


<chapter id="mimetypes-0">
  <title>Typy MIME</title>
  <anchor id="mimetypes-TBL-3"/>
  <anchor id="mimetypes-TBL-6"/>
  <anchor id="mimetypes-TBL-8"/>

  <highlights>
    <para>Tato kapitola popisuje, jak aplikace detekují typy MIME, jak zaregistrovat typy MIME a jak přidat aplikace do pracovního prostředí GNOME.</para>
  </highlights>

  <para>Účelem této kapitoly je poskytnout správcům snadno pochopitelný popis, jak nastavit různé části databáze MIME a všeobecný přehled o systému MIME. Proto se nepouštíme, pokud to není nezbytné, do přílišných detailů. Pokud vás téma zajímá do hloubky, doporučujeme si přečíst <ulink url="http://www.freedesktop.org/Standards/shared-mime-info-spec">Specifikaci sdílení informací mime od XDG</ulink>.</para>

  <sect1 id="mimetypes-intro">
    <title>Úvod do typů MIME</title>
    <anchor id="mimetypes-1"/>

    <indexterm>
      <primary>Typy MIME</primary>

      <secondary>úvod</secondary>
    </indexterm>

    <para>Typy <acronym>MIME</acronym> [<firstterm>Multipurpose Internet Mail Extension</firstterm>] identifikují formát souboru. Aplikace jako Internetové prohlížeče nebo poštovní programy používají typy MIME k rozhodnutí, jakou aplikací soubor zpracovat. Například poštovní aplikace může použít typ MIME k detekci formátu přílohy a zvolit pro soubor správný prohlížeč, třeba textový soubor otevřít v aplikaci <application>gedit</application>.</para>

    <para>Zde je jiný příklad: Správce souborů <application>Nautilus</application> potřebuje znát typ MIME souboru k provedení následujících úloh:</para>

    <itemizedlist>
      <listitem>
        <para>Otevření souboru ve správné aplikaci.</para>
      </listitem>

      <listitem>
        <para>Zobrazení textu popisujícího typ souboru.</para>
      </listitem>

      <listitem>
        <para>Zobrazení správné ikony symbolizující soubor.</para>
      </listitem>

      <listitem>
        <para>Zobrazení seznamu dalších aplikací, které umí soubor otevřít.</para>
      </listitem>
    </itemizedlist>

    <para>Typy MIME byly původně navržené jako standard pro identifikaci těla zprávy v e-mailové zprávě. V současnosti spousta systémů používá typy MIME k identifikaci formátů libovolných souborů v souborovém systému. Typy MIME se skládají z hlavní části <emphasis>typ média</emphasis>, za kterou následuje <emphasis>identifikátorem podtypu</emphasis>, přičemž jsou tyto části oddělené lomítkem <quote><literal>/</literal></quote>. Příkladem typu MIME je <literal>image/jpeg</literal>. V tomto příkladu je typem média <quote><literal>image</literal></quote> a identifikátorem podtypu <quote><literal>jpeg</literal></quote>. Účelem hlavní části je rozdělení formátu do všeobecných kategorií, zatímco identifikátor podtypu určuje přesně typ formátu.</para>

    <para>V současnosti existuje osm typů médií schválených organizací <acronym>IANA</acronym> [Internet Assigned Naming Authority]. Jsou to <simplelist type="inline">
        <member>application (aplikace)</member>

        <member>audio (zvuk)</member>

        <member>image (obrázek)</member>

        <member>message (zpráva)</member>

        <member>model (model)</member>

        <member>multipart (složeno z více částí)</member>

        <member>text (text)</member>

        <member>video (video)</member>
      </simplelist>. Pro každý typ média existuje spousta podtypů,  podrobnosti viz <ulink url="http://www.iana.org/assignments/media-types/">Typy médií MIME</ulink> na webu <ulink url="http://www.iana.org/">IANA</ulink>.</para>

    <para>Implementace typů MIME v GNOME dodržuje <ulink url="http://www.freedesktop.org/Standards/shared-mime-info-spec">Specifikaci sdílení informací mime od XDG</ulink>. Tato specifikace poskytuje následující výhody:</para>

    <itemizedlist>
      <listitem>
        <para>Standardní umístění všech souborů vztahujících se k MIME.</para>
      </listitem>

      <listitem>
        <para>Standardní postup pro aplikace, jak si zaregistrovat informace o novém typu MIME.</para>
      </listitem>

      <listitem>
        <para>Standardní způsob, jak získat typ MIME pro soubor.</para>
      </listitem>

      <listitem>
        <para>Standardní způsob, jak získat informace o typu MIME.</para>
      </listitem>
    </itemizedlist>

    <para>Ve zbývající části této kapitoly jsou popsané soubory a složky tvořící databázi MIME, podrobnosti o zdrojových souborech ve formátu XML, postup vytváření nebo změny typu MIME, postup registrace aplikace pro zacházení s určitým typem MIME a nakonec postup, jak přidat do pracovního prostředí GNOME aplikaci.</para>
  </sect1>

  <sect1 id="mimetypes-database">
    <title>Databáze MIME</title>
    <anchor id="mimetypes-4"/>
    <anchor id="mimetypes-5"/>

    <indexterm>
      <primary>Typy MIME</primary>

      <secondary>databáze</secondary>
    </indexterm>

    <para>Databáze MIME je sada souborů udávajících:</para>

    <itemizedlist>
      <listitem>
        <para>Množinu známých typů MIME</para>
      </listitem>

      <listitem>
        <para>Postupy pro určení typu MIME souboru</para>
      </listitem>

      <listitem>
        <para>Meta informace ohledně typů MIME, jako např. pro člověka čitelný popis, který se používá při zobrazování souborů daného typu.</para>
      </listitem>
    </itemizedlist>

    <sect2 id="mimetypes-location">
      <title>Umístění</title>

      <para>Pro správce je pro porozumění systému MIME nejdůležitější a základní krok znalost, kde jsou tyto soubory uložené. Tak jako pochází návrh <ulink url="http://www.freedesktop.org/Standards/shared-mime-info-spec">Specifikace sdílení informací mime od XDG</ulink> od skupiny X Desktop Group, tak tatáž skupiny vytvořila <ulink url="http://www.freedesktop.org/wiki/Standards/basedir-spec">Specifikaci základních složek od XDG</ulink>. Velmi vám doporučujeme se s touto specifikací seznámit, protože je důležitá i pro další činnosti při správě systému, jak např. úpravu nabídek. Stručný souhrn umístění složek týkajících se specifikace MIME je uveden zde.</para>

      <para>Databáze MIME je tvořena sadou souborů umístěných ve složkách <filename>$XDG_DATA_HOME/mime</filename> a <filename>$XDG_DATA_DIRS/mime</filename>. Pokud nejsou tyto proměnné prostředí nastavené, použijí se výchozí hodnoty <filename>~/.local/share</filename> a případně <filename>/usr/local/share:/usr/share</filename>. Jak je vidět na výchozí hodnotě pro <envar>$XDG_DATA_DIRS</envar>, každá proměnná prostředí je dvojtečkami oddělený seznam složek. Pokud dojde ke konfliktu definicí, má uživatelská databáze <filename>$XDG_DATA_HOME/mime</filename> přednost před systémovou databází <filename>$XDG_DATA_DIRS/mime</filename>. Podobně jako ve <citetitle>Specifikaci sdílení informací mime od XDG</citetitle>, používá se i ve zbývající části tohoto dokumentu pro tyto složky označení <literal>&lt;MIME&gt;</literal>.</para>

      <para>Například, pokud budeme uvažovat výchozí cesty v proměnných prostředí, pak <quote>Načíst <filename>&lt;MIME&gt;/text/plain.xml</filename></quote> znamená načtení následujících souborů:</para>

      <itemizedlist>
        <listitem>
          <para><filename>~/.local/share/mime/text/plain.xml</filename></para>
        </listitem>

        <listitem>
          <para><filename>/usr/local/share/mime/text/plain.xml</filename></para>
        </listitem>

        <listitem>
          <para><filename>/usr/share/mime/text/plain.xml</filename></para>
        </listitem>
      </itemizedlist>
    </sect2>

    <sect2 id="mimetypes-contents">
      <title>Obsah</title>

      <para>Zde je seznam složek a souborů, které můžete najít uvnitř databáze MIME, včetně stručného popisu:</para>

      <variablelist>
        <varlistentry>
          <term><filename>&lt;MIME&gt;/packages/</filename></term>

          <listitem>
            <para>Tato složka obsahuje několik souborů XML, z nichž každý popisuje sadu typů MIME. Standardně je to soubor <filename>freedesktop.org.xml</filename> nainstalovaný ve složce <filename>/usr/share/mime/packages</filename>. Tento soubor obsahuje výchozí typy MIME, které jsou široce používané a rozpoznávané.</para>

            <para>Aplikace, které poskytují informace o novém typu MIME, zde nainstalují <emphasis>jeden</emphasis> nový soubor XML. V závislosti na místě, kde je aplikace nainstalovaná, vytvoří soubor v podsložce <filename>/mime/package</filename> jedné ze složek <envar>$XDG_DATA_HOME:$XDG_DATA_DIRS</envar>. Pokud je například aplikace nainstalovaná v <filename>/usr/bin</filename>, měla by nainstalovat nový zdrojový soubor XML do složky <filename>/usr/share/mime/packages</filename>. Více informací o souborech XML ve složce <filename>packages</filename> uvádí <xref linkend="mimetypes-source-xml"/>.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><filename>&lt;MIME&gt;/<replaceable>MEDIA</replaceable>/<replaceable>SUBTYPE</replaceable>.xml</filename></term>

          <listitem>
            <para>Tyto složky a soubory jsou automaticky generované ze sady zdrojových souborů XML v podsložce <filename>&lt;MIME&gt;/packages/</filename> pomocí aplikace <application>update-mime-database</application>. Například pro každý element <literal>mime-type</literal> v souboru <filename>/usr/share/mime/packages/freedesktop.org.xml</filename> se vytvoří v <filename>/usr/share/mime/</filename> složka <emphasis>typ média</emphasis> typu MIME. Stejně tak se ve složce vytvoří soubor <emphasis>identifikátor podtypu</emphasis> typu MIME. Obsah vytvořeného souboru ve formátu XML zahrnuje komentáře (a jejich překlady), pojmenování podtříd a přezdívky.</para>

            <example>
              <title>Příklad: soubor <filename>/usr/share/mime/text/plain.xml</filename></title>

              <para><programlisting>&lt;?xml version='1.0' encoding='utf-8'?&gt;
&lt;mime-type xmlns="http://www.freedesktop.org/standards/shared-mime-info" type="text/plain"&gt;
&lt;!--Created automatically by update-mime-database. DO NOT EDIT!--&gt;
  &lt;comment&gt;plain text document&lt;/comment&gt;
  &lt;!-- possibly more translations --&gt;
  &lt;comment xml:lang="cs"&gt;Prostý textový dokument&lt;/comment&gt;
  &lt;comment xml:lang="es"&gt;documento de texto sencillo&lt;/comment&gt;
  &lt;comment xml:lang="eu"&gt;testu soileko dokumentua&lt;/comment&gt;
  &lt;comment xml:lang="fi"&gt;perustekstiasiakirja&lt;/comment&gt;
  &lt;comment xml:lang="fr"&gt;document plein texte&lt;/comment&gt;
  &lt;!-- possibly more translations --&gt;
&lt;/mime-type&gt;
</programlisting>Tento soubor je vygenerovaný pomocí aplikace <application>update-mime-database</application> s použitím zdrojového souboru XML <filename>freedesktop.org.xml</filename>.</para>
            </example>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><filename>&lt;MIME&gt;/globs</filename></term>

          <listitem>
            <para>Obsahuje po jednom řádku s typem MIME a hromadnou maskou, navzájem oddělených dvojtečkou. Soubory, které odpovídají hromadné masce, jsou zpracovávány podle typu MIME před dvojtečkou. Existují speciální pravidla, jak porovnávat název souboru s hromadnou maskou, více informací najdete ve <citetitle>Specifikaci sdílení mime od XDG</citetitle>.</para>

            <para>Rovněž tento soubor je generovaný aplikací <application>update-mime-database</application> za použití výchozího zdrojového souboru XML <filename>freedesktop.org.xml</filename>.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><filename>&lt;MIME&gt;/magic</filename></term>

          <listitem>
            <para>Binární soubor obsahující informace, jak rozpoznat typ MIME <quote>osaháním</quote> obsahu souboru. Obecně to je sada jednoho nebo více pravidel typu <quote>podívej se, jestli se v souboru na pozici 0 nachází řetězec <literal>%PDF- </literal>; jestliže ano, přiřaď typ MIME <literal>application/pdf</literal></quote>.</para>

            <para>Rovněž tento soubor je generovaný aplikací <application>update-mime-database</application>.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><filename>&lt;MIME&gt;/XMLnamespaces</filename></term>

          <listitem>
            <para>Obsahuje mapování jmenných prostorů XML na typy MIME. Každý řádek obsahuje tři pole: jmenný prostor, místní název a typ MIME. Pole jsou navzájem oddělená mezerami. Pokud je lokální název prázdný, pak jsou mezi jmenný prostorem a typem MIME dvě mezery.</para>

            <para>Rovněž tento soubor je generovaný aplikací <application>update-mime-database</application>.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><filename>&lt;MIME&gt;/aliases</filename></term>

          <listitem>
            <para>Obsahuje seznam přezdívek pro každý typ MIME. Přezdívka je jednoduše typ MIME, který je někdy znám pod jiným typem. V každém řádku tohoto souboru jsou dvě pole: první pole je přezdívka a druhé pole je typ MIME. Pole jsou navzájem oddělená mezerami.</para>

            <para>Rovněž tento soubor je generovaný aplikací <application>update-mime-database</application>.</para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term><filename>&lt;MIME&gt;/subclasses</filename></term>

          <listitem>
            <para>Obsahuje seznam podtříd typů MIME a jejich <quote>rodičovských</quote> typů MIME. <citetitle>Specifikace sdílení mime od XDG</citetitle> uvádí:<blockquote>
                <para>Typ je podtřídou jiného typu, pokud je nějaká instance prvního typu zároveň instancí druhého typu. Například, všechny soubory image/svg jsou zároveň soubory text/xml, text/plain a application/octet-stream. Podtřídy jsou spíše o formátu než o kategorii dat (např. zde není třída „obecný sešit“, ze které by se odvozovaly všechny sešity).</para>
              </blockquote>Formát tohoto souboru je podobný souboru <filename>aliases</filename>. Každý řádek obsahuje dvě pole, kde první pole je podtřída typu MIME a druhé pole je rodičovský typ MIME. Pole jsou navzájem oddělená mezerou.</para>

            <para>Rovněž tento soubor je generovaný aplikací <application>update-mime-database</application>.</para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect2>

    <sect2 id="mimetypes-refresh">
      <title>Občerstvování databáze MIME</title>

      <para>Porozumění tomu, jak občerstvit databázi MIME, je důležité pro správce, kteří chtějí přidávat do svého systému nové typy MIME nebo jinak upravovat informace o typech MIME. K těmto účelům je určená aplikace <application>update-mime-database</application>.</para>

      <para>Mějme například aplikaci, která nainstalovala informace o novém typu MIME do <filename>/usr/share/mime/packages/diff.xml</filename>. Pak <application>update-mime-database</application> musí být spuštěno s parametrem <filename>/usr/share/mime</filename>.</para>

      <screen><prompt>#</prompt> <userinput>update-mime-database /usr/share/mime</userinput>
<computeroutput>***
* Aktualizuje se databáze MIME v /usr/share/mime...
***
</computeroutput></screen>

      <para>Při občerstvování databáze MIME se prochází všechny zdrojové soubory XML ve složce <filename>&lt;MIME&gt;/packages</filename>.</para>
    </sect2>
  </sect1>

  <sect1 id="mimetypes-source-xml">
    <title>Zdrojové soubory XML</title>
    <anchor id="mimetypes-11"/>
    <anchor id="mimetypes-12"/>
    <anchor id="mimetypes-2"/>

    <indexterm>
      <primary>Typy MIME</primary>

      <secondary>zdrojové soubory XML</secondary>
    </indexterm>

    <para>Tyto soubor XML, nacházející se ve složce <filename>&lt;MIME&gt;/packages</filename>, poskytují informace ohledně typů MIME, které se instalují pomocí aplikace <application>update-mime-database</application> do databáze. Zde je pro tyto soubory XML několik pravidel:</para>

    <itemizedlist>
      <listitem>
        <para>Musí uvádět jmenný prostor <quote><literal>http://www.freedesktop.org/standards/shared-mime-info</literal></quote></para>
      </listitem>

      <listitem>
        <para>Kořenový element musí být <literal>mime-info</literal></para>
      </listitem>

      <listitem>
        <para>V elementu <literal>mime-info</literal> může být uvedený žádný nebo více elementů <literal>mime-type</literal>. Atribut <literal>type</literal> se používá k určení typu MIME, který se definuje.</para>
      </listitem>
    </itemizedlist>

    <para>Standardně je soubor <filename>freedesktop.org.xml</filename> nainstalovaný ve složce <filename>packages</filename> v jedné z cest <filename>&lt;MIME&gt;</filename> (obvykle <filename>/usr/share/mime/packages</filename>).</para>

    <para><xref linkend="mimetypes-mimeinfo-elements"/> podává stručný popis pro každý element, který se může vyskytnout jako potomek elementu <literal>mime-type</literal>.</para>

    <table frame="topbot" id="mimetypes-mimeinfo-elements">
      <title>Dceřiné elementy <literal>&lt;mime-type&gt;</literal></title>

      <tgroup cols="2" colsep="0" rowsep="0">
        <colspec colwidth="44.90*"/>

        <colspec colwidth="59.10*"/>

        <thead>
          <row rowsep="1">
            <entry>Element (a atributy)</entry>

            <entry>Popis</entry>
          </row>
        </thead>

        <tbody>
          <row>
            <entry><literal>&lt;glob pattern="<replaceable>*.xyz</replaceable>"&gt;</literal></entry>

            <entry>Tento element určuje hromadnou masku pro názvy souborů. Pokud název souboru odpovídá, je mu přiřazen typ MIME rodičovského elementu <literal>mime-type</literal>. Atribut <literal>pattern</literal> je povinný.</entry>
          </row>

          <row>
            <entry><literal>&lt;magic priority="<replaceable>50</replaceable>"&gt;</literal></entry>

            <entry>Tento element v sobě obsahuje seznam elementů <literal>match</literal>. Atribut <literal>priority</literal> je volitelný a určuje prioritu v rozmezí 0 až 100, kdy 100 je nejvyšší možná priorita. Každý dceřiný element <literal>match</literal> má tři povinné atributy: <simplelist type="inline">
                <member><literal>type</literal></member>

                <member><literal>offset</literal></member>

                <member><literal>hodnota</literal></member>
              </simplelist> a čtvrtý volitelný atributy: <literal>mask</literal>. Detaily o těchto atributech viz <ulink url="http://www.freedesktop.org/Standards/shared-mime-info-spec">Specifikace sdílení informací mime od XDG</ulink>.</entry>
          </row>

          <row>
            <entry><literal>&lt;alias type="<replaceable>media</replaceable>/<replaceable>subtype</replaceable>"&gt;</literal></entry>

            <entry>Tento element definuje přezdívky pro rodičovský element <literal>mime-type</literal>. Přezdívka je jednoduše typ MIME, který je někdy známý jako jiný typ. Např. <literal>application/x-pdf</literal> je přezdívka pro typ MIME <literal>application/pdf</literal>.</entry>
          </row>

          <row>
            <entry><literal>&lt;sub-class-of type="<replaceable>media</replaceable>/<replaceable>subtype</replaceable>"&gt;</literal></entry>

            <entry>Tento element definuje rodičovský <literal>mime-type</literal> element jako podtřídu typu MIME určeného v atributu <literal>type</literal>. Např. <literal>image/svg</literal> je podtřídou typů MIME <literal>text/xml</literal>, <literal>text/plain</literal> a <literal>application/octet-stream</literal>.</entry>
          </row>

          <row>
            <entry><literal>&lt;comment xml:lang="<replaceable>locale</replaceable>"&gt;</literal></entry>

            <entry>Tento element poskytuje pro člověka srozumitelný popis typu MIME. Tento element se nemusí vyskytovat vůbec a nebo i vícekrát, přičemž každý výskyt obsahuje jedinečnou hodnotu pro atributu <literal>xml:lang</literal>.</entry>
          </row>

          <row>
            <entry><literal>&lt;root-XML namespaceURI="<replaceable>namespace</replaceable>" localName=""&gt;</literal></entry>

            <entry>Pokud je soubor vyhodnocen jako soubor XML, pak jej tento element pomůže přesněji zařadit pomocí atributů <literal>namespaceURI</literal> a <literal>localName</literal>, přičemž jsou oba dva atributy povinné. Atribut <literal>namespaceURI</literal> je jmenný prostor dokumentu a <literal>localName</literal> je název kořenového elementu dokumentu. Pokud je <literal>localName</literal> přítomen, ale hodnota je prázdná, pak může mít kořenový element libovolný název, ale jmenný prostor stále musí odpovídat.</entry>
          </row>
        </tbody>
      </tgroup>
    </table>

    <para>Nejjednodušším způsobem, jak pochopit tyto soubory, je podívat se na příklad. Vypůjčme si jeden ze <citetitle>Specifikace sdílení mime od XDG</citetitle>. <xref linkend="mimetypes-source-xml-example"/> ukazuje obsah zdrojového souboru nazvaného <filename>diff.xml</filename>. Definuje se v něm typ MIME <literal>text/x-diff</literal>. Je v něm několik elementů <literal>comment</literal>, které uvádí pro člověka srozumitelný název typu MIME v několika různých jazycích. Typ MIME má oba druhy pravidel, porovnání pomocí hromadné masky <emphasis>a zároveň</emphasis> <quote>osahání</quote> obsahu souboru (častěji známé jako <filename>magická pravidla [magic rulers]</filename>). Libovolné soubory s příponou <literal>.diff</literal> nebo <filename>.patch</filename> budou vyhodnocené jako tento typ MIME. A navíc i libovolný soubor, jehož obsah začíná řetězcem daným atributem <literal>value</literal> elementu <literal>match</literal> bude vyhodnocený jako typ MIME <literal>text/x-diff</literal>.</para>

    <para>Vysvětlení pořadí, v jakém jsou požité hromadné masky a magická pravidla, přesahuje rámec tohoto dokumentu. Na podrobnosti se můžete podívat do <ulink url="http://www.freedesktop.org/Standards/shared-mime-info-spec">Specifikace sdílení informací mime od XDG</ulink>.</para>

    <example id="mimetypes-source-xml-example">
      <title>Příklad zdrojového souboru XML: <filename>diff.xml</filename></title>

      <programlisting>&lt;?xml version='1.0'?&gt;
&lt;mime-info xmlns='http://www.freedesktop.org/standards/shared-mime-info'&gt;
  &lt;mime-type type="text/x-diff"&gt;
    &lt;comment&gt;Differences between files&lt;/comment&gt;
    &lt;comment xml:lang="af"&gt;verskille tussen lêers&lt;/comment&gt;
    &lt;comment xml:lang="cs"&gt;rozdíl mezi soubory&lt;/comment&gt;
    &lt;!-- more translated comment elements --&gt;
    &lt;magic priority="50"&gt;
      &lt;match type="string" offset="0" value="diff\t"/&gt;
      &lt;match type="string" offset="0" value="***\t"/&gt;
      &lt;match type="string" offset="0" value="Common subdirectories: "/&gt;
    &lt;/magic&gt;
    &lt;glob pattern="*.diff"/&gt;
    &lt;glob pattern="*.patch"/&gt;
  &lt;/mime-type&gt;
&lt;/mime-info&gt;</programlisting>
    </example>
  </sect1>

  <sect1 id="mimetypes-modifying">
    <title>Úprava typů MIME</title>

    <indexterm>
      <primary>Typy MIME</primary>

      <secondary>kontrola změn</secondary>
    </indexterm>

    <indexterm>
      <primary>Typy MIME</primary>

      <secondary>úpravy změny</secondary>
    </indexterm>

    <para>Nikdy byste neměli přímo měnit zdrojové soubory nainstalované aplikací ve složce <filename>&lt;MIME&gt;/packages</filename>. Místo toho upravte soubor <filename>Overrides.xml</filename>.Tento soubor je nadřazený všem ostatním zdrojovým souborům XML nainstalovaným ve stejné složce <filename>packages</filename>. V případě, že jste přímo autorem aplikace, nemusíte se tohoto pravidla držet. Měli byste vytvořit nový zdrojový soubor XML a umístit jej ve správné složce <filename>&lt;MIME&gt;/packages</filename> (o to se samozřejmě bude starat váš soubor <filename>Makefile</filename>).</para>

    <para>Databázi MIME můžete změnit pro všechny uživatele systému nebo jen pro vybraného uživatele, záleží na umístění souboru, který měníte. Pokud chcete změnit databázi pro všechny uživatele, proveďte změny v souboru <filename>Overrides.xml</filename> ve složce <filename>$XDG_DATA_DIRS/mime/packages</filename>. Pokud chcete změnit databázi pro jednoho uživatele, proveďte změny v souboru <filename>Overrides.xml</filename> ve složce <filename>$XDG_DATA_HOME/mime/packages</filename>.</para>

    <para>Po provedení změn musíte vždy spustit aplikaci <application>update-mime-database</application>, které jako první parametr zadáte umístění databáze MIME.</para>

    <sect2 id="mimetypes-addmodify">
      <title>Přidávání nebo změna typů MIME</title>

      <para>Jestliže chcete přidat jeden nebo více typů MIME pro všechny uživatele:</para>

      <orderedlist>
        <listitem>
          <para>Vytvořte nový nebo upravte stávající zdrojový soubor XML <filename>Overrides.xml</filename>, který obsahuje definice typů MIME. Viz <xref linkend="mimetypes-source-xml"/>.</para>
        </listitem>

        <listitem>
          <para>Uložte soubor <filename>Overrides.xml</filename> do složky <filename>/usr/share/mime/packages</filename>.</para>
        </listitem>

        <listitem>
          <para>Aktualizujte databázi MIME spuštěním <application>update-mime-database</application> pod systémovým účtem.<screen><userinput>update-mime-database /usr/share/mime</userinput></screen></para>
        </listitem>
      </orderedlist>

      <para>V případě, že chcete přidat jeden nebo více typů MIME jen pro jednoho uživatele, postupujte stejně s tím rozdílem, že svůj soubor <filename>Overrides.xml</filename> uložíte do složky <filename>~/.local/share/mime/packages</filename>. A <application>update-mime-database</application> spustíte s prvním parametrem <filename>~/.local/share/mime/packages</filename>.</para>
    </sect2>

    <sect2 id="mimetypes-verifying">
      <title>Kontrola změn</title>
      <anchor id="mimetypes-10"/>

      <para>Po provedení změn v databázi MIME a občerstvení jejího obsahu, si můžete ověřit, zda mají změny zamýšlený efekt, pomocí aplikace <application>gnomevfs-info</application>. Tato aplikace vypíše typ MIME a další užitečné informace o souboru.</para>

      <para>Spuštěním aplikace <application>gnomevfs-info</application> na soubor SVG obdržíte níže uvedený výstup. Poznamenejme, že výchozí aplikací pro teto typ MIME je <filename>eog.desktop</filename>. Výchozí aplikace probírá <xref linkend="mimetypes-registering"/>.</para>

      <screen><prompt>$</prompt> <userinput>gnomevfs-info mime-diagram.svg</userinput>
<computeroutput>Name              : mime-diagram.svg
Type              : Regular
MIME type         : image/svg+xml
Default app       : eog.desktop
Size              : 14869
Blocks            : 32
I/O block size    : 4096
Local             : YES
SUID              : NO
SGID              : NO
Sticky            : NO
Permissions       : 600644
Link count        : 1
UID               : 1000
GID               : 100
Access time       : Wed Feb 22 18:24:47 2006
Modification time : Wed Feb 22 18:24:42 2006
Change time       : Wed Feb 22 18:24:42 2006
Device #          : 775
Inode #           : 297252
Readable          : YES
Writable          : YES
Executable        : NO</computeroutput>
<prompt>$</prompt>
</screen>

      <para><xref linkend="mimetypes-newtype-example"/> vás provede postupem vytváření nového typu MIME a kontrolou změn pomocí <application>gnomevfs-info</application>.</para>
    </sect2>

    <sect2 id="mimetypes-newtype-example">
      <title>Příklad <literal>application/x-newtype</literal></title>

      <para>Pro vytvoření (nebo změnu) typu MIME a kontrolu změn:</para>

      <orderedlist>
        <listitem>
          <para>Vytvořte ve své domovské složce nový prázdný soubor nazvaný <filename>testing.xyz</filename>.</para>
        </listitem>

        <listitem>
          <para>Použijte <application>gnomevfs-info</application> k určení typ MIME tohoto souboru. Měl by se jako typ MIME detekovat <literal>text/plain</literal>, protože zatím není žádná hromadná maska nebo magické pravidlo, které by mu odpovídaly.</para>
        </listitem>

        <listitem>
          <para>Vytvořte (nebo upravte) soubor <filename>Overrides.xml</filename> jak popisuje <xref linkend="mimetypes-addmodify"/>, přičemž pro obsah použijte <xref linkend="mimetypes-overrides-xml"/>.</para>
        </listitem>

        <listitem>
          <para>Občerstvěte databázi pomocí <application>update-mime-database</application>.</para>
        </listitem>

        <listitem>
          <para>Použijte <application>gnomevfs-info</application> k ověření, že vaše změny měli požadovaný efekt. Měli byste pro soubor <filename>testing.xyz</filename> uvidět uvedený typ MIME jako <literal>application/x-newtype</literal>.</para>

          <screen><prompt>$</prompt> <userinput>gnomevfs-info testing.xyz | grep MIME
</userinput><computeroutput>MIME type         : application/x-newtype
</computeroutput><prompt>$</prompt></screen>
        </listitem>
      </orderedlist>

      <example id="mimetypes-overrides-xml">
        <title>Soubor <filename>Overrides.xml</filename></title>

        <programlisting>&lt;?xml version='1.0' encoding='utf-8'?&gt;
&lt;mime-info xmlns="http://www.freedesktop.org/standards/shared-mime-info"&gt;
  &lt;mime-type type="application/x-newtype"&gt;&lt;comment&gt;new mime type&lt;/comment&gt;&lt;glob pattern="*.xyz"/&gt;&lt;/mime-type&gt;
&lt;/mime-info&gt;</programlisting>
      </example>
    </sect2>
  </sect1>

  <sect1 id="mimetypes-registering">
    <title>Registrace aplikací k typům MIME</title>

    <anchor id="mimetypes-7"/>

    <indexterm>
      <primary>Typy MIME</primary>

      <secondary>registrace aplikací</secondary>
    </indexterm>

    <indexterm>
      <primary>aplikace</primary>

      <secondary>registrace</secondary>
    </indexterm>

    <para>Registrace aplikace pro práci s typy MIME je poměrně přímočará. Aplikace se zaregistruje vytvořením klíče <literal>MimeType</literal> v jejím vstupním souboru <filename>.desktop</filename> a uvede všechny typy MIME oddělené dvojtečkami. Klíč <literal>MimeType</literal> by se měl používat pouze v souborech <filename>.desktop</filename>, u nichž má klíč <literal>Type</literal> hodnotu <quote><literal>Application</literal></quote>. Více informací o souborech <filename>.desktop</filename> uvádí <xref linkend="menustructure-desktopentry"/>.</para>

    <para>Po vytvoření nebo změně vstupního souboru <filename>.desktop</filename>, musíte aktualizovat databázi aplikací pomocí aplikace <application>update-desktop-database</application> (velmi podobně jako <application>update-mime-database</application>, s tím rozdílem, že nepřebírá parametry). Tím se vytvoří soubor <filename>mimeinfo.cache</filename> v podsložce <filename>applications</filename> pro každou složku v <filename>$XDG_DATA_HOME:$XDG_DATA_DIRS</filename>. Tento vyrovnávací soubor je nutný, aby se nemusely kvůli klíči <literal>MimeType</literal> prohledávat všechny soubory <filename>.desktop</filename>, což by způsobilo nepříjemný nárůst diskových operací.</para>

    <para>Výchozí aplikace používané pro jisté typy MIME by měli být uvedené v souboru nazvaném <filename>defaults.list</filename>. Tento soubor je umístěný v podsložce <filename>applications</filename> v každé složce <envar>$XDG_DATA_HOME</envar> a <envar>$XDG_DATA_DIRS</envar>. Formát tohoto souboru sestává z typu MIME, symbolu <literal>=</literal> a ID souboru desktop (což je název souboru vstupu pracovního prostředí). <xref linkend="mimetypes-registering-example"/> je krátkou ukázkou souboru <filename>defaults.list</filename> ve složce <filename>~/.local/share/applications</filename>.</para>

    <example id="mimetypes-registering-example">
      <title>Uživatelův soubor <filename>defaults.list</filename></title>

      <programlisting>[Default Applications]
application/pdf=evince.desktop
text/html=epiphany.desktop
text/plain=gedit.desktop
image/jpeg=eog.desktop
image/png=eog.desktop
text/xml=gedit.desktop
</programlisting>
    </example>

    <note>
      <title>Specifikace Vstupu pracovního prostředí od XDG</title>

      <para>Vysvětlení, jak registrovat typy MIME pro aplikaci, není součástí <ulink url="http://www.freedesktop.org/Standards/shared-mime-info-spec">Specifikace sdílení informací mime od XDG</ulink>, ale <ulink url="http://www.freedesktop.org/wiki/Standards/desktop-entry-spec">Specifikace vstupu pracovního prostředí od XDG</ulink>.</para>
    </note>
  </sect1>

  <sect1 id="mimetypes-9">
    <title>Přidání aplikace do Pracovního prostředí GNOME</title>

    <indexterm>
      <primary>Typy MIME</primary>

      <secondary>přidávání aplikací</secondary>
    </indexterm>

    <indexterm>
      <primary>aplikace</primary>

      <secondary>přidávání</secondary>
    </indexterm>

    <para>Pokud chcete do Pracovního prostředí GNOME přidat aplikaci, postupujte následovně:</para>

    <orderedlist>
      <listitem>
        <para>Přidejte pro aplikaci položku do nabídky. Jak se to dělá, popisuje podrobně <xref linkend="menustructure-2"/>.</para>
      </listitem>

      <listitem>
        <para>Přidejte pro aplikaci ikonu do <filename>/usr/share/icons/<replaceable>název-motivu</replaceable>/<replaceable>velikost-ikony</replaceable>/apps</filename>. Podrobnosti o ikonách a motivech uvádí <xref linkend="themes-11"/>.</para>
      </listitem>

      <listitem>
        <para>Pokud aplikace používá nové typy MIME, přidejte do databáze MIME zdrojové soubory MIME. Viz <xref linkend="mimetypes-modifying"/>.</para>
      </listitem>

      <listitem>
        <para>Pokud aplikace používá nové typy MIME, přidejte pro typ MIME ikonu do <filename>/usr/share/icons/<replaceable>název-motivu</replaceable>/<replaceable>velikost-ikony</replaceable>/mimetypes</filename>. Podrobnosti o ikonách a motivech uvádí <xref linkend="themes-0"/>.</para>
      </listitem>

      <listitem>
        <para>Přidružte aplikaci k typu MIME vložením klíče <literal>MimeType</literal> do svého souboru <filename>.desktop</filename>. Viz <xref linkend="mimetypes-registering"/>.</para>
      </listitem>
    </orderedlist>
  </sect1>
</chapter>

<chapter id="screensavers-0">
  <title>Nastavení šetřičů obrazovky</title>
  <highlights>
    <para>Tato kapitola popisuje, jak nastavit předvolby pro šetřič obrazovky. Rovněž poskytuje informace, jak změnit obrazovky, které jsou dostupné pro šetřič obrazovky.</para>
  </highlights>
  <sect1 id="screensavers-1">
    <title>Úvod do šetřičů obrazovky</title>
    <indexterm>
      <primary>šetřiče obrazovky</primary>
      <secondary>úvod</secondary>
    </indexterm>
    <indexterm>
      <primary>gnome-screensaver</primary>
      <see>šetřiče obrazovky</see>
    </indexterm>
    <para><firstterm>Šetřič obrazovky</firstterm> je aplikace, které změní obsah obrazovky, když se obrazovka nepoužívá. Šetřičem obrazovky v Pracovním prostředí GNOME je <application>gnome-screensaver</application>. Následující oddíly popisují, jak nastavit předvolby pro aplikaci <application>gnome-screensaver</application> a jak změnit motivy, které jsou pro šetřič obrazovky dostupné.</para>
  </sect1>
  <sect1 id="screensavers-2">
    <title>Nastavení předvoleb šetřiče obrazovky</title>
    <indexterm>
      <primary>šetřiče obrazovky</primary>
      <secondary>nastavení předvoleb</secondary>
    </indexterm>
    <para>Všechny předvolby a nastavení šetřiče obrazovky se uchovávají v <application>GConf</application>.</para>
    <para>Ke změně předvoleb aplikace šetřič obrazovky může uživatel použít nástroj předvoleb <application>Šetřič obrazovky</application>. Více informací o předvolbách šetřiče obrazovky je uvedeno <citetitle>Příručce uživatele pracovního prostředí GNOME</citetitle>.</para>
    <para>Otevření dialogového okna <guilabel>Předvolby šetřiče obrazovky</guilabel> může uživatel provést i spuštěním příkazu <command>/usr/bin/gnome-screensaver-preferences</command>.</para>
    <para>Pokud chcete nastavit výchozí předvolby pro šetřič obrazovky a politiky pro všechny uživatele, změňte nastavení šetřiče obrazovky ve zdroji výchozího nastavení GConf.</para>
    <para>Pokud chcete nastavit povinné předvolby pro šetřič obrazovky a politiky pro všechny uživatele, změňte nastavení šetřiče obrazovky ve zdroji povinného nastavení GConf.</para>
  </sect1>
  <sect1 id="screensavers-3">
    <title>Změna motivu šetřiče obrazovky</title>
    <indexterm>
      <primary>šetřiče obrazovky</primary>
      <secondary>změna motivu šetřiče obrazovky</secondary>
    </indexterm>
    <para>Aplikace Šetřič obrazovky umožňuje uživateli vybrat si jeden nebo více <firstterm>motivů šetřiče obrazovky</firstterm>. Motiv šetřiče obrazovky je ve skutečnosti aplikace, která na obrazovce, v době kdy ji uživatel nepoužívá, zobrazuje obrázky. Dostupné motivy šetřiče obrazovky nabízí aplikace nástroj předvoleb aplikace <application>Šetřič obrazovky</application>.</para>
    <para>Pokud chcete přidat nový motiv šetřiče obrazovky, nakopírujte spustitelný soubor pro <firstterm>výkonné jádro motivu šetřiče obrazovky</firstterm> do kterékoliv prohledávané složky z PATH nebo do složky se spustitelným souborem výkonného jádra motivu šetřiče obrazovky. Složku, ve které je umístěný spustitelný soubor výkonného jádra motivu šetřiče obrazovky, zjistíte pomocí příkazu: <screen><userinput>pkg-config --variable=privlibexecdir gnome-screensaver</userinput></screen> V dalším kroku přidejte do složky motiv šetřiče obrazovky soubor <filename>.desktop</filename> pro motiv. Složku motivů šetřiče obrazovku lze zjistit příkazem: <screen><userinput>pkg-config --variable=themesdir gnome-screensaver</userinput></screen> Do pole Exec v souboru <filename>.desktop</filename> zahrňte parametry, které jsou zapotřebí ke spuštění motivu šetřiče obrazovky přes celou obrazovku namísto v okně. Například některá starší výkonná jádra motivu šetřiče obrazovky mohou vyžadovat zahrnutí parametru <literal>-root</literal>, aby běžel šetřič obrazovky přes celou obrazovku.</para>
    <para>Infrastruktura <application>Šetřiče obrazovky</application> implementuje motiv v souladu se <ulink url="http://www.freedesktop.org/wiki/Standards/menu-spec">Specifikací nabídek od XDG</ulink>. Díky podpoře této specifikace vám GNOME může nabídnout:</para>

    <itemizedlist>
      <listitem>
        <para>Snadné přizpůsobení si motivu. Kvůli přizpůsobení dostupných motivů stačí upravit jen malý počet souborů. Nemusíte měnit své aplikace nebo soubory přesouvat.</para>
      </listitem>

      <listitem>
        <para>Snadnou instalaci motivu. Při instalaci motivů nemusíte poskytovat informace o systému.</para>
      </listitem>

      <listitem>
        <para>Nastavení systému takovým způsobem, aby uživatel nemohl motiv změnit.</para>
      </listitem>
    </itemizedlist>

  <para>Více informací viz <xref linkend="menustructure-0"/>.</para>

  </sect1>
</chapter>

<chapter id="sessions-0">
  <title>Správa sezení</title>
  <highlights>
    <para>Tato kapitola vás uvede do správy sezení a popíše vám, jak nastavit výchozí sezení. Kapitola také obsahuje informace o sezeních a přihlašovacích skriptech.</para>
  </highlights>
  <sect1 id="sessions-1">
    <title>Úvod do sezení</title>
    <indexterm>
      <primary>sezení</primary>
      <secondary>úvod</secondary>
    </indexterm>
    <para>Sezení je doba mezi tím, kdy se uživatel přihlásí do pracovního prostředí GNOME a kdy se uživatel odhlásí. Správce sezení se spustí po té, co <application>Správce přihlášení</application> ověří uživatele. Správce sezení dovoluje uživateli spravovat sezení. Např. může uživatel ukládat stav sezení a vrátit jej do téhož stavu při příštím přihlášení.</para>
    <para>V sezení musí běžet minimálně tyto aplikace:</para>
    <itemizedlist>
      <listitem>
        <para>Správce sezení <command>gnome-session</command>.</para>
      </listitem>
      <listitem>
        <para>Démon nastavení X <application>GConf</application>, <command>gnome-settings-daemon</command>.</para>
      </listitem>
      <listitem>
        <para>Aplikace <application>gnome-panel</application>, která provozuje panely v pracovním prostředí GNOME.</para>
      </listitem>
      <listitem>
        <para>Správce oken <application>Metacity</application>.</para>
      </listitem>
    </itemizedlist>
  </sect1>
  <sect1 id="sessions-3">
    <title>Nastavení výchozích hodnot sezení</title>
    <indexterm>
      <primary>sezení</primary>
      <secondary>nastavení výchozích hodnot</secondary>
    </indexterm>
    <para>V následující tabulce je seznam souborů, které obsahují informace výchozího sezení:</para>
    <informaltable frame="topbot">
      <tgroup cols="2" colsep="0" rowsep="0">
        <colspec colwidth="51.80*"/>
        <colspec colwidth="48.20*"/>
        <thead>
          <row rowsep="1">
            <entry>
              <para>Soubor</para>
            </entry>
            <entry>
              <para>Popis</para>
            </entry>
          </row>
        </thead>
        <tbody>
          <row>
            <entry valign="top">
              <para>
                <filename>/usr/share/gnome/default.session</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Soubor výchozího sezení. Podrobnosti výchozího sezení jsou uložené v tomto souboru.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>$HOME/.gnome2/session</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Soubor uživatelského sezení. Když uživatel změní sezení, podrobnosti se uloží do tohoto souboru.</para>
            </entry>
          </row>
        </tbody>
      </tgroup>
    </informaltable>
<!--The last row does not appear to be true in Mercury - check.-->
    <para>Pokud chcete nastavit detaily výchozího sezení pro všechny uživatele, změňte soubor výchozího sezení.</para>
    <para>Obnovit nastavení výchozího sezení pro uživatele můžete smazáním souboru sezení z domovské složky uživatele. Když není nalezen žádný soubor uživatelova sezení, tak se použije výchozí nastavení <filename>/usr/share/gnome/default.session</filename>.</para>
    <para>Jestliže chcete současné sezení uložit jako výchozí sezení, může uživatel spustit příkaz <command>gnome-session-save</command>.</para>
  </sect1>
</chapter>

<chapter id="help-0">
  <title>Systém nápovědy</title>
  <highlights>
    <para>Tato kapitola popisuje systém nápovědy v Pracovním prostředí GNOME</para>
  </highlights>
  <sect1 id="help-1">
    <title>Úvod do systému nápovědy</title>
    <indexterm>
      <primary>online nápověda</primary>
      <see>nápověda</see>
    </indexterm>
    <indexterm>
      <primary>nápověda</primary>
      <secondary>úvod</secondary>
    </indexterm>
    <para>Pracovní prostředí GNOME zobrazuje nápovědu v prohlížeči nápovědy <application>Yelp</application>. Na podrobnosti se můžete podívat v kapitole <ulink url="ghelp:user-guide?yelp">Prohlížeč nápovědy Yelp</ulink> v <ulink url="ghelp:user-guide">Uživatelské příručce Pracovního prostředí GNOME</ulink>.</para>
<para>Zdrojové dokumenty pro nápovědu jsou soubory ve formátu XML. Tyto soubory XML jsou psané dle definice typu dokumentu (DTD) DocBook XML verze 4.1.2. Soubory DocBook XML se konvertují na HTML pomocí stylů nainstalovaných jako součást <application>gnome-doc-utils</application> a výsledné HTML se zobrazí v prohlížeči nápovědy. Jestli se chcete dozvědět více od DocBook XML, navštivte následující URL:</para>
    <literallayout>
      <ulink url="http://www.oasis-open.org/docbook/xml/">http://www.oasis-open.org/docbook/xml</ulink>
    </literallayout>
    <para>Systém nápovědy využívá soubory <firstterm>Open Source Metadata Framework</firstterm> (OMF) a katalogový systém. Soubory OMF a katalogový systém jsou popsány v následujících oddílech.</para>
  </sect1>
  <sect1 id="help-3">
    <title>Soubory OMF</title>
    <indexterm>
      <primary>soubory .omf</primary>
      <see>soubory OMF</see>
    </indexterm>
    <indexterm>
      <primary>nápověda</primary>
      <secondary>soubory OMF</secondary>
    </indexterm>
    <indexterm>
      <primary>soubory OMF</primary>
    </indexterm>
    <para>Soubor XML pro každou příručku má přidružený soubor OMF. Soubor OMF obsahuje informace o příručce, které využívá prohlížeč nápovědy. Soubory OMF mají příponu <filename>.omf</filename>.</para>
    <para>Když instalujete aplikaci, instalační proces nainstaluje soubor OMF do složky souborů OMF. V případě, že má dokument nápovědy přidružený soubor OMF ve složce OMF souborů, je dokument nápovědy zobrazen v prohlížeči nápovědy.</para>
    <para>Soubory OMF obsahují informace o dokumentu nápovědy, jako jsou:</para>
    <itemizedlist>
      <listitem>
        <para>Umístění souboru XML pro dokument nápovědy</para>
      </listitem>
      <listitem>
        <para>Název dokumentu nápovědy</para>
      </listitem>
      <listitem>
        <para>Kategorii subjektu, ke kterému dokument nápovědy náleží</para>
      </listitem>
    </itemizedlist>
    <para>Více informací o tom, jak vytvářet soubory OMF, můžete najít v <ulink url="ghelp:writing_scrollkeeper_omf_files">Psaní souborů Scrollkeeper OMF</ulink>.</para>
  </sect1>
  <sect1 id="help-2">
    <title>Katalogový systém ScrollKeeper</title>
    <indexterm>
      <primary>nápověda</primary>
      <secondary>katalogový systém ScrollKeeper</secondary>
    </indexterm>
    <indexterm>
      <primary>katalogový systém ScrollKeeper</primary>
    </indexterm>
    <para><application>ScrollKeeper</application> je katalogový systém pro dokumentaci. Jeho primárním účelem je spravovat informace v souborech OMF pro prohlížeč nápovědy. Když nainstalujete aplikaci, nakopíruje se soubor OMF do složky <filename><replaceable>$prefix</replaceable>/share/omf/<replaceable>&lt;název-aplikace&gt;</replaceable></filename>.</para>

    <para><application>ScrollKeeper</application> vybuduje tabulku s obsahem ze sbírky souborů OMF ve složkách udaných v souboru <filename><replaceable>$prefix</replaceable>/etc/scrollkeeper.conf</filename>. Obvykle obsahuje jen jeden řádek s <varname>OMF_DIR</varname>, ve kterém je seznam složek oddělených dvojtečkou, které se rekurzívně prohledávají.</para>

    <programlisting>OMF_DIR=/usr/share/omf:/usr/local/share/omf:/opt/gnome2/share/omf:/opt/kde/omf
</programlisting>

    <para><application>ScrollKeeper</application> obsahuje hierarchii kategorií subjektů, ke kterým dokument nápovědy může náležet. Kategorie subjektu dokumentu v souboru OMF určuje umístění dokumentu v tabulce obsahů, které prohlížeč nápovědy nabízí.</para>

    <para>Hierarchie kategorií subjektů je definovaná v souboru <filename><replaceable>$prefix</replaceable>/scrollkeeper/Templates/<replaceable>&lt;jazyk&gt;</replaceable>/scrollkeeper_cl.xml</filename>. Kategorie subjektu dokumentu musí odpovídat kategorii specifikované v tomto souboru.</para>

    <para>Více informací o systému <application>Scrollkeeper</application> najdete na jeho webu <ulink url="http://scrollkeeper.sourceforge.net/">http://scrollkeeper.sourceforge.net/</ulink>.</para>

    <note>
      <para>V případě, že je dokument XML přesunut na nové místo, je zapotřebí aktualizovat umístění v souboru OMF.</para>
    </note>
  </sect1>
</chapter>

<chapter id="performance-0">
  <title>Zlepšení výkonu</title>
  <highlights>
    <para>Tato kapitola popisuje, jak zlepšit výkon pracovního prostředí GNOME.</para>
  </highlights>
  <sect1 id="performance-1">
    <title>Úvod ke zvyšování výkonu</title>
    <indexterm>
      <primary>výkon, zlepšení</primary>
      <secondary>úvod</secondary>
    </indexterm>
    <para>Tato kapitola uvádí několik předvoleb, jejichž nastavením můžete zlepšit výkon pracovního prostředí GNOME. K nastavení předvoleb pro uživatele můžete použít příkaz <command>gconftool-2</command>. Ukázka příkazu v této kapitole ukazuje, jak nastavit hodnotu ve zdroji uživatelského nastavení.</para>
    <para>Můžete také použít přepínače <literal>--direct</literal> a <literal>--config-source</literal> k nastavení povinných hodnot a výchozích hodnot předvoleb. Rovněž můžete použít příkaz <command>gconftool-2</command> ve skriptu k nastavení hodnot více předvoleb naráz. Více informací o příkazu <command>gconftool-2</command> a přepínačích tohoto příkazu podává <xref linkend="gconf-0"/>.</para>
  </sect1>
  <sect1 id="performance-8">
    <title>Snížení zátěže CPU</title>
    <indexterm>
      <primary>výkon, zlepšení</primary>
      <secondary>snížení zátěže CPU</secondary>
    </indexterm>
    <indexterm>
      <primary>snížení</primary>
      <secondary>zátěž CPU</secondary>
    </indexterm>
    <indexterm>
      <primary>zátěž CPU</primary>
      <secondary>snížení</secondary>
    </indexterm>
    <para>Tento oddíl popisuje předvolby, které můžete nastavit, abyste snížily vytížení CPU pracovním prostředím GNOME.</para>
    <sect2 id="performance-3">
      <title>Použití motivu s menšími požadavky na zdroje CPU</title>
      <indexterm>
        <primary>motivy</primary>
        <secondary>varianty rámu okna</secondary>
        <tertiary>a využití CPU</tertiary>
      </indexterm>
      <indexterm>
        <primary>motivy</primary>
        <secondary>a využití CPU</secondary>
      </indexterm>
      <para>Některé motivy načítají kvůli vykreslení rámů oken obrázky. Jiné používají k vykreslení rámů oken jednodušší techniky.</para>
      <para>Volba motivu rámů oken Crux načítá soubory s obrázky a může zpomalit systémy s omezenými zdroji CPU. Abyste zátěž CPU snížili, používejte následující volby pro rámy oken:</para>
      <itemizedlist>
        <listitem>
          <para>Atlanta</para>
        </listitem>
        <listitem>
          <para>Esco</para>
        </listitem>
      </itemizedlist>
      <para>Následující volby rámů oken rovněž využívají zdroje CPU méně než Crux:</para>
      <itemizedlist>
        <listitem>
          <para>AgingGorilla</para>
        </listitem>
        <listitem>
          <para>Bright</para>
        </listitem>
        <listitem>
          <para>Metabox</para>
        </listitem>
      </itemizedlist>
      <note>
        <para>Metabox nepracuje správně s volbou inverzního ovládání, jako je HighContrastInverse. Pro volbu inverzního ovládání použijte Atlantu.</para>
      </note>
      <para><indexterm><primary>motivy</primary><secondary>volby rámu okna</secondary><tertiary>změna</tertiary></indexterm>Pokud chcete změnit volbu motivu rámu okna, spusťte následující příkaz:</para>
      <screen><userinput>gconftool-2 \
--type string \
--set /apps/metacity/general/theme <replaceable>název-varianty</replaceable></userinput></screen>
      <para>Například, když chcete použít Atlantu, spusťte následující příkaz:</para>
      <screen><userinput>gconftool-2 \
--type string \
--set /apps/metacity/general/theme Atlanta</userinput></screen>
      <para>Alternativně může k výběru příslušné varianty uživatel použít nástroj předvoleb <application>Motivu</application>.</para>
      <tip>
        <para>Můžete použít aplikaci <application>Prohlížeč motivů Metacity</application> k změření výkonu varianty rámu okna a k náhledu varianty. Ke spuštění <application>Prohlížeče motivů Metacity</application> použijte následující příkaz:</para>
        <screen><userinput>metacity-theme-viewer <replaceable>název-varianty</replaceable></userinput></screen>
        <para>Například pro změření výkonu Atlanty a náhledu Atlanty, spusťte následující příkaz:</para>
        <screen><userinput>metacity-theme-viewer Atlanta</userinput></screen>
      </tip>
    </sect2>
    <sect2 id="performance-2">
      <title>Snížení zátěže CPU vypnutím zobrazování ikon v nabídkách</title>
      <indexterm>
        <primary>ikony, v nabídkách</primary>
        <see>ikony nabídky</see>
      </indexterm>
      <indexterm>
        <primary>ikony nabídky</primary>
        <secondary>a využití CPU</secondary>
      </indexterm>
      <indexterm>
        <primary>ikony nabídky</primary>
        <secondary>vypnutí</secondary>
      </indexterm>
      <para>Některé položky v nabídkách zobrazují po své straně ikonu. Tuto vlastnost můžete vypnout spuštěním následujícího příkazu:</para>
      <screen><userinput>gconftool-2 \
--type bool \
--set /desktop/gnome/interface/menus_have_icons false</userinput></screen>
      <para>Alternativně může uživatel k vypnutí volby <guilabel>Zobrazovat v nabídkách ikony</guilabel> použít nástroj předvoleb <application>Nabídky a panely nástrojů</application>.</para>
    </sect2>
    <sect2 id="performance-6">
      <title>Snížení zátěže CPU vypnutím úvodní obrazovky</title>
      <indexterm>
        <primary>úvodní obrazovka</primary>
        <secondary>a využití CPU</secondary>
      </indexterm>
      <para>Standardně se během přihlašování uživatele do pracovního prostředí zobrazuje úvodní obrazovka. Na úvodní obrazovce se během přihlašování uživatele ukazují ikony. Pro snížení zátěže CPU během přihlašování můžete úvodní obrazovku vypnout.</para>
      <para><indexterm><primary>úvodní obrazovka</primary><secondary>vypnutí</secondary></indexterm>Vypnutí úvodní obrazovky provedete následujícím příkazem:</para>
      <screen><userinput>gconftool-2 \
--type bool \
--set /apps/gnome-session/options/show_splash_screen false</userinput></screen>
      <para>Alternativně může uživatel k vypnutí volby <guilabel>Zobrazit při přihlašování úvodní obrazovku</guilabel> použít nástroj předvoleb <application>Sezení</application>.</para>
    </sect2>
    <sect2 id="performance-4">
      <title>Snížení zátěže CPU vypnutím animace panelu</title>
      <indexterm>
        <primary>panely</primary>
        <secondary>animace, vypnutí</secondary>
      </indexterm>
      <para>Když uživatel zobrazuje nebo skrývá panely, mohou se panely zobrazovat nebo skrývat s animovaným efektem. Pro vypnutí animace panelu spusťte následující příkaz:</para>
      <screen><userinput>gconftool-2 \
--type bool \
--set /apps/panel/global/enable_animations false</userinput></screen>
      <para>Alternativně může uživatel k vypnutí volby <guilabel>Vykreslování a animace panelu</guilabel> použít nástroj předvoleb <application>Panel</application>.</para>
    </sect2>
    <sect2 id="performance-7">
      <title>Zlepšení výkonu správce souborů</title>
      <indexterm>
        <primary>Nautilus</primary>
        <see>správce souborů</see>
      </indexterm>
      <para>Správce souborů <application>Nautilus</application> zahrnuje některé vlastnosti, které mohou ovlivnit zlepšení výkonu.</para>
      <sect3 id="performance-9">
        <title>Změna předvoleb výkonu</title>
        <indexterm>
          <primary>správce souborů</primary>
          <secondary>změna předvoleb výkonu</secondary>
        </indexterm>
        <para>Správce souborů zahrnuje předvolby vztahující se k výkonu. Každá předvolba výkonu může nabývat tří hodnot. Hodnoty popisuje následující tabulka:</para>
        <informaltable frame="topbot">
          <tgroup cols="2" colsep="0" rowsep="0">
            <colspec colwidth="34.46*"/>
            <colspec colwidth="65.54*"/>
            <thead>
              <row rowsep="1">
                <entry>
                  <para>Hodnota</para>
                </entry>
                <entry>
                  <para>Popis</para>
                </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry valign="top">
                  <para>
                    <literal>always (vždy)</literal>
                  </para>
                </entry>
                <entry valign="top">
                  <para>Provést akci jak pro místní soubory, tak pro soubory na vzdálených systémech.</para>
                </entry>
              </row>
              <row>
                <entry valign="top">
                  <para>
                    <literal>local_only (pouze místní)</literal>
                  </para>
                </entry>
                <entry valign="top">
                  <para>Provést akci jen pro místní soubory</para>
                </entry>
              </row>
              <row>
                <entry valign="top">
                  <para>
                    <literal>nikdy (nikdy)</literal>
                  </para>
                </entry>
                <entry valign="top">
                  <para>Nikdy akci neprovádět. Když nastavíte předvolbu výkonu na nikdy, snížíte zátěž CPU a síťového provozu.</para>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </informaltable>
        <para>Následující tabulka popisuje předvolby výkonu pro správce souborů. Pro nejvyšší výkon nastavte hodnotu předvolby na <literal>never</literal>.</para>
        <informaltable frame="topbot">
          <tgroup cols="2" colsep="0" rowsep="0">
            <colspec colwidth="43.34*"/>
            <colspec colwidth="56.66*"/>
            <thead>
              <row rowsep="1">
                <entry>
                  <para>Předvolba</para>
                </entry>
                <entry>
                  <para>Popis</para>
                </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry valign="top">
                  <para>
                    <literal>show_icon_text</literal>
                  </para>
                </entry>
                <entry valign="top">
                  <para>Určuje, kdy se má do ikony reprezentující soubor vytvářet náhled obsahu textového souboru. Aby se náhled obsahu textového souboru nevytvářel nikdy, spusťte tento příkaz:</para>
                  <screen><userinput>gconftool-2 \
--type string \
--set /apps/nautilus/preferences/show_icon_text never</userinput></screen>
                  <para>Případně může uživatel provést tyto kroky:</para>
                  <orderedlist>
                    <listitem>
                      <para>Zvolit <menuchoice><guimenu>Upravit</guimenu><guimenuitem>Předvolby</guimenuitem></menuchoice> v okně správce souborů a přejít na kartu <guilabel>Náhled</guilabel>.</para>
                    </listitem>
                    <listitem>
                      <para>Vybrat hodnotu předvolby <guilabel>Zobrazit text v ikonách</guilabel>.</para>
                    </listitem>
                  </orderedlist>
                </entry>
              </row>
              <row>
                <entry valign="top">
                  <para>
                    <literal>show_directory_item_counts</literal>
                  </para>
                </entry>
                <entry valign="top">
                  <para>Určuje, kdy se má zobrazovat počet položek ve složce. Aby se počet položek ve složce nezobrazoval nikdy, spusťte tento příkaz:</para>
                  <screen><userinput>gconftool-2 \
--type string \
--set /apps/nautilus/preferences/show_directory_item_counts never</userinput></screen>
                  <para>Případně může uživatel provést tyto kroky:</para>
                  <orderedlist>
                    <listitem>
                      <para>Zvolit <menuchoice><guimenu>Upravit</guimenu><guimenuitem>Předvolby</guimenuitem></menuchoice> v okně správce souborů a přejít na kartu <guilabel>Náhled</guilabel>.</para>
                    </listitem>
                    <listitem>
                      <para>Vybrat hodnotu předvolby <guilabel>Počítat počet položek</guilabel>.</para>
                    </listitem>
                  </orderedlist>
                </entry>
              </row>
              <row>
                <entry valign="top">
                  <para>
                    <literal>show_image_thumbnails</literal>
                  </para>
                </entry>
                <entry valign="top">
                  <para>Určuje, kdy se mají zobrazovat náhledy souborů s obrázky. Aby se náhledy nezobrazovaly nikdy, spusťte tento příkaz:</para>
                  <screen><userinput>gconftool-2 \
--type string \
--set /apps/nautilus/preferences/show_image_thumbnails never</userinput></screen>
                  <para>Případně může uživatel provést tyto kroky:</para>
                  <orderedlist>
                    <listitem>
                      <para>Zvolit <menuchoice><guimenu>Upravit</guimenu><guimenuitem>Předvolby</guimenuitem></menuchoice> v okně správce souborů a přejít na kartu <guilabel>Náhled</guilabel>.</para>
                    </listitem>
                    <listitem>
                      <para>Vybrat hodnotu předvolby <guilabel>Zobrazovat náhledy</guilabel>.</para>
                    </listitem>
                  </orderedlist>
                </entry>
              </row>
              <row>
                <entry valign="top">
                  <para>
                    <literal>preview_sound</literal>
                  </para>
                </entry>
                <entry valign="top">
                  <para>Určuje, kdy se má přehrávat ukázka souborů s zvuky. Aby se ukázky nepřehrávaly nikdy, spusťte tento příkaz:</para>
                  <screen><userinput>gconftool-2 \
--type string \
--set /apps/nautilus/preferences/preview_sound never</userinput></screen>
                  <para>Případně může uživatel provést tyto kroky:</para>
                  <orderedlist>
                    <listitem>
                      <para>Zvolit <menuchoice><guimenu>Upravit</guimenu><guimenuitem>Předvolby</guimenuitem></menuchoice> v okně správce souborů a přejít na kartu <guilabel>Náhled</guilabel>.</para>
                    </listitem>
                    <listitem>
                      <para>Vybrat hodnotu předvolby <guilabel>Ukázky zvukových souborů</guilabel>.</para>
                    </listitem>
                  </orderedlist>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </informaltable>
      </sect3>
      <sect3 id="performance-10">
        <title>Vypnutí postranního panelu, panelu nástrojů a panelu umístění</title>
        <indexterm>
          <primary>správce souborů</primary>
          <secondary>postranní panel, vypnutí</secondary>
        </indexterm>
        <para>Správce souborů obsahuje předvolby, které umožňují vypnutí postranního panelu a panelu nástrojů. Když chcete zlepšit výkon správce souborů, tak postranní panel a panel nástrojů vypněte.</para>
        <para>Pro vypnutí postranního panelu spusťte tento příkaz:</para>
        <screen><userinput>gconftool-2 \
--type bool \
--set /apps/nautilus/preferences/start_with_sidebar false</userinput></screen>
        <para><indexterm><primary>správce souborů</primary><secondary>panel nástrojů, vypnutí</secondary></indexterm>Pro vypnutí panelu nástrojů spusťte tento příkaz:</para>
        <screen><userinput>gconftool-2 \
--type bool \
--set /apps/nautilus/preferences/start_with_toolbar false</userinput></screen>
        <para>Můžete také vypnout panel umístění. Uživatel s jej může zobrazit, pokud jej bude potřebovat, klávesovou zkratkou <keycombo><keycap>Ctrl</keycap><keycap>L</keycap></keycombo>.</para>
        <para><indexterm><primary>správce souborů</primary><secondary>panel umístění, vypnutí</secondary></indexterm>Pro vypnutí panelu umístění spusťte tento příkaz:</para>
        <screen><userinput>gconftool-2 \
--type bool \
--set /apps/nautilus/preferences/start_with_location_bar false</userinput></screen>
      </sect3>
      <sect3 id="performance-11">
        <title>Vypnutí pracovní plochy</title>
        <indexterm>
          <primary>správce souborů</primary>
          <secondary>pracovní plocha, vypnutí</secondary>
        </indexterm>
        <indexterm>
          <primary>pracovní plocha</primary>
          <secondary>vypnutí</secondary>
        </indexterm>
        <para>Správce souborů obsahuje předvolby, které dovolují uživatelům použít <application>Nautilus</application> ke správě pracovní plochy. Můžete pracovní plochu vypnout, abyste zlepšili výkon. Avšak po vypnutí pracovní plochy nebudete moci dělat následující věci:</para>
        <itemizedlist>
          <listitem>
            <para>Použít správce souborů ke změně vzoru a barvy pozadí pracovní plochy.</para>
          </listitem>
          <listitem>
            <para>Použít objekty pracovní plochy, jako je např. <guilabel>Koš</guilabel>. Objekty pracovní plochy se na ploše nebudou zobrazovat.</para>
          </listitem>
        </itemizedlist>
        <para>Pro vypnutí pracovní plocha spusťte následující příkaz:</para>
        <screen><userinput>gconftool-2 \
--type bool \
--set /apps/nautilus/preferences/show_desktop false</userinput></screen>
      </sect3>
    </sect2>
  </sect1>
  <sect1 id="performance-12">
    <title>Snížení síťového provozu systému X Window</title>
    <indexterm>
      <primary>snížení</primary>
      <secondary>síťový provoz systému X Window</secondary>
    </indexterm>
    <indexterm>
      <primary>síťový provoz systému X Window, snížení</primary>
    </indexterm>
    <indexterm>
      <primary>síťový provoz, snížení</primary>
    </indexterm>
    <para>Tento oddíl popisuje předvolby, které mohou snížit síťový provoz systému X Window v pracovním prostředí GNOME.</para>
    <sect2 id="performance-14">
      <title>Použití volby motivu vytvářejícího menší síťový provoz</title>
      <indexterm>
        <primary>motivy</primary>
        <secondary>varianty rámu okna</secondary>
        <tertiary>a síťový provoz</tertiary>
      </indexterm>
      <indexterm>
        <primary>motivy</primary>
        <secondary>a síťový provoz</secondary>
      </indexterm>
      <para>Protokoly vzdáleného zobrazování nepřenáší u bloků pixelů stejné barvy zvlášť každý pixel, ale celý blok pixelů naráz.</para>
      <para>Pokud chcete snížit síťový provoz systému X Window, použijte volbu motivu rámu, který má jednolité barvy. To uděláte, když si zvolíte jednu z následujících variant rámu okna:</para>
      <itemizedlist>
        <listitem>
          <para>Atlanta</para>
        </listitem>
        <listitem>
          <para>Esco</para>
        </listitem>
      </itemizedlist>
      <para>Popis, jak změnit variantu motivu, podává <xref linkend="performance-3"/>.</para>
    </sect2>
    <sect2 id="performance-15">
      <title>Snížení síťového provozu vypnutím zobrazování ikon v nabídkách</title>
      <indexterm>
        <primary>ikony nabídky</primary>
        <secondary>a síťový provoz</secondary>
      </indexterm>
      <para>Některé položky nabídek zobrazují po straně ikonu. V případě, že se ikona nachází na jiném souborovém systému, můžete tato vlastnost navýšit síťový provoz systému X Window. Tato vlastnost může také navýšit síťový provoz systému X Window v situaci, kdy se panely zobrazují na vzdáleném počítači.</para>
      <para>Popis, jak vypnout tuto vlastnost, podává <xref linkend="performance-2"/>.</para>
    </sect2>
  </sect1>
  <sect1 id="performance-17">
    <title>Omezení použitých barev a zlepšení zobrazovací kvality</title>
    <indexterm>
      <primary>snížení</primary>
      <secondary>použití barev</secondary>
    </indexterm>
    <indexterm>
      <primary>použití barev</primary>
      <secondary>snížení</secondary>
    </indexterm>
    <indexterm>
      <primary>kvalita zobrazení, zlepšení</primary>
    </indexterm>
    <para>Hodně moderních počítačových systému podporuje 24bitové barvy, což je 16&nbsp;777&nbsp;216 barev. Avšak mnoho uživatelů stále používá systémy s podporou pouze 8bitových barev, což je 256 barev.</para>
    <para>Pracovní prostředí GNOME používá <firstterm>bezpečnou webovou paletu</firstterm>. Jedná se o paletu 216 barev pro všeobecné použití, která je navržená na optimalizaci použití barev v systémech, které podporují pouze 8bitové barvy. Avšak některé vizuální komponenty pracovního prostředí GNOME jsou navržené pro systémy s podporou 24bitových barev.</para>
    <para>V systémech s podporou pouze 8bitových barev se mohou při zobrazování vyskytnout následující problémy:</para>
    <itemizedlist>
      <listitem>
        <para>Okna, ikony a obrázky na pozadí mohou vypadat zrnité. Mnoho motivů, obrázků na pozadí a ikon používá barvy, které nejsou z bezpečné webové palety. Barvy, které v paletě nejsou zahrnuté, se nahradí nejbližší podobnou barvou nebo se přibližně vyrastrují. Tato náhrada barev způsobuje zrnitý vzhled.</para>
      </listitem>
      <listitem>
        <para>Aplikace, které nepoužívají bezpečnou webovou paletu mají dostupných méně barev. Může se vyskytnout chyba barev. Některé barvy se nemusí v uživatelském rozhraní aplikace objevit. Některé aplikace se mohou i zhroutit, pokud nedokážou alokovat barvu.</para>
      </listitem>
      <listitem>
        <para>Může se objevit blikání barev ve chvílích, kdy uživatel přepíná mezi aplikacemi, které používají bezpečnou webovou paletu a aplikacemi, které ji nevyužívají. Aplikace které nepoužívají bezpečnou webovou paletu mohou používat vlastní mapu barev. Když se používá vlastní mapa barev, mohou ostatní vizuální komponenty ztratit barvy a stát se nečitelnými.</para>
      </listitem>
    </itemizedlist>
    <para>Následující oddíl popisuje, jak optimalizovat vzhled pracovního prostředí GNOME na systémech, které podporují pouze 8bitové barvy.</para>
    <sect2 id="performance-20">
      <title>Použití volby tématu pracujícího s bezpečnou webovou paletou</title>
      <indexterm>
        <primary>motivy</primary>
        <secondary>varianty rámu okna</secondary>
        <tertiary>a použití barev</tertiary>
      </indexterm>
      <indexterm>
        <primary>motivy</primary>
        <secondary>a použití barev</secondary>
      </indexterm>
      <para>Některé varianty rámů oken používají barvy, které nejsou z bezpečné webové palety. Bright a Esco používají barvy z bezpečné webové palety. Nezpůsobují při 8bitovém zobrazení barev zrnitý vzhled, jako jiné varianty rámů oken. Pro nejlepší výsledky zobrazení v 8bitovém režimu proto použijte Bright nebo Esco.</para>
      <para>Popis, jak změnit variantu motivu, podává <xref linkend="performance-3"/>.</para>
    </sect2>
    <sect2 id="performance-21">
      <title>Omezení použitých barev vypnutím zobrazení ikon v nabídkách</title>
      <indexterm>
        <primary>ikony nabídky</primary>
        <secondary>a použití barev</secondary>
      </indexterm>
      <para>Některé položky v nabídkách zobrazují po své straně ikonu. Pokud ikona obsahuje barvy, které nejsou v bezpečné webové paletě, může tato vlastnost zvýšit počet použitých barev.</para>
      <para>Popis, jak vypnout tuto vlastnost, podává <xref linkend="performance-2"/>.</para>
    </sect2>
    <sect2 id="performance-18">
      <title>Omezení použitých barev vypnutím úvodní obrazovky</title>
      <indexterm>
        <primary>úvodní obrazovka</primary>
        <secondary>a použití barev</secondary>
      </indexterm>
      <para>Můžete vypnout úvodní obrazovku, aby zůstalo dostupných více barev pro pracovní prostředí GNOME a ostatní aplikace.</para>
      <para>Podrobnější popis, jak vypnout úvodní obrazovku, podává <xref linkend="performance-6"/>.</para>
    </sect2>
    <sect2 id="performance-19">
      <title>Omezení použitých barev nastavením jednolité barvy na pozadí</title>
      <indexterm>
        <primary>pozadí</primary>
        <secondary>použití jednolité barvy</secondary>
      </indexterm>
      <para>Použijte pozadí nastavené na jednolitou barvu. Jednolitá barva snižuje počet barev použitých pracovním prostředím GNOME.</para>
      <para>Pro nastavení jednolité barvy na pozadí spusťte následující příkazy:</para>
      <screen><userinput>gconftool-2 \
--type string \
--set /desktop/gnome/background/picture_options none</userinput></screen>
      <screen><userinput>gconftool-2 \
--type string \
--set /desktop/gnome/background/color_shading_type solid</userinput></screen>
      <screen><userinput>gconftool-2 \
--type string \
--set /desktop/gnome/background/primary_color #<replaceable>šestnáctkový-kód-barvy</replaceable></userinput></screen>
      <para>Alternativně může uživatel k výběru jednolité barvy pozadí použít nástroj předvoleb <application>Pozadí</application>.</para>
    </sect2>
  </sect1>
</chapter>

<chapter id="lockdown-0">
  <title>Zakázání funkcí pracovního prostředí GNOME</title>
  <highlights>
    <para>Tato kapitola popisuje, jak zakázat určité funkce pracovního prostředí GNOME.</para>
  </highlights>
  <sect1 id="lockdown-1">
    <title>Úvod do zakázání funkcí pracovního prostředí GNOME</title>
    <indexterm>
      <primary>zakázání funkcí</primary>
      <secondary>úvod</secondary>
    </indexterm>
    <indexterm>
      <primary>zamknutí</primary>
      <see>zakázání funkcí</see>
    </indexterm>
    <para>Pracovní prostředí GNOME obsahuje vlastnosti, díky kterým můžete omezit přístup k určitým funkcím pracovního prostředí GNOME. Zakázání funkcí je užitečné v různých situacích, kdy chcete omezit činnosti, které můžete uživatel na počítači provádět. Například můžete chtít zabránit operacím v příkazové řádce na počítači, který je k dispozici pro veřejné použití na předváděcí akci. Zakázání funkcí je známé také jako <emphasis>zamknutí</emphasis> funkcí.</para>
    <para>Funkcí zakážete nastavením klíče <application>GConf</application>. Jak se nastavují klíče <application>GConf</application> popisuje <xref linkend="gconf-0"/>. Pro nastavení klíčů <application>GConf</application> ve zdroji uživatelského nastavení můžete použít také aplikaci <application>Editor nastavení</application>. Podrobnější popis k <application>Editoru nastavení</application> najdete v <citetitle>Příručce editoru GConf</citetitle>.</para>
  </sect1>
  <sect1 id="lockdown-manual">
    <title>Ruční zamknutí nastavení</title>
    <sect2 id="lockdown-2">
      <title>Zakázání zámku obrazovky a odhlášení</title>
      <indexterm>
        <primary>zakázání funkcí</primary>
        <secondary>zámek obrazovky</secondary>
      </indexterm>
      <indexterm>
        <primary>zakázání funkcí</primary>
        <secondary>odhlášení</secondary>
      </indexterm>
      <para>Jestliže chcete zakázat funkce zámek obrazovky a odhlášení, nastavte klíče <literal>/apps/panel/global/disable_lock_screen</literal> a <literal>/apps/panel/global/disable_log_out</literal> na hodnotu <literal>true</literal>.</para>
      <para>Jakmile zakážete funkce zámek obrazovky a odhlášení, zmizí z panelu následující položky:</para>
      <itemizedlist>
        <listitem>
          <para>Položky <guimenuitem>Zamknout obrazovku</guimenuitem> a <guimenuitem>Odhlásit uživatele <replaceable>jméno</replaceable></guimenuitem> z <guimenu>Hlavní nabídky</guimenu>.</para>
        </listitem>
        <listitem>
          <para>Položky <guimenuitem>Zamknout obrazovku</guimenuitem> a <guimenuitem>Odhlásit</guimenuitem> z nabídky <menuchoice><guimenu>Přidat na panel</guimenu><guimenuitem>Akce</guimenuitem></menuchoice>. Tuto nabídku otevřete kliknutím pravým tlačítkem na oblast panelu a zvolením <menuchoice><guimenu>Přidat na panel</guimenu><guimenuitem>Akce</guimenuitem></menuchoice>.</para>
        </listitem>
        <listitem>
          <para>Položky <guimenuitem>Zamknout obrazovku</guimenuitem> a <guimenuitem>Odhlásit uživatele <replaceable>jméno</replaceable></guimenuitem> z nabídky <guimenu>Akce</guimenu> v appletu <application>Panel nabídky</application>.</para>
        </listitem>
      </itemizedlist>
      <para>Rovněž se zakážou tlačítka <guibutton>Zamknout obrazovku</guibutton> a <guibutton>Odhlásit</guibutton> na panelech.</para>
    </sect2>
    <sect2 id="lockdown-12">
      <title>Zakázání operací příkazového řádku</title>
      <indexterm>
        <primary>zakázání funkcí</primary>
        <secondary>příkazový řádek</secondary>
      </indexterm>
      <para>Pokud chcete zakázat operace z příkazového řádku, nastavte klíč <literal>/desktop/gnome/lockdown/disable_command_line</literal> na <literal>true</literal>.</para>
      <para>Když zakážete operace příkazového řádku, projeví se v uživatelském rozhraní následující změny:</para>
      <itemizedlist>
        <listitem>
          <para>Položka <guimenuitem>Spustit aplikaci</guimenuitem> zmizí z následujících nabídek:</para>
          <itemizedlist>
            <listitem>
              <para>
                <guimenu>Hlavní nabídka</guimenu>
              </para>
            </listitem>
            <listitem>
              <para>Podnabídka <guimenu>Akce</guimenu> v nabídce <guimenu>Přidat na panel</guimenu></para>
            </listitem>
            <listitem>
              <para>Nabídka <guimenu>Akce</guimenu> v appletu <application>Panel nabídky</application></para>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <para>Zakáží se případná tlačítka <guibutton>Spustit</guibutton> na panelu.</para>
        </listitem>
      </itemizedlist>
      <para>Abyste zakázali operace příkazové řádky, musíte navíc odstranit položky nabídky, které spouští terminálové aplikace. Např. můžete chtít odstranit položky nabídky, které obsahují následující příkazy:</para>
      <itemizedlist>
        <listitem>
          <para>Příkaz <application>Terminál GNOME</application>, což je <command>/usr/bin/gnome-terminal</command></para>
        </listitem>
        <listitem>
          <para>
            <command>/usr/bin/xterm</command>
          </para>
        </listitem>
        <listitem>
          <para>
            <command>/usr/bin/setterm</command>
          </para>
        </listitem>
      </itemizedlist>
      <para>Položky se odstraní z následujících nabídek:</para>
      <itemizedlist>
        <listitem>
          <para>
            <guimenu>Hlavní nabídka</guimenu>
          </para>
        </listitem>
        <listitem>
          <para>
            <menuchoice>
              <guimenu>Přidat na panel</guimenu>
              <guimenuitem>Spouštěč z nabídky</guimenuitem>
            </menuchoice>
          </para>
        </listitem>
      </itemizedlist>
      <para>Abyste zakázali operace příkazové řádky, musíte ještě zakázat applet <application>Příkazový řádek</application>. Applet <application>Příkazový řádek</application> můžete zakázat tak, že jej přidáte do klíče <literal>/apps/panel/global/disabled_applets</literal>. Když applet <application>Příkazový řádek</application> zakážete, zmizí z <guimenu>Hlavní nabídky</guimenu> a nabídky <menuchoice><guimenu>Přidat na panel</guimenu><guimenuitem>Pomůcky</guimenuitem></menuchoice>.</para>
    </sect2>
    <sect2 id="lockdown-11">
      <title>Zakázání nastavení panelu</title>
      <indexterm>
        <primary>zakázání funkcí</primary>
        <secondary>nastavení panelu</secondary>
      </indexterm>
      <para>Pokud chcete zakázat nastavení panelu, nastavte klíč <literal>/apps/panel/global/locked_down</literal> na <literal>true</literal>.</para>
      <para>Když zakážete nastavení panelu, projeví se v uživatelském rozhraní následující změny:</para>
      <itemizedlist>
        <listitem>
          <para>Následující položky zmizí z vyskakovací nabídky panelu a z vyskakovací nabídky zásuvky:</para>
          <itemizedlist>
            <listitem>
              <para>
                <guimenuitem>Přidat na panel</guimenuitem>
              </para>
            </listitem>
            <listitem>
              <para>
                <guimenuitem>Odstranit tento panel</guimenuitem>
              </para>
            </listitem>
            <listitem>
              <para>
                <guimenuitem>Vlastnosti</guimenuitem>
              </para>
            </listitem>
            <listitem>
              <para>
                <guimenuitem>Přidat panel</guimenuitem>
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <para>Zakáže se vyskakovací nabídka spouštěče.</para>
        </listitem>
        <listitem>
          <para>Z vyskakovací nabídky appletu zmizí následující položky:</para>
          <itemizedlist>
            <listitem>
              <para>
                <guimenuitem>Odstranit z panelu</guimenuitem>
              </para>
            </listitem>
            <listitem>
              <para>
                <guimenuitem>Zamknout v panelu</guimenuitem>
              </para>
            </listitem>
            <listitem>
              <para>
                <guimenuitem>Přesunout</guimenuitem>
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <para>Zakáže se vyskakovací nabídka <guimenu>Hlavní nabídky</guimenu>.</para>
        </listitem>
        <listitem>
          <para>Zakáže se funkce přetahování spouštěče, takže uživatelé nebudou schopní přetahovat spouštěče na nebo z panelu.</para>
        </listitem>
        <listitem>
          <para>Zakáže se funkce přetahování panelu, takže uživatel nebude moci přesouvat panel na nová místa.</para>
        </listitem>
      </itemizedlist>
    </sect2>
  </sect1>
  <sect1 id="lockdown">
    <title>Editor omezení práv</title>
  
    <para>V GNOME 2.14 byl přidán grafický editor omezení práv nazývaný <application>Pessulus</application>, aby se usnadnily úkoly týkající se zamykání nastavení pracovního prostředí.</para>
  
    <sect2 id="lockdown-start">
      <title>Začínáme</title>
  
      <para>Editor omezení práv spustíte takto:</para>
  
      <itemizedlist>
        <listitem>
          <para>Klikněte na <menuchoice><guimenu>Systém</guimenu><guisubmenu>Správa</guisubmenu><guimenuitem>Editor na omezení práv uživatele</guimenuitem></menuchoice></para>
        </listitem>
  
        <listitem>
          <para>Spusťte v terminálovém okně příkaz <command>pessulus</command></para>
        </listitem>
      </itemizedlist>
  
      <para>Uvidíte okno s několika různými kartami. Každá z karet představuje jinou kategorii nastavení pracovního prostředí, která mohou být zakázána. V následujícím oddíle probereme jednotlivé kategorie a poskytneme stručný popis ke každému nastavení, které lze zakázat.</para>
    </sect2>
  
    <sect2 id="lockdown-disabling">
      <title>Zakazování funkcí</title>
  
      <para>Když chcete zakázat nastavení, zaškrtněte zaškrtávací políčko vedle popisu nastavení. Většina nastavení se projeví ihned, ale některá vyžadují restart aplikace, aby se projevila.</para>
  
      <para>Po svém spuštění se aplikace <application>pessulus</application> pokusí získat přístup ke zdroji povinných nastavení GConf. Adresa tohoto zdroje nastavení je <literal>xml:merged:<replaceable>$prefix</replaceable>/etc/gconf/gconf.xml.mandatory</literal>. Pokud má uživatel, který aplikaci <application>pessulus</application> spouští, přístup k tomuto zdroji nastavení, zobrazí se vedle zaškrtávacího pole každého nastavení ikona zámku. Klikáním na zámek přepínáte, zda je nastavení povinné. V případě, že nastavení je povinné, tak běžný uživatel nedokáže změnit nebo překrýt toto nastavení. Pokud uživatel, který aplikaci <application>pessulus</application> spouští, nemá přístup ke zdroji povinného nastavení, ikona zámku se neobjeví. V takovém situaci se všechna zakázaná nastavení jednoduše uloží do zdroje uživatelova výchozího nastavení a lze je později změnit použitím dalších nástrojů, jako je <application>gconf-editor</application> nebo <application>gconftool-2</application>. Více informací o GConf a zdrojích povinného nastavení uvádí <xref linkend="gconf-26"/>.</para>
  
      <para>Následující podkapitoly podávají stručný popis k nastavením, která mohou být zakázána v každé z kategorií.</para>
  
      <note>
        <para>V závislosti na aplikacích, které máte nainstalované, můžete vidět méně kategorií, než je zde popisováno.</para>
      </note>
  
      <sect3 id="lockdown-disabling-general">
        <title>Obecné</title>
  
        <variablelist>
          <varlistentry>
            <term>Zakázat přístup k příkazové řádce</term>
  
            <listitem>
              <para>Zabraňuje uživateli v přístupu k terminálu nebo spuštění příkazového řádku. Např. by se tímto měl zakázat přístup k dialogovému oknu „Spustit aplikaci“.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Zakázat tisknout</term>
  
            <listitem>
              <para>Zabraňuje uživateli tisknout. Např. by se tímto měl zakázat ve všech aplikacích přístup k dialogovému oknu „Tisk“.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Zakázat nastavení tisku</term>
  
            <listitem>
              <para>Zabraňuje uživateli měnit nastavení tisku. Např. by se tímto měl zakázat ve všech aplikacích přístup k dialogovému oknu „Nastavení tisku“.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Zakázat ukládat na disk</term>
  
            <listitem>
              <para>Zabraňuje uživateli ukládat soubory na disk. Např. by se tímto měl zakázat ve všech aplikacích přístup k dialogovému oknu „Uložit jako“.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect3>
  
      <sect3 id="lockdown-disabling-panel">
        <title>Panel</title>
  
        <variablelist>
          <varlistentry>
            <term>Uzamčení panelů</term>
  
            <listitem>
              <para>Pokud je zaškrtnuto, panel nedovolí uživateli změnit nastavení panelu. Jednotlivé applety je však potřeba zamknout samostatně. Aby se volba projevila, musí se panel restartovat.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Zakázat vynucení ukončení aplikace</term>
  
            <listitem>
              <para>Pokud je zaškrtnuto, panel nedovolí uživateli vynutit ukončení aplikace tím, že odstraní tlačítko Vynutit ukončení.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Zakázat uzamčení obrazovky</term>
  
            <listitem>
              <para>Pokud je zaškrtnuto, panel nedovolí uživateli zamknout svoji obrazovku tím, že odstraní z nabídky položky Zamknout obrazovku.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Zakázat odhlásit se</term>
  
            <listitem>
              <para>Pokud je zaškrtnuto, panel nedovolí uživateli se odhlásit tím, že odstraní z nabídky položky Odhlásit se.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect3>
  
      <sect3 id="lockdown-disabling-browser">
        <title>Webový prohlížeč Epiphany</title>
  
        <variablelist>
          <varlistentry>
            <term>Zakázat jeho ukončení</term>
  
            <listitem>
              <para>Uživatel nebude moci Epiphany zavřít.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Zakázat vepsání URL</term>
  
            <listitem>
              <para>Zakáže uživateli možnost zadat do Epiphany URL.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Zakázat úpravu záložek</term>
  
            <listitem>
              <para>Zakáže uživateli možnost přidat nebo upravit záložku.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Zakázat jakoukoliv historii</term>
  
            <listitem>
              <para>Zakáže veškeré informace o historii zakázáním navigace zpět a vpřed, zakázáním dialogu historie a skrytím seznamu nejpoužívanějších záložek.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Zakázat javascript chrome</term>
  
            <listitem>
              <para>Zakáže ovládání JavaScriptu přes okno chrome.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Zakázat editaci panelu nástrojů</term>
  
            <listitem>
              <para>Zakáže uživateli možnost upravovat panely nástrojů.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Přimět k režimu přes celou obrazovku</term>
  
            <listitem>
              <para>Uzamkne Epiphany v režimu celé obrazovky</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Skrýt panel nabídky</term>
  
            <listitem>
              <para>Skryje ve výchozím stavu panel nabídek. I nadále k němu lze přistupovat pomocí F10.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Zakázat nebezpečné protokoly</term>
  
            <listitem>
              <para>Zakáže načítání obsahu přes nebezpečné protokoly. Bezpečné protokoly jsou http a https.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect3>
  
      <sect3 id="lockdown-disabling-screensaver">
        <title>Spořič obrazovky GNOME</title>
  
        <variablelist>
          <varlistentry>
            <term>Zamknout po spuštění spořiče</term>
  
            <listitem>
              <para>Nastavení na TRUE způsobí, že se po aktivaci šetřiče obrazovky zamkne obrazovka.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Povolit odhlášení ze systému</term>
  
            <listitem>
              <para>Nastavení na TRUE způsobí, že se v dialogovém okně na odemknutí bude nabízet volba na odhlášení po prodlevě. Prodlevu určuje klíč „logout_delay“.</para>
            </listitem>
          </varlistentry>
  
          <varlistentry>
            <term>Povolit přepnutí na jiného uživatele</term>
  
            <listitem>
              <para>Nastavení na TRUE způsobí, že se v dialogovém okně na odemykání bude nabízet přepnutí na jiný uživatelský účet.</para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect3>
    </sect2>
  </sect1>
</chapter>

  
  <appendix id="appendixa-0">
    <title>Skryté složky</title>
    <highlights>
      <para>Tato příloha popisuje skryté složky, které pracovní prostředí přidává do domovských složek uživatelů.</para>
    </highlights>
    <indexterm>
      <primary>skryté složky</primary>
    </indexterm>
    <indexterm>
      <primary>složky .*</primary>
      <see>skryté složky</see>
    </indexterm>
    <para>Skryté složky jsou složky, jejichž název začíná tečkou (.). <xref linkend="appendixa-TBL-2"/> popisuje skryté složky, které pracovní prostředí GNOME přidává do domovských složek uživatelů.</para>
    <table frame="topbot" id="appendixa-TBL-2">
      <title>Skryté složky v domovské složce uživatele</title>
      <tgroup cols="2" colsep="0" rowsep="0">
        <colspec colname="colspec0" colwidth="33*"/>
        <colspec colname="colspec1" colwidth="67*"/>
        <thead>
          <row rowsep="1">
            <entry>
              <para>Složka</para>
            </entry>
            <entry>
              <para>Popis</para>
            </entry>
          </row>
        </thead>
        <tbody>
          <row>
            <entry valign="top">
              <para>
                <filename>.config</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Toto je výchozí umístění pro proměnnou prostředí <envar>XDG_CONFIG_HOME</envar> v případě, že není nastavená. Uživatelem definované nabídky mohou být vytvořené v <filename>menus/applications.menu</filename>.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.fonts</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Obsahuje písma určená jen pro jednotlivého uživatele. Když si uživatel nainstaluje písmo přetažení do umístění <filename>fonts:///</filename> ve správci souborů Nautilu, písmo se nakopíruje právě do tohoto umístění.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.esd_auth</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Obsahuje ověřovací cookie pro zvukového démona GNOME. Zvukovým démonem GNOME je Enlightened Sound Daemon (ESD).</para>
<para><emphasis>POZNÁMKA: Nejedná se o složku, ale o soubor.</emphasis></para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.gconf</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Obsahuje zdroje nastavení <application>GConf</application> pro uživatele. Když uživatel nastaví nějakou předvolbu, přidají se informace právě do této složky.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.gconfd</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Obsahuje následující podrobnosti démona <application>GConf</application>:</para>
              <itemizedlist>
                <listitem>
                  <para>Informace o nastavení.</para>
                </listitem>
                <listitem>
                  <para>Zámky pro objekty, na které odkazuje některý <firstterm>Interoperable Object Reference (IOR)</firstterm>.</para>
                </listitem>
                <listitem>
                  <para>Stavové informace pro objekty, na které odkazuje některý IOR.</para>
                </listitem>
              </itemizedlist>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.gnome</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Obsahuje data aplikací, která jsou specifická pro uživatele a nejsou uložená v úložišti <application>GConf</application>. </para>
<para><emphasis>POZNÁMKA: tato složka je zavržená a používají ji jen staré aplikace z GNOME 1.x</emphasis></para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.gnome2</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Obsahuje data aplikací, která jsou specifická pro uživatele a nejsou uložená v úložišti <application>GConf</application>. Složka obsahuje například následující:</para>
              <itemizedlist>
                <listitem>
                  <para>Informace o klávesových zkratkách.</para>
                </listitem>
                <listitem>
                  <para>Informace o umístění okna.</para>
                </listitem>
                <listitem>
                  <para>Soubory vstupu pracovní plochy pro spouštěče na panelech.</para>
                </listitem>
              </itemizedlist>
              <para>Tato složka může obsahovat také podsložky, ve kterých jsou uložená data specifická pro aplikace.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.gnome2-private</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Tuto složku ignorujte. V době vydání této příručky neměla tato složka žádnou funkci.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.local/share</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Toto je výchozí umístění pro proměnnou prostředí <envar>XDG_DATA_HOME</envar> v případě, že není nastavená. Uživatelem definované vstupy pracovního prostředí mohou být vytvořené v podsložce <filename>applications</filename>. Uživatelem definované typy mime mohou být vytvořené v <filename>mime/packages/Overrides.xml</filename>.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.metacity</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Obsahuje data sezení pro správce oken <application>Metacity</application>.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.nautilus</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Obsahuje data správce souborů, která jsou specifická pro uživatele. Složka může obsahovat například následující:</para>
              <itemizedlist>
                <listitem>
                  <para>Metadata pro složky, se kterými uživatel pracuje.</para>
                </listitem>
<!--Removed Nautilus themes.-->
                <listitem>
                  <para>Symboly <application>Nautilus</application>, které přidal uživatel.</para>
                </listitem>
                <listitem>
                  <para>Obrázky pracovní plochy <application>Nautilus</application>.</para>
                </listitem>
              </itemizedlist>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.themes</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Obsahuje varianty motivu ovládacích prvků, varianty motivu rámu okna a varianty motivu ikon, které přidal uživatel. Uživatel může přidávat motivy z nástroje předvolby <application>Motiv</application>.</para>
            </entry>
          </row>
          <row>
            <entry valign="top">
              <para>
                <filename>.thumbnails</filename>
              </para>
            </entry>
            <entry valign="top">
              <para>Obsahuje náhledy obrázků pro uživatele. Náhledy obrázků používá správce souborů. Ve správci souborů je předvolba, ve které může uživatel generování náhledů zakázat.</para>
            </entry>
          </row>
        </tbody>
      </tgroup>
    </table>
  </appendix>

  
  <appendix id="appendixb-0">
    <title>Bezpečnostní poznámky k nastavení tiskáren SMB</title>
    <highlights>
      <para>Tato příloha poskytuje bezpečnostní poznámky, které se vztahují k nastavení tiskáren v síťovém sdílení Windows.</para>
    </highlights>
    <indexterm>
      <primary>Samba</primary>
      <see>SMB</see>
    </indexterm>
    <indexterm>
      <primary>síťové sdílení Windows</primary>
      <see>SMB</see>
    </indexterm>
    <indexterm>
      <primary>SMB</primary>
      <secondary>nastavení tiskáren</secondary>
    </indexterm>
    <para>Síťová sdílení Windows se vztahují také ke sdílením Samba nebo <firstterm>SMB</firstterm>. Když nastavujete tiskárnu ve sdílení SMB, musíte zadat jméno uživatele a heslo pro tiskovou frontu.</para>
    <para>Jméno uživatele a heslo pro tiskovou frontu jsou uložené v nešifrovaném textovém souboru <filename>/etc/cups/printers.conf</filename>. Tento soubor má oprávnění pouze ke čtení pro uživatele root, takže uživatelé s oprávněním na úrovni root si mohou jméno uživatele a heslo pro tiskovou frontu přečíst.</para>
    <para>Abyste omezili dopad případného narušení bezpečnosti, ujistěte se, že jméno uživatele a heslo požadované pro přístup k tiskové frontě jsou určené pouze pro tiskovou frontu. To zajistí, že se případné narušení bezpečnosti omezí jen na neautorizované použití tiskové fronty.</para>
  </appendix>

<glossary id="glossary-1">
  <title>Rejstřík</title>
  <!-- these anchors are to maintain backwards compatibility for 
       obsolete glossary entries -->

  <!-- file content sniffer -->
  <anchor id="glossary-23"/>
  <!-- MIME information file -->
  <anchor id="glossary-20"/>
  <!-- MIME keys file -->
  <anchor id="glossary-21"/>
  <!-- MIME type registry -->
  <anchor id="glossary-22"/>
  <!-- pattern mask -->
  <anchor id="glossary-25"/>
  <!-- vfolder -->
  <anchor id="glossary-9"/>
  <!-- vfolder information file -->
  <anchor id="glossary-10"/>

  <glossentry id="glossary-13">
    <glossterm>soubor <filename>.desktop</filename></glossterm>
    <glosssee otherterm="glossary-11"/>
  </glossentry>
  <glossentry id="glossary-14">
    <glossterm>soubor <filename>.directory</filename></glossterm>
    <glosssee otherterm="glossary-12"/>
  </glossentry>
  <glossentry id="glossary-32">
    <glossterm>soubor <filename>.omf</filename></glossterm>
    <glosssee otherterm="glossary-31"/>
  </glossentry>
  <glossentry id="glossary-18">
    <glossterm>registr aplikace</glossterm>
    <glossdef>
      <para>Registr aplikace je sada souborů vstupů pracovního prostředí, které aplikaci registrují. Umístění registru aplikace pro pracovní prostředí GNOME je <filename>$XDG_DATA_DIRS:$XDG_DATA_HOME/applications/</filename>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-11">
    <glossterm>soubor vstupu pracovního prostředí</glossterm>
    <glossdef>
      <para>Datový soubor poskytující informace o položce v nabídce. Určuje podrobnosti o položce, jako je název, spouštěný příkaz, ikona atd. Soubory vstupu pracovního prostředí mají příponu <filename>.desktop</filename>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-12">
    <glossterm>soubor vstupu složky</glossterm>
    <glossdef>
      <para>Datový soubor poskytující informace o nabídce. Určuje podrobnosti, jako je název nabídky, stručná nápověda a ikona. Soubory vstupu složky mají příponu <filename>.directory</filename>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-5">
    <glossterm>Zdroj nastavení GConf</glossterm>
    <glossdef>
      <para>Umístění úložiště v repozitáři <application>GConf</application>. Např. <literal>xml:readonly:/etc/gconf/gconf.xml.defaults</literal>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-2">
    <glossterm>Klíč předvolby GConf</glossterm>
    <glossdef>
      <para>Prvek v repozitáři <application>GConf</application>, který odpovídá předvolbě aplikace. Např. klíč <literal>/apps/gnome-session/options/show_splash_screen</literal> odpovídá volbě <guilabel>Zobrazit úvodní obrazovku při přihlašování</guilabel> v nástroji předvolby <application>Sezení</application>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-6">
    <glossterm>Soubor cesty GConf</glossterm>
    <glossdef>
      <para>Soubor se seznamem zdrojů nastavení GConf v pořadí, ve kterém se prohledávají.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-3">
    <glossterm>Schéma GConf</glossterm>
    <glossdef>
      <para>Souhrnný termín pro klíč schématu a objekt schématu.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-4">
    <glossterm>Soubor definice schématu GConf</glossterm>
    <glossdef>
      <para>Soubor definice schématu <application>GConf</application> obsahuje seznam klíčů jedné aplikace a definuje vlastnosti klíčů. Schémata <application>GConf</application> se generují ze souborů definic schématu. Soubory definicí schématu mají příponu <filename>.schemas</filename>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-7">
    <glossterm>Klíč schématu GConf</glossterm>
    <glossdef>
      <para>Klíč, který uchovává objekt schématu pro klíč předvolby. Např. <literal>/schemas/desktop/gnome/interface/font_name</literal> je klíč schématu pro klíč předvolby <literal>/desktop/gnome/interface/font_name</literal>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-8">
    <glossterm>Objekt schématu GConf</glossterm>
    <glossdef>
      <para>Prvek ve zdroji nastavení, který obsahuje informace o klíči předvolby. Objekt schématu obsahuje informace, jako je výchozí hodnota pro klíče předvolby a dokumentace pro klíč předvolby.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-glob-pattern">
    <glossterm>hromadná maska</glossterm>
    <glossdef>
      <para>Hromadná maska se používá k nalezení souborů s odpovídajícím názvem. K její definici se používají speciální divoké znaky jako <literal>*</literal> a <literal>?</literal>. Systém MIME používá hromadnou masku  k přiřazení typu MIME na základě názvu souboru a často přípony souboru.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-26">
    <glossterm>IOR</glossterm>
    <glossdef>
      <para>Interoperable Object Reference je řetězcový odkaz na objekt CORBA. IOR v sobě ukrývá název počítače a port, na které lze posílat zprávy pro řízení objektu. Rovněž obsahuje klíč objektu, který objekt identifikuje.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-magic-rule">
    <glossterm>magické pravidlo</glossterm>
    <glossdef>
      <para>Magické pravidlo definuje typ MIME souboru podle specifických textových nebo binárních dat, které hledá na začátku souboru. V magickém pravidle je definovaná pozice, na které si tyto data mají hledat.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-menu-def">
    <glossterm>Soubory s definicí nabídky</glossterm>
    <glossdef>
      <para>Definiční soubor nabídky definuje hierarchii nabídek, které jsou použité v panelu nabídek GNOME.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-27">
    <glossterm>MIME</glossterm>
    <glossdef>
      <para>Multipurpose Internet Mail Extension (Víceúčelové rozšíření Internetové pošty).</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-mime-source-xml">
    <glossterm>zdrojový soubor XML pro MIME</glossterm>
    <glossdef>
      <para>Zdrojový soubor XML pro MIME definuje, jak typy MIME vyhodnotit pro různé druhy souborů. Existují tři způsoby, jak to lze provést: pomocí přípony (hromadná maska), pomocí magických pravidel a pomocí jmenných prostorů XML. Zdrojové soubory XML pro MIME jsou umístěné ve složce <filename>$XDG_DATA_DIRS:$XDG_DATA_HOME/mime/packages</filename>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-16">
    <glossterm>Typ MIME</glossterm>
    <glossdef>
      <para>Typ MIME identifikuje formát souboru. Typ MIME umožňuje aplikacím číst soubor. Např. poštovní aplikace může použít typ MIME <literal>image/png</literal> ke zjištění, že v příloze e-mailu je obrázek PNG (Portable Networks Graphic).</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-mime-type-database">
    <glossterm>databáze typů MIME</glossterm>
    <glossdef>
      <para>Databáze typů MIME je sada souborů, které registrují typy MIME do pracovního prostředí. Databáze typů MIME je umístěná ve složce <filename>$XDG_DATA_DIRS:$XDG_DATA_HOME/mime</filename>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-31">
    <glossterm>Soubor OMF</glossterm>
    <glossdef>
      <para>Soubor Open Source Metadata Framework (rámec metadat otevřeného zdroje). Jedná se o soubor, který je svázaný se souborem XML příručky. Obsahuje informace o příručce, které používá prohlížeč nápovědy. Soubory OMF mají příponu <filename>.omf</filename>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-33">
    <glossterm>PAM</glossterm>
    <glossdef>
      <para>Pluggable Authentication Modules (zásuvné ověřovací moduly).</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-28">
    <glossterm>šetřič obrazovky</glossterm>
    <glossdef>
      <para>Šetřič obrazovky je aplikace, která nahradí obraz na obrazovce v době, kdy obrazovka není používaná. Šetřičem obrazovky je pracovním prostředí GNOME aplikace <application>XScreenSaver</application>.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-29">
    <glossterm>šetřič obrazovky</glossterm>
    <glossdef>
      <para>Šetřič obrazovky je aplikace, která zobrazuje na obrazovce obrázky v době, kdy uživatel obrazovku nepoužívá.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-34">
    <glossterm>UDP</glossterm>
    <glossdef>
      <para>User Datagram Protocol (uživatelský datagramový protokol).</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-15">
    <glossterm>Uniform Resource Identifier</glossterm>
    <glossdef>
      <para>Jednotný identifikátor zdroje, označovaný anglickou zkratkou URI, je řetězec, který identifikuje určité umístění v souborovém systému nebo na webu. Např. adresa webové stránky je URI.</para>
    </glossdef>
  </glossentry>
  <glossentry id="glossary-24">
    <glossterm>bezpečná webová barevná paleta</glossterm>
    <glossdef>
      <para>Bezpečná webová barevná paleta je paleta 216 barev pro všeobecné využití. Je navržená na optimalizaci využití barev v systémech, které podporují jen 8bitové barvy. Bezpečná webová barevná paleta bývá někdy nazývána také <emphasis>barevná paleta Netscape</emphasis> nebo <emphasis>barevná kostka Netscape</emphasis>.</para>
    </glossdef>
  </glossentry>
</glossary>


<!-- If generating PDFs and if you want an index, then uncomment <index/> -->
<!-- <index/> -->

</book>
