<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % DISTRO_SPECIFICS SYSTEM "distro-specifics.ent">
<!ENTITY DISTRO_MAINMENU '<guimenu>the main menu on the panel (the menu with the "f" icon)</guimenu>'>
<!ENTITY % SYSTEM_CONFIG_NFS_DISTRO_SPECIFICS SYSTEM "system-config-nfs-distro-specifics.ent">
<!ENTITY SYSTEM_CONFIG_NFS_TOOL "NFS Server Configuration Tool">
<!ENTITY SYSTEM_CONFIG_NFS_INVOCATION '
    <indexterm significance="normal">
        <primary><command>system-config-nfs</command>
        </primary>
        <see>&SYSTEM_CONFIG_NFS_TOOL;</see>
    </indexterm>

    <para>
        You must be running the <application>X</application> Window System and have root privileges to use the &SYSTEM_CONFIG_NFS_TOOL;. To start the application on the desktop, go to <menuchoice>&DISTRO_MAINMENU;<guisubmenu>System</guisubmenu><guisubmenu>Administration</guisubmenu><guisubmenu>Server Settings</guisubmenu><guimenuitem>NFS</guimenuitem></menuchoice>.
    </para>
'>
<!ENTITY SYSTEM_CONFIG_NFS_ABSTRACT SYSTEM "system-config-nfs-abstract.xml">
<!ENTITY SYSTEM_CONFIG_NFS_CONTENT SYSTEM "system-config-nfs-content.xml">
<!ENTITY SYSTEM_CONFIG_NFS_HOSTNAME_FORMATS SYSTEM "system-config-nfs-hostname-formats.xml">
]>
<article lang="it"><title>Configurazione Server NFS</title><articleinfo><revhistory><revision><revnumber>1.0</revnumber><date>2008-01-17</date></revision><revision><revnumber>1.0.1</revnumber><date>2008-03-12</date></revision></revhistory><abstract role="description"><para>Il Network File System (NFS) è un modo di condividere i file fra macchine sulla rete come se i file si trovassero sul disco rigido locale del client. Una macchina può funzionare sia da server NFS che da client NFS, significando che può sia esportare file system verso altri sistemi che montare file system esportati da altre macchine.</para><para>La condivisione dei file da un server NFS si ottiene al livello delle cartelle che li contengono, tale operazione è conosciuta come "esportazione" delle cartelle. Lo <application>Strumento di configurazione del server NFS</application> può essere usato per configurare un sistema come server NFS.</para>
</abstract><authorgroup><corpauthor role="maintainer"><trademark class="registered">Red Hat</trademark>, Inc.</corpauthor></authorgroup><copyright><year>2009. Mario Santagiuliana &lt;mario at marionline.it&gt;, 2009.</year><holder>Francesco Tombolini (tombo@adamantio.net)</holder></copyright></articleinfo>    <para>Il Network File System (NFS) è un modo di condividere i file fra macchine sulla rete come se i file si trovassero sul disco rigido locale del client. Una macchina può funzionare sia da server NFS che da client NFS, significando che può sia esportare file system verso altri sistemi che montare file system esportati da altre macchine.</para><para>La condivisione dei file da un server NFS si ottiene al livello delle cartelle che li contengono, tale operazione è conosciuta come "esportazione" delle cartelle. Lo <application>Strumento di configurazione del server NFS</application> può essere usato per configurare un sistema come server NFS.</para>


    <indexterm significance="normal"><primary><command>system-config-nfs</command>
        </primary><see>Strumento di configurazione del server NFS</see></indexterm><para>Si deve eseguire il sistema <application>X</application> window ed avere i privilegi di root per usare lo strumento di configurazione sel server NFS. Per avviare l'applicazione sul desktop, andare sul <menuchoice><guimenu>menù principale del panello (il menù con l'icona "f")</guimenu><guisubmenu>Sistema</guisubmenu><guisubmenu>Amministrazione</guisubmenu><guisubmenu>Impostazioni server</guisubmenu><guimenuitem>NFS</guimenuitem></menuchoice>.</para>

	
	<figure float="0" id="fig-system-config-nfs"><title><application>Strumento di configurazione del server NFS</application></title><mediaobject><imageobject><imagedata fileref="images/system-config-nfs.png" format="PNG"/></imageobject><textobject><para>Strumento di configurazione NFS</para></textobject></mediaobject></figure>

	<para>Secondo alcune impostazioni del firewall, potrebbe essere necessario configurare il processo del demone NFS affinché usi specifiche porte di rete. Le impostazioni del server NFS permettono di specificare le porte per ciascun processo invece di utilizzare le porte casuali assegnate dal portmapper. E' possibile impostare il server NFS cliccando sul bottone <guibutton>Impostazioni server</guibutton>. La figura sottostante illustra la finestra delle impostazioni del server NFS.</para>
	<figure float="0" id="fig-nfs-server-settings"><title><application>Impostazioni server NFS</application></title><mediaobject><imageobject><imagedata fileref="images/system-config-nfs-server-settings.png" format="PNG"/></imageobject><textobject><para>Impostazioni server NFS</para></textobject></mediaobject></figure>
	<section id="s2-nfs-export"><title>Esportazione o condivisione file system NFS</title><indexterm significance="normal"><primary>NFS</primary><secondary>esportazione</secondary></indexterm><indexterm significance="normal"><primary>esportazione file system NFS</primary></indexterm><indexterm significance="normal"><primary>file system</primary><secondary>NFS</secondary><see>NFS</see></indexterm><indexterm significance="normal"><primary><application>Strumento di configurazione del server NFS</application></primary></indexterm><para>L'operazione di condivisione file da un server NFS è conosciuta come "esportazione" delle cartelle che contengono i file. Lo <application>strumento di configurazione del server NFS</application> può essere usato per configurare un sistema come server NFS.</para><para>Per aggiungere una condivisione NFS, cliccare il bottone <guibutton>Aggiungi</guibutton>. Apparirà la finestra di dialogo mostrata in <xref linkend="fig-add-share"/>.</para><para>La scheda <guilabel>Base</guilabel> richiede le seguenti informazioni:</para><itemizedlist><listitem><para><guilabel>Cartella</guilabel> — Specifica la cartella da condividere, ad esempio <filename>/tmp</filename>.</para></listitem><listitem><para><guilabel>Host</guilabel> — Specifica gli(l') host con cui condividere la cartella. Fare riferimento a <xref linkend="s2-nfs-hostname-formats"/> per una spiegazione dei possibili formati.</para></listitem><listitem><para><guilabel>Permessi base</guilabel> — Specifica quando la cartella avrà i permessi di sola-lettura o lettura/scrittura.</para></listitem></itemizedlist><figure float="0" id="fig-add-share"><title>Aggiungi condivisione</title><mediaobject><imageobject><imagedata fileref="images/system-config-nfs-add-basic.png" format="PNG"/></imageobject><textobject><para>Aggiungi condivisione NFS</para></textobject></mediaobject></figure><para>La scheda <guilabel>Opzioni generali</guilabel> permette alle seguenti opzioni di essere configurate:</para><figure float="0" id="fig-nfs-general-options"><title>Opzioni generali NFS</title><mediaobject><imageobject><imagedata fileref="images/system-config-nfs-add-general-options.png" format="PNG"/></imageobject><textobject><para>Opzioni generali</para></textobject></mediaobject></figure><itemizedlist><listitem><para><guilabel>Permette le connessioni dalla porta 1024 e superiori</guilabel> — I servizi avviati su porte con numero inferiore a 1024 debbono essere avviati con privilegio di root. Selezionare questa opzione per permettere al servizio NFS di essere avviato da un utente diverso da root. Questa opzione corrisponde a <command>insecure</command>.</para></listitem><listitem><para><guilabel>Permetti file locking insicuro</guilabel> — Non richiede richieste di lock. Questa opzione corrisponde a <command>insecure_locks</command>.</para></listitem><listitem><para><guilabel>Disabilita verifica sottocartelle</guilabel> — Se una sottocartella di un file system è esportata, ma non lo è l'intero file system, il server accerta se il file richiesto è nella sottocartella esportata. Questo controllo è chiamato <firstterm>controllo sottocartelle</firstterm>. Selezionare questa opzione per disabilitare il controllo sottocartelle. Se l'intero file system è esportato, la deselezione del controllo subtree può accrescere la velocità di trasferimento. Questa opzione corrisponde a <command>no_subtree_check</command>.</para></listitem><listitem><para><guilabel>Sincronizza le operazioni di scrittura a richiesta</guilabel> — Abilitata per impostazione predefinita, questa opzione non consente al server di rispondere alle richieste prima che i cambiamenti fatti dalla richiesta siano scritti su disco. Questa opzione corrisponde a <command>sync</command>. Se non selezionata, è utilizzata l'opzione <command>async</command>.</para><itemizedlist><listitem><para><guilabel>Forza la sincronizzazione immediata delle operazioni di scrittura</guilabel> — Non ritardare la scrittura su disco. Questa opzione corrisponde a <command>no_wdelay</command>.</para></listitem></itemizedlist></listitem><listitem><para><guilabel>Nascondi i file system sottostanti</guilabel> abilita o disabilita l'opzione <command>nohide</command>. Quando l'opzione <command>nohide</command> è disattivata, le cartelle nidificate vengono rivelate. I client possono quindi navigare attraverso il filesystem dalla cartella genitore senza notare alcun cambiamento.</para></listitem><listitem><para><guilabel>Esporta solo se montata</guilabel> imposta l'opzione <command>mountpoint</command> che permette ad una cartella di essere esportata solo se è stata montata.</para></listitem><listitem><para><guilabel>Punto di montaggio opzionale</guilabel> specifica il percorso ad un punto di montaggio opzionale. Clicare su <guibutton>Esplora</guibutton> per navigare fino al punto di montaggio preferito o scrivere il percorso se conosciuto.</para></listitem><listitem><para><guilabel>Imposta un ID di filesystem esplicito:</guilabel> imposta l'opzione <command>fsid=X</command>. Ciò è prevalentemente usato in ambiente cluster. Utilizzando un ID di filesystem coerente con tutti i cluster evita di avere una rindondanza di NFS.</para></listitem></itemizedlist><figure float="0" id="fig-nfs-user-access"><title>Accesso utente NFS</title><mediaobject><imageobject><imagedata fileref="images/system-config-nfs-add-user-access.png" format="PNG"/></imageobject><textobject><para>Accesso utente</para></textobject></mediaobject></figure><para>La scheda <guilabel>Accesso utente</guilabel> permette di configurare le seguenti opzioni:</para><itemizedlist><listitem><para><guilabel>Trattare l'utente remoto root come l'utente root locale</guilabel> — Per impostazione predefinita, l'ID utente e di gruppo dell'utente root sono entrambe 0. Il root squashing mappa l'ID utente 0 e l'ID di gruppo 0 agli ID utente e di gruppo dell'utente anonimo affinché l'utente root sul client non abbia i privilegi di root sul server NFS. Se questa opzione è selezionata, root non è mappato su anonimo e l'utente root su un client avrà i privilegi di root sulle cartelle esportate. Selezionando questa opzione si diminuirà enormemente la sicurezza del sistema. Non selezionarla a meno che non sia assolutamente necessario. Questa opzione corrisponde a <command>no_root_squash</command>.</para></listitem><listitem><para><guilabel>Trattare tutti gli utenti dei client come utenti anonimi</guilabel> — Se questa opzione è selezionata, tutti gli ID utente e gruppo sono mappati sull'utente anonimo. Questa opzione corrisponde a <command>all_squash</command>.</para><itemizedlist><listitem><para><guilabel>Specificare un ID utente locale per gli utenti anonimi</guilabel> — Se <guilabel>Trattare tutti gli utenti dei client come utenti anonimi</guilabel> è selezionata, questa opzione permette di specificare un ID utente per l'utente anonimo. Questa opzione corrisponde a <command>anonuid</command>.</para></listitem><listitem><para><guilabel>Specificare un ID di gruppo per gli utenti anonimi</guilabel> — Se<guilabel>Trattare tutti gli utenti dei client come utenti anonimi</guilabel> è selezionata, questa opzione permette di specificare un ID di gruppo per l'utente anonimo. Questa opzione corrisponde a <command>anongid</command>.</para></listitem></itemizedlist></listitem></itemizedlist><para>Per modificare una condivisione NFS esistente, selezionare la condivisione dall'elenco e cliccare sul bottone <guibutton>Proprietà</guibutton>. Per cancellare una condivisione NFS esistente, selezionare la condivisione dall'elenco e cliccare il bottone <guibutton>Elimina</guibutton>.</para><indexterm significance="normal"><primary><filename>/etc/exports</filename></primary></indexterm><indexterm significance="normal"><primary><filename>esportare</filename></primary></indexterm><para>Dopo aver cliccato <guibutton>OK</guibutton> per aggiungere, modificare o eliminare una condivisione NFS dall'elenco, i cambiamenti avranno effetto immediato — il demone del server è riavviato ed il vecchio file di configurazione salvato come <filename>/etc/exports.bak</filename>. La nuova configurazione è scritta su <filename>/etc/exports</filename>.</para><para>Lo <application>Strumento di configurazione del server NFS</application> legge e scrive direttamente sul file di configurazione <filename>/etc/exports</filename>. Quindi, il file può essere modificato manualmente dopo aver utilizzato lo strumento, e lo strumento può essere utilizzato dopo aver modificato il file manualmente (sempre che il file sia stato modificato con la corretta sintassi).</para></section>
<appendix><title>Appendice</title><section id="s2-nfs-hostname-formats"><title>Formati nomi host</title><indexterm significance="normal"><primary>NFS</primary><secondary>formati nomi host</secondary></indexterm><para>Gli host possono essere nella seguente forma:</para><itemizedlist><listitem><para>Singola macchina — Un nome di donimio pienamente qualificato (che può essere risolto dal server), nome host (che può essere risolto dal server), o un indirizzo IP.</para></listitem><listitem><para>Serie di macchine specificate con carattere jolly — Usare i caratteri * o ? per specificare una stringa corrispondente. I caratteri jolly non sono utilizzabili con gli indirizzi IP; comunque, potrebbero funzionare accidentalmente se le ricerche DNS inverse dovessereo fallire. Quando si specificano i caratteri jolly nei nomi di dominio pienamente qualificati, i punti (.) non sono inclusi nella stringa di corrispondenza. Ad esempio, <computeroutput>*.example.com</computeroutput> include one.example.com ma non include one.two.example.com.</para></listitem><listitem><para>Reti di IP — Usare <replaceable>a.b.c.d/z</replaceable>, dove <replaceable>a.b.c.d</replaceable> è la rete e <replaceable>z</replaceable> è il numero di bit nella maskera di rete (ad esempio 192.168.0.0/24). Un altro formato accettabile è <replaceable>a.b.c.d/netmask</replaceable>, dove <replaceable>a.b.c.d</replaceable> è la rete e <replaceable>netmask</replaceable> è la maschera di rete (ad esempio, 192.168.100.8/255.255.255.0).</para></listitem><listitem><para>Netgroup — Nel formato <replaceable>@nome-gruppo</replaceable>, dove <replaceable>nome-gruppo</replaceable> è il nome del netgroup NIS.</para></listitem></itemizedlist></section>
</appendix></article>
