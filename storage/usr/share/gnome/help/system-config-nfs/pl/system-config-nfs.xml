<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % DISTRO_SPECIFICS SYSTEM "distro-specifics.ent">
<!ENTITY DISTRO_MAINMENU '<guimenu>the main menu on the panel (the menu with the "f" icon)</guimenu>'>
<!ENTITY % SYSTEM_CONFIG_NFS_DISTRO_SPECIFICS SYSTEM "system-config-nfs-distro-specifics.ent">
<!ENTITY SYSTEM_CONFIG_NFS_TOOL "NFS Server Configuration Tool">
<!ENTITY SYSTEM_CONFIG_NFS_INVOCATION '
    <indexterm significance="normal">
        <primary><command>system-config-nfs</command>
        </primary>
        <see>&SYSTEM_CONFIG_NFS_TOOL;</see>
    </indexterm>

    <para>
        You must be running the <application>X</application> Window System and have root privileges to use the &SYSTEM_CONFIG_NFS_TOOL;. To start the application on the desktop, go to <menuchoice>&DISTRO_MAINMENU;<guisubmenu>System</guisubmenu><guisubmenu>Administration</guisubmenu><guisubmenu>Server Settings</guisubmenu><guimenuitem>NFS</guimenuitem></menuchoice>.
    </para>
'>
<!ENTITY SYSTEM_CONFIG_NFS_ABSTRACT SYSTEM "system-config-nfs-abstract.xml">
<!ENTITY SYSTEM_CONFIG_NFS_CONTENT SYSTEM "system-config-nfs-content.xml">
<!ENTITY SYSTEM_CONFIG_NFS_HOSTNAME_FORMATS SYSTEM "system-config-nfs-hostname-formats.xml">
]>
<article lang="pl"><title>Konfiguracja serwera NFS</title><articleinfo><revhistory><revision><revnumber>1.0</revnumber><date>2008-01-17</date></revision><revision><revnumber>1.0.1</revnumber><date>2008-03-12</date></revision></revhistory><abstract role="description"><para>Sieciowy system plików (NFS) to sposób na współdzielenie plików między komputerami w sieci tak, jakby pliki były położone na lokalnym dysku twardym klienta. Komputer może być zarówno serwerem, jak i klientem NFS, co oznacza, że można eksportować systemy plików do innych systemów i montować systemy plików wyeksportowane przez inne systemy.</para><para>Współdzielenie plików z serwera NFS jest wykonywane na poziomie folderów, które je zawierają. Jest to znane jako ich "eksportowanie". <application>Narzędzie konfiguracji serwera NFS</application> może być używane do konfigurowania systemu jako serwer NFS.</para>
</abstract><authorgroup><corpauthor role="maintainer"><trademark class="registered">Red Hat</trademark>, Inc.</corpauthor></authorgroup><copyright><year>2008</year><holder>Piotr Drąg (piotrdrag@gmail.com)</holder></copyright></articleinfo>    <para>Sieciowy system plików (NFS) to sposób na współdzielenie plików między komputerami w sieci tak, jakby pliki były położone na lokalnym dysku twardym klienta. Komputer może być zarówno serwerem, jak i klientem NFS, co oznacza, że można eksportować systemy plików do innych systemów i montować systemy plików wyeksportowane przez inne systemy.</para><para>Współdzielenie plików z serwera NFS jest wykonywane na poziomie folderów, które je zawierają. Jest to znane jako ich "eksportowanie". <application>Narzędzie konfiguracji serwera NFS</application> może być używane do konfigurowania systemu jako serwer NFS.</para>


    <indexterm significance="normal"><primary><command>system-config-nfs</command>
        </primary><see>Narzędzie konfiguracji serwera NFS</see></indexterm><para>Musisz mieć uruchomiony system <application>X</application> Window i posiadać uprawnienia roota, aby używać narzędzia konfiguracji serwera NFS. Aby uruchomić aplikację, przejdź do <menuchoice><guimenu>menu głównego na panelu (menu z ikoną "f")</guimenu><guisubmenu>System</guisubmenu><guisubmenu>Administracja</guisubmenu><guisubmenu>Ustawienia serwera</guisubmenu><guimenuitem>NFS</guimenuitem></menuchoice>.</para>

	
	<figure float="0" id="fig-system-config-nfs"><title><application>Narzędzie konfiguracji serwera NFS</application></title><mediaobject><imageobject><imagedata fileref="images/system-config-nfs.png" format="PNG"/></imageobject><textobject><para>Narzędzie konfiguracji NFS</para></textobject></mediaobject></figure>

	<para>W oparciu o ustawieniach zapory sieciowej, musisz skonfigurować procesy demona NFS, aby używał podanych portów sieciowych. Ustawienia serwera NFS umożliwiają podanie portów dla każdego procesu, zamiast używania losowych portów przydzielonych przez mapowanie portów. Można ustawić serwer NFS naciskając przycisk <guibutton>Ustawienia serwera</guibutton>. Zrzut ekranu na dole pokazuje okno ustawień serwera NFS.</para>
	<figure float="0" id="fig-nfs-server-settings"><title><application>Ustawienia serwera NFS</application></title><mediaobject><imageobject><imagedata fileref="images/system-config-nfs-server-settings.png" format="PNG"/></imageobject><textobject><para>Ustawienia serwera NFS</para></textobject></mediaobject></figure>
	<section id="s2-nfs-export"><title>Eksportowanie lub współdzielenie systemów plików NFS</title><indexterm significance="normal"><primary>NFS</primary><secondary>eksportowanie</secondary></indexterm><indexterm significance="normal"><primary>Eksportowanie systemów plików NFS</primary></indexterm><indexterm significance="normal"><primary>systemy plików</primary><secondary>NFS</secondary><see>NFS</see></indexterm><indexterm significance="normal"><primary><application>Narzędzie konfiguracji serwera NFS</application></primary></indexterm><para>Współdzielenie lub udostępnianie plików z serwera NFS jest znane jako "eksportowanie" folderów zawierających pliki. <application>Narzędzie konfiguracji serwera NFS</application> może być używane do skonfigurowania systemu jako serwer NFS.</para><para>Aby dodać udział NFS, naciśnij przycisk <guibutton>Dodaj</guibutton>. Pojawi się okno dialogowe pokazane na <xref linkend="fig-add-share"/>.</para><para>Karta <guilabel>Podstawowe</guilabel> wymaga następujących informacji:</para><itemizedlist><listitem><para><guilabel>Folder</guilabel> — podaj folder do współdzielenia, taki jak <filename>/tmp</filename>.</para></listitem><listitem><para><guilabel>Komputery</guilabel> — podaj komputery, z którymi współdzielić folder. Odwiedź <xref linkend="s2-nfs-hostname-formats"/>, aby zobaczyć wytłumaczenie możliwych formatów.</para></listitem><listitem><para><guilabel>Podstawowe uprawnienia</guilabel> — podaj, czy folder powinien mieć uprawnienia tylko do odczytu lub odczytu/zapisu.</para></listitem></itemizedlist><figure float="0" id="fig-add-share"><title>Dodaj udział</title><mediaobject><imageobject><imagedata fileref="images/system-config-nfs-add-basic.png" format="PNG"/></imageobject><textobject><para>Dodaj udział NFS</para></textobject></mediaobject></figure><para>Karta <guilabel>Ogólne opcje</guilabel> umożliwia skonfigurowanie następnych opcji:</para><figure float="0" id="fig-nfs-general-options"><title>Ogólne opcje NFS</title><mediaobject><imageobject><imagedata fileref="images/system-config-nfs-add-general-options.png" format="PNG"/></imageobject><textobject><para>Ogólne opcje</para></textobject></mediaobject></figure><itemizedlist><listitem><para><guilabel>Pozwól na połączenia z portu 1024 i wyższego</guilabel> — usługi uruchamiane na numerach portów niższych niż 1024 muszą być uruchamiane jako root. Wybierz tę opcję, aby pozwolić usłudze NFS na uruchamianie przez użytkowników innych niż root. Ta opcja odpowiada <command>insecure</command>.</para></listitem><listitem><para><guilabel>Pozwól na niezabezpieczone blokowanie pliku</guilabel> — nie wymagaj żądania blokady. Ta opcja odpowiada <command>insecure_locks</command>.</para></listitem><listitem><para><guilabel>Wyłącz sprawdzanie poddrzewa</guilabel> — jeśli tylko podfolder systemu plików jest eksportowany, a nie cały system plików, serwer sprawdza, czy żądany plik znajduje się w eksportowanym podfolderze. To sprawdzenie jest nazwane <firstterm>sprawdzaniem poddrzewa</firstterm>. Wybierz tę opcję, aby wyłączyć sprawdzanie poddrzewa. Jeśli cały system plików jest eksportowany, wybranie wyłączenia sprawdzania poddrzewa może zwiększyć prędkość przesyłania. Ta opcja odpowiada <command>no_subtree_check</command>.</para></listitem><listitem><para><guilabel>Synchronizuj operacje zapisu na życzenie</guilabel> — domyślnie włączone, ta opcja nie pozwala serwerowi na odpowiadanie na żądania przed zapisaniem zmian na dysku. Ta opcja odpowiada <command>sync</command>. Jeśli nie zostanie wybrane, użyta zostanie opcja <command>async</command></para><itemizedlist><listitem><para><guilabel>Wymuś synchronizację operacji zapisu natychmiast</guilabel> — nie opóźniaj zapisywanie na dysku. Ta opcja odpowiada <command>no_wdelay</command>.</para></listitem></itemizedlist></listitem><listitem><para><guilabel>Ukryj poniższe systemy plików</guilabel> włącza lub wyłącza opcję <command>nohide</command>. Kiedy opcja <command>nohide</command> jest wyłączona, zagnieżdżone foldery są ujawniane. Klienci mogą więc nawigować przez system plików z nadrzędnego bez zauważania zmian.</para></listitem><listitem><para><guilabel>Wyeksportuj tylko wtedy, gdy jest zamontowane</guilabel> ustawia opcję <command>mountpoint</command>, która pozwala folderowi na wyeksportowanie tylko wtedy, gdy jest zamontowany.</para></listitem><listitem><para><guilabel>Opcjonalny punkt montowania</guilabel> określa ścieżkę do opcjonalnego punktu montowania. Naciśnij na <guibutton>Przeglądaj</guibutton>, aby przejść do preferowanego punktu montowania lub typu ścieżki, jeśli jest znana.</para></listitem><listitem><para><guilabel>Ustaw kategoryczny identyfikator systemu plików:</guilabel> ustawia opcję <command>fsid=X</command>. Jest używane głównie w ustawianiu klastra. Używanie stałych identyfikatorów systemów plików na wszystkich klastrach pozwala na uniknięcie starej obsługi plików NFS.</para></listitem></itemizedlist><figure float="0" id="fig-nfs-user-access"><title>Dostęp użytkownika NFS</title><mediaobject><imageobject><imagedata fileref="images/system-config-nfs-add-user-access.png" format="PNG"/></imageobject><textobject><para>Dostęp użytkownika</para></textobject></mediaobject></figure><para>Karta <guilabel>Dostęp użytkownika</guilabel> pozwala na skonfigurowanie następujących opcji:</para><itemizedlist><listitem><para><guilabel>Traktuj zdalnego użytkownika root jako lokalnego roota</guilabel> — domyślnie identyfikatory użytkownika i grupy root wynoszą 0. Root mapuje identyfikator użytkownika 0 i identyfikator grupy 0 do identyfikatorów anonimowego użytkownika i grup, aby root klienta nie posiadał uprawnień roota na serwerze NFS. Jeśli to opcja jest wybrana, root nie jest mapowany do anonimowego, a root na kliencie posiada uprawnienia roota na wyeksportowanych folderach. Wybranie tej opcji może znacznie zmniejszyć bezpieczeństwo systemu. Nie wybieraj jej, chyba że to absolutnie niezbędne. Ta opcja odpowiada <command>no_root_squash</command>.</para></listitem><listitem><para><guilabel>Traktuj wszystkich użytkowników klientów jako anonimowych użytkowników</guilabel> — jeśli ta opcja jest wybrana, wszystkie identyfikatory użytkowników i grup są mapowane do anonimowego użytkownika. Ta opcja odpowiada <command>all_squash</command>.</para><itemizedlist><listitem><para><guilabel>Określ identyfikator lokalnego użytkownika dla anonimowych użytkowników</guilabel> — Jeśli wybrano <guilabel>Traktuj wszystkich użytkowników klientów jako anonimowych użytkowników</guilabel>, ta opcja pozwala na podanie identyfikatora użytkownika dla anonimowego użytkownika. Ta opcja odpowiada <command>anonuid</command>.</para></listitem><listitem><para><guilabel>Określ identyfikator lokalnej grupy dla anonimowych użytkowników</guilabel> — jeśli wybrano <guilabel>Traktuj wszystkich użytkowników klientów jako anonimowych użytkowników</guilabel>, ta opcja pozwala na podanie identyfikatora grupy dla anonimowego użytkownika. Ta opcja odpowiada <command>anongid</command>.</para></listitem></itemizedlist></listitem></itemizedlist><para>Aby zmodyfikować istniejący udział NFS, wybierz go z listy i naciśnij na przycisku <guibutton>Właściwości</guibutton>. Aby usunąć istniejący udział NFS, wybierz go z listy i naciśnij przycisk <guibutton>Usuń</guibutton>.</para><indexterm significance="normal"><primary><filename>/etc/exports</filename></primary></indexterm><indexterm significance="normal"><primary><filename>exports</filename></primary></indexterm><para>Po naciśnięciu <guibutton>OK</guibutton> po dodaniu, zmodyfikowaniu lub usunięciu udziału NFS na liście zmiany zostaną uwzględnione natychmiast — demon serwera zostanie ponownie uruchomiony, a stara konfiguracja zapisana jako <filename>/etc/exports.bak</filename>. Nowa konfiguracja zostanie zapisana do <filename>/etc/exports</filename>.</para><para><application>Narzędzie konfiguracji serwera NFS</application> odczytuje i zapisuje bezpośrednio do pliku konfiguracji <filename>/etc/exports</filename>. Ten plik może być modyfikowany ręcznie po użyciu narzędzia, a narzędzie może być używane po ręcznym zmodyfikowaniu pliku (przy założeniu, że plik po modyfikacji ma poprawną składnię).</para></section>
<appendix><title>Dodatek</title><section id="s2-nfs-hostname-formats"><title>Formaty nazw komputerów</title><indexterm significance="normal"><primary>NFS</primary><secondary>formaty nazw komputerów</secondary></indexterm><para>Komputery mogą mieć następujące formy:</para><itemizedlist><listitem><para>Pojedynczy komputer — całkowicie sprawdzona nazwa domeny (która może być rozwiązywana przez serwer), nazwa komputera (która może być rozwiązywana przez serwer) lub adres IP.</para></listitem><listitem><para>Seria komputerów określona za pomocą wieloznaczników — użyj znaków * lub ?, aby podać łańcuch. Wieloznaczniki nie mogą być używane z adresami IP; mimo to mogą czasem działać, jeśli odwrotne wyszukanie DNS nie powiedzie się. Podczas podawania wieloznaczników w całkowicie sprawdzonych nazwach domen kropki (.) nie są dołączane. Na przykład <computeroutput>*.przykład.pl</computeroutput> zawiera pierwszy.przykład.pl, ale nie zawiera pierwszy.drugi.przykład.pl.</para></listitem><listitem><para>Sieci IP — użyj <replaceable>a.b.c.d/z</replaceable>, gdzie <replaceable>a.b.c.d</replaceable> jest siecią, a <replaceable>z</replaceable> jest liczbą bitów w masce sieci (na przykład 192.168.0.0/24). Innym akceptowalnym formatem jest <replaceable>a.b.c.d/maskasieci</replaceable>, gdzie <replaceable>a.b.c.d</replaceable> jest siecią, a <replaceable>maskasieci</replaceable> jest maską sieci (na przykład 192.168.100.8/255.255.255.0).</para></listitem><listitem><para>Grupy sieciowe — w formacie <replaceable>@nazwa-grupy</replaceable>, gdzie <replaceable>nazwa-grupy</replaceable> jest nazwą grupy sieciowej NIS.</para></listitem></itemizedlist></section>
</appendix></article>
