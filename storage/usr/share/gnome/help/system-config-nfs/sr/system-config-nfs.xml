<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % DISTRO_SPECIFICS SYSTEM "distro-specifics.ent">
<!ENTITY DISTRO_MAINMENU '<guimenu>the main menu on the panel (the menu with the "f" icon)</guimenu>'>
<!ENTITY % SYSTEM_CONFIG_NFS_DISTRO_SPECIFICS SYSTEM "system-config-nfs-distro-specifics.ent">
<!ENTITY SYSTEM_CONFIG_NFS_TOOL "NFS Server Configuration Tool">
<!ENTITY SYSTEM_CONFIG_NFS_INVOCATION '
    <indexterm significance="normal">
        <primary><command>system-config-nfs</command>
        </primary>
        <see>&SYSTEM_CONFIG_NFS_TOOL;</see>
    </indexterm>

    <para>
        You must be running the <application>X</application> Window System and have root privileges to use the &SYSTEM_CONFIG_NFS_TOOL;. To start the application on the desktop, go to <menuchoice>&DISTRO_MAINMENU;<guisubmenu>System</guisubmenu><guisubmenu>Administration</guisubmenu><guisubmenu>Server Settings</guisubmenu><guimenuitem>NFS</guimenuitem></menuchoice>.
    </para>
'>
<!ENTITY SYSTEM_CONFIG_NFS_ABSTRACT SYSTEM "system-config-nfs-abstract.xml">
<!ENTITY SYSTEM_CONFIG_NFS_CONTENT SYSTEM "system-config-nfs-content.xml">
<!ENTITY SYSTEM_CONFIG_NFS_HOSTNAME_FORMATS SYSTEM "system-config-nfs-hostname-formats.xml">
]>
<article lang="sr"><title>Подешавање NFS сервера</title><articleinfo><revhistory><revision><revnumber>1.0</revnumber><date>2008-01-17</date></revision><revision><revnumber>1.0.1</revnumber><date>2008-03-12</date></revision></revhistory><abstract role="description"><para>Мрежни систем датотека (NFS - Network File System) је начин за дељење датотека између машина у мрежи као да се налазе на чврстом диску клијента. Ваша машина може бити и NFS сервер и NFS клијент, што значи да може извести системе датотека другим машинама и монтирати системе датотека које извозе друге машине.</para><para>Дељење датотека са NFS сервера се изводи на нивоу директоријума који их садрже, и то се зове „извоз“ тих директоријума. <application>Алат за подешавање NFS сервера</application> се може употребити за подешавање система као NFS сервера.</para>
</abstract><authorgroup><corpauthor role="maintainer"><trademark class="registered">Red Hat</trademark>, Inc.</corpauthor></authorgroup><copyright><year>2009.</year><holder>Miloš Komarčević (kmilos@gmail.com)</holder></copyright></articleinfo>    <para>Мрежни систем датотека (NFS - Network File System) је начин за дељење датотека између машина у мрежи као да се налазе на чврстом диску клијента. Ваша машина може бити и NFS сервер и NFS клијент, што значи да може извести системе датотека другим машинама и монтирати системе датотека које извозе друге машине.</para><para>Дељење датотека са NFS сервера се изводи на нивоу директоријума који их садрже, и то се зове „извоз“ тих директоријума. <application>Алат за подешавање NFS сервера</application> се може употребити за подешавање система као NFS сервера.</para>


    <indexterm significance="normal"><primary><command>system-config-nfs</command>
        </primary><see>Алат за подешавање NFS сервера</see></indexterm><para>Морате имати покренут <application>Икс</application> систем прозора и поседовати root овлашћења ради употребе алата за подешавање NFS сервера. Да бисте покренули програм са радне површине, идите на <menuchoice><guimenu>главни мени на панелу (мени са иконом „f“)</guimenu><guisubmenu>Систем</guisubmenu><guisubmenu>Администрација</guisubmenu><guimenuitem>NFS</guimenuitem></menuchoice>.</para>

	
	<figure float="0" id="fig-system-config-nfs"><title><application>Алат за подешавање NFS сервера</application></title><mediaobject><imageobject><imagedata fileref="images/system-config-nfs.png" format="PNG"/></imageobject><textobject><para>Алат за NFS подешавање</para></textobject></mediaobject></figure>

	<para>Зависно од неких поставки заштитног зида, можда ћете морати да подесите процес NFS демона за употребу одређених портова. Поставке NFS сервера вам допуштају да наведете портове за сваки процес уместо употребе случајних портова које додељује portmapper. Можете поставити поставке NFS сервера притиском на дугме <guibutton>Поставке сервера</guibutton>. Слика испод илуструје прозор поставки NFS сервера.</para>
	<figure float="0" id="fig-nfs-server-settings"><title><application>Поставке NFS сервера</application></title><mediaobject><imageobject><imagedata fileref="images/system-config-nfs-server-settings.png" format="PNG"/></imageobject><textobject><para>Поставке NFS сервера</para></textobject></mediaobject></figure>
	<section id="s2-nfs-export"><title>Извоз и дељење NFS система датотека</title><indexterm significance="normal"><primary>NFS</primary><secondary>извоз</secondary></indexterm><indexterm significance="normal"><primary>извоз NFS система датотека</primary></indexterm><indexterm significance="normal"><primary>системи датотека</primary><secondary>NFS</secondary><see>NFS</see></indexterm><indexterm significance="normal"><primary><application>Алат за подешавање NFS сервера</application></primary></indexterm><para>Дељење или сервирање датотека са NFS сервера се зове „извоз“ директоријума који садрже те датотеке. <application>Алат за подешавање NFS сервера</application> се може користити за подешавање система као NFS сервера.</para><para>Да бисте додали NFS дељени ресурс, притисните дугме <guibutton>Додај</guibutton>. Појавиће се прозорче приказано као <xref linkend="fig-add-share"/>.</para><para>Језичак <guilabel>Основно</guilabel> захтева следеће податке:</para><itemizedlist><listitem><para><guilabel>Директоријум</guilabel> — Назначите директоријум који ће се делити, као <filename>/tmp</filename>.</para></listitem><listitem><para><guilabel>Домаћин/и</guilabel> — Наведите домаћине са којима ћете делити директоријум. Погледајте <xref linkend="s2-nfs-hostname-formats"/> за објашњење могућих облика.</para></listitem><listitem><para><guilabel>Основна овлашћења</guilabel> — Наведите да ли директоријум треба да има овлашћења само за читање или за читање/писање.</para></listitem></itemizedlist><figure float="0" id="fig-add-share"><title>Додај дељени ресурс</title><mediaobject><imageobject><imagedata fileref="images/system-config-nfs-add-basic.png" format="PNG"/></imageobject><textobject><para>Додај NFS дељени ресурс</para></textobject></mediaobject></figure><para>Језичак <guilabel>Опште опције</guilabel> допушта подешавање следећих опција:</para><figure float="0" id="fig-nfs-general-options"><title>Опште NFS опције</title><mediaobject><imageobject><imagedata fileref="images/system-config-nfs-add-general-options.png" format="PNG"/></imageobject><textobject><para>Опште опције</para></textobject></mediaobject></figure><itemizedlist><listitem><para><guilabel>Дозволи везе кроз порт 1024 и нагоре</guilabel> — Сервиси покренути на бројевима портова мањим од 1024 морају бити покренути као root. Изаберите ову опцију да бисте дозволили да NFS сервис покрене корисник који није root. Ова опција се подудара са <command>insecure</command>.</para></listitem><listitem><para><guilabel>Дозволи небезбедно закључавање датотека</guilabel> — Не захтевај закључавање. Ова опција се подудара са <command>insecure_locks</command>.</para></listitem><listitem><para><guilabel>Искључи проверу подстабла</guilabel> — Ако је поддиректоријум система датотека извезен, али целокупан систем датотека није извезен, сервер проверава да ли је захтевана датотека у извезеном поддиректоријуму. Ова провера се зове <firstterm>провера подстабла</firstterm>. Изаберите ову опцију да бисте искључили проверу подстабла. Ако је извезен целокупан систем датотека, избор искључивања провере стабла може увећати брзину преноса. Ова опција се подудара са <command>no_subtree_check</command>.</para></listitem><listitem><para><guilabel>Усагласи радње записивања на захтев</guilabel> — Подразумевано укључена, ова опција не дозвољава серверу да одговори на захтеве пре него што се измене које је захтев начинио запишу на диск. Ова опција се подудара са <command>sync</command>. Ако није изабрана, користи се опција <command>async</command>.</para><itemizedlist><listitem><para><guilabel>Присили усаглашавање радње записивања одмах</guilabel> — Немој одлагати записивање на диск. Ова опција се подудара са <command>no_wdelay</command>.</para></listitem></itemizedlist></listitem><listitem><para><guilabel>Сакриј системе датотека испод</guilabel> укључује или искључује опцију <command>nohide</command>. Када је опција <command>nohide</command> искључена, угнеждени директоријуми су откривени. Клијенти тада могу да се крећу кроз систем датотека од родитеља не примећујући никакве промене.</para></listitem><listitem><para><guilabel>Извези само ако је монтиран</guilabel> поставља опцију <command>mountpoint</command> која допушта да директоријум буде извезен само ако је већ монтиран.</para></listitem><listitem><para><guilabel>Необавезна тачка за монтирање</guilabel> одређује путању за необавезну тачку за монтирање. Притисните <guibutton>Разгледај</guibutton> за кретање до жељене тачке за монтирање или унесите путању ако је знате.</para></listitem><listitem><para><guilabel>Постави изричит ID система датотека:</guilabel> поставља опцију <command>fsid=X</command>. Ово се углавном користи у a учвореној постави. Употреба доследних ID-а система датотека у свим чвориштима избегава постојање бајатих NFS ручки датотека.</para></listitem></itemizedlist><figure float="0" id="fig-nfs-user-access"><title>Кориснички NFS приступ</title><mediaobject><imageobject><imagedata fileref="images/system-config-nfs-add-user-access.png" format="PNG"/></imageobject><textobject><para>Кориснички приступ</para></textobject></mediaobject></figure><para>Језичак <guilabel>Кориснички приступ</guilabel> допушта подешавање следећих опција:</para><itemizedlist><listitem><para><guilabel>Поступај са даљинским root корисником као са локалним root корисником</guilabel> — Подразумевано су кориснички и ID групе root корисника оба 0. Root гажење мапира кориснички ID 0 и ID групе 0 на кориснички и ID групе анонимног корисника тако да root на клијенту не поседује root повластице на NFS серверу. Ако је изабрана ова опција, root се не мапира на анонимног корисника, и root на клијенту поседује root повластице за извезене директоријуме. Бирање ове опције може у многоме умањити безбедност система. Немојте је бирати осим ако то није апсолутно неопходно. Ова опција се подудара са <command>no_root_squash</command>.</para></listitem><listitem><para><guilabel>Поступај са свим корисничким клијентима као са анонимним корисницима</guilabel> — Ако је изабрана ова опција, сви кориснички и ID-ови група се мапирају на анонимног корисника. Ова опција се подудара са <command>all_squash</command>.</para><itemizedlist><listitem><para><guilabel>Локални кориснички ID за анонимне кориснике</guilabel> — Ако је изабрано <guilabel>Поступај са свим корисничким клијентима као са анонимним корисницима</guilabel>, ова опција вам допушта да одредите кориснички ID за анонимног корисника. Ова опција се подудара са <command>anonuid</command>.</para></listitem><listitem><para><guilabel>Локални ID групе за анонимне кориснике</guilabel> — Ако је изабрано <guilabel>Поступај са свим корисничким клијентима као са анонимним корисницима</guilabel>, ова опција вам допушта да одредите ID групе за анонимног корисника. Ова опција се подудара са <command>anongid</command>.</para></listitem></itemizedlist></listitem></itemizedlist><para>За уређивање постојећег NFS дељеног ресурса, изаберите дељени ресурс са списка и притисните дугме <guibutton>Особине</guibutton>. За брисање постојећег NFS дељеног ресурса, изаберите дељени ресурс са списка и притисните дугме <guibutton>Обриши</guibutton>.</para><indexterm significance="normal"><primary><filename>/etc/exports</filename></primary></indexterm><indexterm significance="normal"><primary><filename>извози</filename></primary></indexterm><para>Након притискања <guibutton>У реду</guibutton> за додавање, уређивање, или брисање NFS дељеног ресурса са списка, измене сместа прелазе у дејство — демон сервера се поново покреће и стара датотека подешавања се чува као <filename>/etc/exports.bak</filename>. Нова подешавања се уписују у <filename>/etc/exports</filename>.</para><para><application>Алат за подешавање NFS сервера</application> чита и пише директно у датотеку подешавања <filename>/etc/exports</filename>. Стога се та датотека може ручно мењати након употребе алата, и алат се такође може користити након ручне измене датотеке (под условом да је датотека измењена са исправном синтаксом).</para></section>
<appendix><title>Додаци</title><section id="s2-nfs-hostname-formats"><title>Облици домаћина</title><indexterm significance="normal"><primary>NFS</primary><secondary>облици домаћина</secondary></indexterm><para>Домаћини могу бити у следећим облицима:</para><itemizedlist><listitem><para>Једна машина — Пуно квалификовано име (које сервер може разрешити), име домаћина (које сервер може разрешити), или IP адреса.</para></listitem><listitem><para>Серија машина назначена џокерима — Користите знак * или ? да назначите ниску поклапања. Џокери се не смеју користити уз IP адресе; међутим, могу да случајно прораде ако не успе обратна DNS потрага.  Када наводите џокере у пуно квалификованим именима, тачке (.) се не укључују у џокере. На пример, <computeroutput>*.primer.com</computeroutput> укључује jedan.primer.com али не укључује jedan.dva.primer.com.</para></listitem><listitem><para>IP мреже — Користите <replaceable>a.b.c.d/z</replaceable>, где је <replaceable>a.b.c.d</replaceable> мрежа и <replaceable>z</replaceable> број битова у мрежној масци (на пример 192.168.0.0/24). Други прихватљив облик је <replaceable>a.b.c.d/мрежнамаска</replaceable>, где је <replaceable>a.b.c.d</replaceable> мрежа и <replaceable>мрежнамаска</replaceable> је мрежна маска (на пример, 192.168.100.8/255.255.255.0).</para></listitem><listitem><para>Мрежне групе — У облику <replaceable>@име-групе</replaceable>, где је <replaceable>име-групе</replaceable> име NIS мрежне групе.</para></listitem></itemizedlist></section>
</appendix></article>
