<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % DISTRO_SPECIFICS SYSTEM "distro-specifics.ent">
<!ENTITY DISTRO_MAINMENU '<guimenu>the main menu on the panel (the menu with the "f" icon)</guimenu>'>
<!ENTITY % SYSTEM_CONFIG_NFS_DISTRO_SPECIFICS SYSTEM "system-config-nfs-distro-specifics.ent">
<!ENTITY SYSTEM_CONFIG_NFS_TOOL "NFS Server Configuration Tool">
<!ENTITY SYSTEM_CONFIG_NFS_INVOCATION '
    <indexterm significance="normal">
        <primary><command>system-config-nfs</command>
        </primary>
        <see>&SYSTEM_CONFIG_NFS_TOOL;</see>
    </indexterm>

    <para>
        You must be running the <application>X</application> Window System and have root privileges to use the &SYSTEM_CONFIG_NFS_TOOL;. To start the application on the desktop, go to <menuchoice>&DISTRO_MAINMENU;<guisubmenu>System</guisubmenu><guisubmenu>Administration</guisubmenu><guisubmenu>Server Settings</guisubmenu><guimenuitem>NFS</guimenuitem></menuchoice>.
    </para>
'>
<!ENTITY SYSTEM_CONFIG_NFS_ABSTRACT SYSTEM "system-config-nfs-abstract.xml">
<!ENTITY SYSTEM_CONFIG_NFS_CONTENT SYSTEM "system-config-nfs-content.xml">
<!ENTITY SYSTEM_CONFIG_NFS_HOSTNAME_FORMATS SYSTEM "system-config-nfs-hostname-formats.xml">
]>
<article lang="sv"><title>Konfiguration av NFS-server</title><articleinfo><revhistory><revision><revnumber>1.0</revnumber><date>2008-01-17</date></revision><revision><revnumber>1.0.1</revnumber><date>2008-03-12</date></revision></revhistory><abstract role="description"><para>Nätverksfilsystem (NFS) är ett sätt att del filer mellan maskiner på ett nätverk som om filerna fanns på klientens lokala hårddisk.  Din maskin kan vara båden en NFS-server och en NFS-client, vilket betydera att den kan exportera filsystem till andra system och montera filsystem exporterade från andra maskiner.</para><para>Utdelning av filer från en NFS-server görs på nivån katalogerna som innehåller dem, detta kallas för att "exportera" dessa kataloger.  <application>Konfibrationsverktyget för NFS-server</application> kan användas för att konfigurera ett system som en NFS-server.</para>
</abstract><authorgroup><corpauthor role="maintainer"><trademark class="registered">Red Hat</trademark>, Inc.</corpauthor></authorgroup><copyright><year>2009.</year><holder>Göran Uddeborg (goeran@uddeborg.se)</holder></copyright></articleinfo>    <para>Nätverksfilsystem (NFS) är ett sätt att del filer mellan maskiner på ett nätverk som om filerna fanns på klientens lokala hårddisk.  Din maskin kan vara båden en NFS-server och en NFS-client, vilket betydera att den kan exportera filsystem till andra system och montera filsystem exporterade från andra maskiner.</para><para>Utdelning av filer från en NFS-server görs på nivån katalogerna som innehåller dem, detta kallas för att "exportera" dessa kataloger.  <application>Konfibrationsverktyget för NFS-server</application> kan användas för att konfigurera ett system som en NFS-server.</para>


    <indexterm significance="normal"><primary><command>system-config-nfs</command>
        </primary><see>Knofigurationsverktyg för NFS-server</see></indexterm><para>Du måste köra fönstersystemet <application>X</application> och ha rooträttigheter för att använda konfigurationsverktyget för NFS-server.  För att starta programmet från skrivbordet, gå till <menuchoice><guimenu>huvudmenyn på panelen (menyn med "f"-ikonen)</guimenu><guisubmenu>System</guisubmenu><guisubmenu>Administration</guisubmenu><guimenuitem>NFS</guimenuitem></menuchoice>.</para>

	
	<figure float="0" id="fig-system-config-nfs"><title><application>Knofigurationsverktyg för NFS-server</application></title><mediaobject><imageobject><imagedata fileref="images/system-config-nfs.png" format="PNG"/></imageobject><textobject><para>Konfigurationsverktyg för NFS</para></textobject></mediaobject></figure>

	<para>Baserat på vissa brandväggsinställningar kan du behöva konfigurara NFS-demonprocesserna att använda specifika nätverksportar.  NFS-serverinställningarna tillåter att du anger portarna för varje process istället för att använda den slumpvisa port man får av portmapper:n.  Du kan ställa in NFS-serverinställningar genom att klicka på knappen <guibutton>Serverinställningar</guibutton>.  Figuren nedan illustrerar fönstret med NFS-serverinställningar.</para>
	<figure float="0" id="fig-nfs-server-settings"><title><application>NFS-serverinställningar</application></title><mediaobject><imageobject><imagedata fileref="images/system-config-nfs-server-settings.png" format="PNG"/></imageobject><textobject><para>NFS-serverinställningar</para></textobject></mediaobject></figure>
	<section id="s2-nfs-export"><title>Export eller utdelning av NFS-filsystem</title><indexterm significance="normal"><primary>NFS</primary><secondary>export</secondary></indexterm><indexterm significance="normal"><primary>exporterar NFS-filsystem</primary></indexterm><indexterm significance="normal"><primary>filsystem</primary><secondary>NFS</secondary><see>NFS</see></indexterm><indexterm significance="normal"><primary><application>Knofigurationsverktyg för NFS-server</application></primary></indexterm><para>Att dela ut eller serva filer från en NFS-server kallas för att "exportera" katalogerna som innehåller filerna.  <application>Konfigurationsverktyget för NFS-server</application> kan användas för att konfigurera ett system som en NFS-server.</para><para>För att lägga till en NFS-utdelning, klicka på knappen <guibutton>Lägg till</guibutton>.  Dialogrutan som visas i <xref linkend="fig-add-share"/> dyker upp.</para><para>Fliken <guilabel>Grundläggande</guilabel> behöver följande information:</para><itemizedlist><listitem><para><guilabel>Katalog</guilabel> — Ange katalogen att dela, som <filename>/tmp</filename>.</para></listitem><listitem><para><guilabel>Värd(ar)</guilabel> — Ange värden/värdarna med vilka katalogen skall delas.  Se <xref linkend="s2-nfs-hostname-formats"/> för en förklaring av möjliga format.</para></listitem><listitem><para><guilabel>Grundläggande rättigheter</guilabel> — Ange om katalogen skall ha lästillåtelse eller läs- och skrivtillåtelse.</para></listitem></itemizedlist><figure float="0" id="fig-add-share"><title>Lägg till utdelning</title><mediaobject><imageobject><imagedata fileref="images/system-config-nfs-add-basic.png" format="PNG"/></imageobject><textobject><para>Lägg till NFS-utdelning</para></textobject></mediaobject></figure><para>Fliken <guilabel>Allmänna alternativ</guilabel> gör att följande alternativ kan konfigureras:</para><figure float="0" id="fig-nfs-general-options"><title>Allmänna NFS-alternativ</title><mediaobject><imageobject><imagedata fileref="images/system-config-nfs-add-general-options.png" format="PNG"/></imageobject><textobject><para>Allmänna alternativ</para></textobject></mediaobject></figure><itemizedlist><listitem><para><guilabel>Tillåt anslutningar från port 1024 och högre</guilabel> — Tjänster som startas på portnummer lägre än 1024 måste startas som root.  Välj detta alternativ för att tillåta NFS-tjänsten att startas av en annan användare än root.  Detta alternativ motsvarar <command>insecure</command>.</para></listitem><listitem><para><guilabel>Tillåt osäker fillåsning</guilabel> — Kräv inte en låsbegäran.  Detta alternativ motsvarar <command>insecure_locks</command>.</para></listitem><listitem><para><guilabel>Inaktivera underträdskontroll</guilabel> — Om en underkatalog till ett filsystem exporteras, men hela filsystemet inte exporteras, kontrollerar servern för att se om den begärda filen ligger i det exporterade underträdet.  Denna kontroll kallas <firstterm>underträdskontroll</firstterm>.  Välj detta alternativ för att inaktivera underträdskontroll.  Om hela filsystemet exporteras kan överföringshastigheten ökas genom att inaktivera underträdskontroll.  Detta alternativ motsvarar <command>no_subtree_check</command>.</para></listitem><listitem><para><guilabel>Synkronisera skrivoperationer på begäran</guilabel> — Aktiverat som standard tillåter detta alternativ inte servern att svara på kommandon före ändringarna som kommandot gjort är skrivna till disken.  Detta alternativ motsvarar <command>sync</command>.  Om det inte valts används alternativet <command>async</command>.</para><itemizedlist><listitem><para><guilabel>Tvinga fram omedelbar synkronisering av skrivoperationer</guilabel> — Fördröj inte skrivning till disk.  Detta alternativ motsvarar <command>no_wdelay</command>.</para></listitem></itemizedlist></listitem><listitem><para><guilabel>Dölj underliggande filsystem</guilabel> slår på eller av alternativet <command>nohide</command>.  När alternativet <command>nohide</command> är av visas nästade kataloger upp.  Klienterna kan därför navigera genom ett filsystem från föräldern utan att upptäcka några ändringar.</para></listitem><listitem><para><guilabel>Exportera endast om monterad</guilabel> sätter alternativet <command>mountpoint</command> som tillåter en katalog att exporteras endast om den har monterats.</para></listitem><listitem><para><guilabel>Valfri monteringspunkt</guilabel> anger sökvägen till en valfri monteringspunkt.  Klicka på <guibutton>Browse</guibutton> för att navigera till den föredragna monteringpunkten eller skriv in sökvägen om den är känd.</para></listitem><listitem><para><guilabel>Ställ in explicit ID för filsystem:</guilabel> ställer in alternativet <command>fsid=X</command>.  Detta används huvudsakligen i en klustermiljö.  Användning av ett konsisten filsystems-ID i alla kluster undviker att få förlegade NFS-filhandtag.</para></listitem></itemizedlist><figure float="0" id="fig-nfs-user-access"><title>NFS-användaråtkomst</title><mediaobject><imageobject><imagedata fileref="images/system-config-nfs-add-user-access.png" format="PNG"/></imageobject><textobject><para>Användaråtkomst</para></textobject></mediaobject></figure><para>Fliken <guilabel>Användaråtkomst</guilabel> gör att följande alternativ kan konfigureras:</para><itemizedlist><listitem><para><guilabel>Behandla fjärrootanvändaren som lokal root</guilabel> — Normalt är användar- och grupp-id för rootanvändaren båda 0.  Roottillplattning översätter användar-id 0 och grupp-id 0 till användar- och grupp-id:erna för anonymous så att root på klienten inte har rooträttigheter på NFS-servern.  Om detta alternativ väljs, översätts inte root till anonymous, och root på en klient har rootprivilegier i exporterade kataloger.  Att välja detta alternativ kan kraftig minska säkerheten i systemet.  Välj det inte om det inte är absolut nödvändigt.  Detta alternativ motsvarar <command>no_root_squash</command>.</para></listitem><listitem><para><guilabel>Behandla alla klientanvändare som anonyma användare</guilabel> — Om detta alternativ väljs översätts alla användar- och grupp-id:er till den anonyma användaren.  Detta alternativ motsvarar <command>all_squash</command>.</para><itemizedlist><listitem><para><guilabel>Ange lokalt användar-id för anonyma användare</guilabel> — Om <guilabel>Behandla alla klientanvändare som anonyma användare</guilabel> är valt, låter detta alternativ dig ange ett användar-id för den anonyma användaren.  Detta alternativ motsvarar <command>anonuid</command>.</para></listitem><listitem><para><guilabel>Ange lokalt grupp-id för anonyma användare</guilabel> — Om <guilabel>Behandla alla klientanvändare som anonyma användare</guilabel> är valt, låter detta alternativ dig ange ett grupp-id för den anonyma användaren.  Detta alternativ motsvarar <command>anongid</command>.</para></listitem></itemizedlist></listitem></itemizedlist><para>För att editera en befintlig NFS-utdelning, väl utdelningen från listan och klicka på knappen <guibutton>Egenskaper</guibutton>.  För att ta bort en befintlig NFS-utdelning, väl utdelningen från listan, och klicka på knappen <guibutton>Ta bort</guibutton>.</para><indexterm significance="normal"><primary><filename>/etc/exports</filename></primary></indexterm><indexterm significance="normal"><primary><filename>exports</filename></primary></indexterm><para>Efter klick på <guibutton>OK</guibutton> för att lägga till, redigera eller ta bort en NFS-utdelning från listan, sker ändringarna omedebart — serverdemonen startas om och den gamla konfigurationsfilen sparas som <filename>/etc/exports.bak</filename>.  Den nya konfigurationen skriv till <filename>/etc/exports</filename>.</para><para><application>Konfigurationsverktyget för NFS-server</application> läser och skriver direkt till konfigurationsfilen <filename>/etc/exports</filename>.  Alltså kan filen ändras manuellt efter användning av verktgyget, och verktyget kan användas efter att filen ändrats manuellt (förutsatt att filen var ändrad med korrekt syntax).</para></section>
<appendix><title>Appendix</title><section id="s2-nfs-hostname-formats"><title>Värdnamnsformat</title><indexterm significance="normal"><primary>NFS</primary><secondary>värdnamnsformat</secondary></indexterm><para>Värdarna kan anges på följande former:</para><itemizedlist><listitem><para>Ensam maskin — Ett fullständigt kvalificerat domännamn (som kan lösas upp av servern), värdnamn (som kan lösas upp av servern) eller en IP-adress.</para></listitem><listitem><para>Serier av maskiner angivna med jokertecken — Använd tecknen * eller ? för att ange en strängmatchning.  Jokertecken skall inte användas med IP-adresser; dock kan de råka fungera om invers DNS-uppslagning misslyckas.  När jokertecken anges i fullständigt kvalificerade domännamn inkluderas inte punkter (.) i jokertecknet.  Till exempel inkluderar, <computeroutput>*.exempel.se</computeroutput> ett.exempel.se men inkluderar inte ett.tva.exempel.se.</para></listitem><listitem><para>IP-nätverk — Använd <replaceable>a.b.c.d/z</replaceable>, där <replaceable>a.b.c.d</replaceable> är nätverket och <replaceable>z</replaceable> är antalet bitar i nätmasken (till exempel 192.168.0.0/24).  Ett annat tillåtet format är <replaceable>a.b.c.d/nätmask</replaceable>, där <replaceable>a.b.c.d</replaceable> är nätverket och <replaceable>nätmask</replaceable> är nätmasken (till exempel, 192.168.100.8/255.255.255.0).</para></listitem><listitem><para>Nätgrupper — På formatet <replaceable>@gruppnamn</replaceable>, där <replaceable>gruppnamn</replaceable> är NIS-nätgruppsnamnet.</para></listitem></itemizedlist></section>
</appendix></article>
