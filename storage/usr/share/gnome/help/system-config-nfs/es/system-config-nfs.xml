<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % DISTRO_SPECIFICS SYSTEM "distro-specifics.ent">
<!ENTITY DISTRO_MAINMENU '<guimenu>the main menu on the panel (the menu with the "f" icon)</guimenu>'>
<!ENTITY % SYSTEM_CONFIG_NFS_DISTRO_SPECIFICS SYSTEM "system-config-nfs-distro-specifics.ent">
<!ENTITY SYSTEM_CONFIG_NFS_TOOL "NFS Server Configuration Tool">
<!ENTITY SYSTEM_CONFIG_NFS_INVOCATION '
    <indexterm significance="normal">
        <primary><command>system-config-nfs</command>
        </primary>
        <see>&SYSTEM_CONFIG_NFS_TOOL;</see>
    </indexterm>

    <para>
        You must be running the <application>X</application> Window System and have root privileges to use the &SYSTEM_CONFIG_NFS_TOOL;. To start the application on the desktop, go to <menuchoice>&DISTRO_MAINMENU;<guisubmenu>System</guisubmenu><guisubmenu>Administration</guisubmenu><guisubmenu>Server Settings</guisubmenu><guimenuitem>NFS</guimenuitem></menuchoice>.
    </para>
'>
<!ENTITY SYSTEM_CONFIG_NFS_ABSTRACT SYSTEM "system-config-nfs-abstract.xml">
<!ENTITY SYSTEM_CONFIG_NFS_CONTENT SYSTEM "system-config-nfs-content.xml">
<!ENTITY SYSTEM_CONFIG_NFS_HOSTNAME_FORMATS SYSTEM "system-config-nfs-hostname-formats.xml">
]>
<article lang="es"><title>Configuración del Servidor NFS</title><articleinfo><revhistory><revision><revnumber>1.0</revnumber><date>2008-01-17</date></revision><revision><revnumber>1.0.1</revnumber><date>2008-03-12</date></revision></revhistory><abstract role="description"><para>Network File System (NFS) es una forma de compartir archivos entre máquinas en una red como si los archivos se encontrasen en la unidad de disco duro local del cliente. La máquina puede ser tanto un servidor NFS como un cliente NFS, lo que significa que puede exportar sistemas de archivos a otros sistemas y montar sistemas de ficheros exportados desde otras máquinas.	.</para><para>Compartir archivos desde un servidor NFS se realiza en el nivel de los directorios que contengan, lo que se conoce como "exportar" estos directorios. La <application>Herramienta de Configuración del Servidor NFS</application> se puede usar para configurar un sistema como servidor NFS.</para>
</abstract><authorgroup><corpauthor role="maintainer"><trademark class="registered">Red Hat</trademark>, Inc.</corpauthor></authorgroup></articleinfo>    <para>Network File System (NFS) es una forma de compartir archivos entre máquinas en una red como si los archivos se encontrasen en la unidad de disco duro local del cliente. La máquina puede ser tanto un servidor NFS como un cliente NFS, lo que significa que puede exportar sistemas de archivos a otros sistemas y montar sistemas de ficheros exportados desde otras máquinas.	.</para><para>Compartir archivos desde un servidor NFS se realiza en el nivel de los directorios que contengan, lo que se conoce como "exportar" estos directorios. La <application>Herramienta de Configuración del Servidor NFS</application> se puede usar para configurar un sistema como servidor NFS.</para>


    <indexterm significance="normal"><primary><command>system-config-nfs</command>
        </primary><see>Herramienta de Configuración del Servidor NFS</see></indexterm><para>Debe estar ejecutando el Sistema de Ventanas <application>X</application> y tener privilegios de administrador para usar la Herramienta de Configuración del Servidor NFS . Para iniciar la aplicación en el escritorio, vaya al <menuchoice><guimenu>menú principal en el panel (el menú con el icono "f")</guimenu><guisubmenu>Sistema</guisubmenu><guisubmenu>Administración</guisubmenu><guisubmenu>Configuraciones de Servidor</guisubmenu><guimenuitem>NFS</guimenuitem></menuchoice>.</para>

	
	<figure float="0" id="fig-system-config-nfs"><title><application>Herramienta de Configuración del Servidor NFS</application></title><mediaobject><imageobject><imagedata fileref="images/system-config-nfs.png" format="PNG"/></imageobject><textobject><para>Herramienta de Configuración NFS</para></textobject></mediaobject></figure>

	<para>Sobre la base de ciertos ajustes de cortafuegos, puede que tenga que configurar el procesos del demonio NFS para utilizar puertos de red específicos. La configuración del servidor NFS le permite especificar los puertos para cada proceso en lugar de utilizar puertos asignados al azar por el portmapper. Puede configurar el servidor NFS presionando el botón <guibutton>Configuración del Servidorguibutton&gt;. En la siguiente figura se ilustra la ventana de Configuraci</guibutton></para>
	<figure float="0" id="fig-nfs-server-settings"><title><application>Configuración del servidor NFS</application></title><mediaobject><imageobject><imagedata fileref="images/system-config-nfs-server-settings.png" format="PNG"/></imageobject><textobject><para>Configuración del servidor NFS</para></textobject></mediaobject></figure>
	<section id="s2-nfs-export"><title>Exportar o Compartir Sistema de Archivos NFS</title><indexterm significance="normal"><primary>NFS</primary><secondary>exportar</secondary></indexterm><indexterm significance="normal"><primary>Exportar sistemas de archivos NFS</primary></indexterm><indexterm significance="normal"><primary>sistema de archivos</primary><secondary>NFS</secondary><see>NFS</see></indexterm><indexterm significance="normal"><primary><application>Herramienta de Configuración del Servidor NFS</application></primary></indexterm><para>Compartir o servir los archivos de un servidor NFS es conocido como "exportar" los directorios que contienen los archivos.La <application>Herramienta de Configuración del Servidor NFSaplicaci</application></para><para>Para añadir una compartición NFS, haga click en el botón <guibutton>Añadir</guibutton>. El cuadro de diálogo que se muestra es como el siguiente <xref linkend="fig-add-share"/>.</para><para>La pestaña <guilabel>Básico</guilabel> requiere la siguiente información:</para><itemizedlist><listitem><para><guilabel>Directorio</guilabel> — Especifique el directorio a compartir, por ejemplo <filename>/tmp</filename>.</para></listitem><listitem><para><guilabel>Equipo(s)</guilabel> — Especifique el equipo(s) con quien compartir el directorio. Consulte <xref linkend="s2-nfs-hostname-formats"/> para una explicación de formatos posibles.</para></listitem><listitem><para><guilabel>Permisos Básicos</guilabel> — Especifique si el directorio debería tener permisos de sólo lectura o de lectura/escritura.</para></listitem></itemizedlist><figure float="0" id="fig-add-share"><title>Añadir Compartición</title><mediaobject><imageobject><imagedata fileref="images/system-config-nfs-add-basic.png" format="PNG"/></imageobject><textobject><para>Añadir Compartición NFS</para></textobject></mediaobject></figure><para>La pestaña <guilabel>Opciones Generales</guilabel> permite configurar las siguientes opciones:</para><figure float="0" id="fig-nfs-general-options"><title>Opciones Generales NFS</title><mediaobject><imageobject><imagedata fileref="images/system-config-nfs-add-general-options.png" format="PNG"/></imageobject><textobject><para>Opciones Generales</para></textobject></mediaobject></figure><itemizedlist><listitem><para><guilabel>Permitir conexiones desde un puerto 1024 o superior</guilabel> — Los servicios iniciados en los puertos con números inferiores a 1024 deben iniciarse como root. Seleccione esta opción para permitir que el servicio NFS sea iniciado por un usuario distinto a root. Esta opción corresponde a <command>insecure</command>.</para></listitem><listitem><para><guilabel>Permitir el bloqueo de archivos inseguros</guilabel> — No realiza una petición de bloqueo. Esta opción corresponde a <command>insecure_locks</command>.</para></listitem><listitem><para><guilabel>Desactivar verficación del subárbol</guilabel> — Si un subdirectorio de un sistema de archivos se exporta, pero no se ha exportado todo el sistema de archivos, el servidor comprueba si el archivo se solicita en el subdirectorio exportado. El control se llama <firstterm>verficicaón del subárbol</firstterm>. Seleccione esta opción para desactivar la verficación del subárbol. Si todo el sistema de archivos es exportado, la selección para desactivar la verificaciónl del subárbol puede incrementar la tasa de transferencia. Esta opción corresponde a <command>no_subtree_check</command>.</para></listitem><listitem><para><guilabel>Operaciones de escritura sincronizada a pedido</guilabel> — Habilitada por defecto,  esta opción no permite al servidor responder a las solicitudes antes de que las modificaciones introducidas por la solicitud se escriban al disco. Esta opción corresponde a <command>sync</command>. Si no se selecciona, se utiliza la opcion <command>async</command>.</para><itemizedlist><listitem><para><guilabel>Forzar la sincronización de operaciones de escritura inmediatamente</guilabel> — No retrasa la escritura en disco. Esta opción corresponde a <command>no_wdelay</command>.</para></listitem></itemizedlist></listitem><listitem><para><guilabel>Ocultar el sistemas de archivos bajo</guilabel> Puede cambiar la opcion <command>nohide</command> por activar o desactivar. Cuando la opción <command>nohide</command> esta desactivado, se revelan los directorios anidados. Los clientes pueden, por tanto, navegar a través de un sistema de archivos padres sin notar ningún cambio.</para></listitem><listitem><para><guilabel>Exportar solo si montado</guilabel> establece la opción <command>mountpoint</command> permite exportar un directorio sólo si se ha montado.</para></listitem><listitem><para><guilabel>Punto de montaje opcional</guilabel> especifica la ruta de acceso a un punto de montaje opcional. Haga click en el botón <guibutton>Examinar</guibutton> para navegar hasta el punto de montaje preferido o escriba la ruta de acceso si se conoce.</para></listitem><listitem><para><guilabel>Ajuste explicito del ID del sistema de archivos:</guilabel> establece la opción <command>fsid=X</command>. Esto se utiliza principalmente en una configuración de agrupamiento. Usando un ID consistente para el sistema de archivos en todos los agrupamientos evita tener viciado el manejo de archivos NFS.</para></listitem></itemizedlist><figure float="0" id="fig-nfs-user-access"><title>Acceso de Usuarios NFS</title><mediaobject><imageobject><imagedata fileref="images/system-config-nfs-add-user-access.png" format="PNG"/></imageobject><textobject><para>Acceso de Usuario</para></textobject></mediaobject></figure><para>La pestaña <guilabel>Acceso de Usuario</guilabel> permite configurar las siguientes opciones:</para><itemizedlist><listitem><para><guilabel>Trate el usuario de root remoto como root local</guilabel> — Por defecto, el usuario y los IDs de grupo del usuario de root son 0. Aplastamiento de Root mapea usuario ID 0 y el grupo ID 0 al usuario y grupo con IDs anónimos, a fin de que root en el cliente no tenga privilegios de root en el servidor NFS,  y root en un cliente tiene privilegios de root a los directorios exportados. Si se selecciona esta opción, la root no es asignado a los anónimos. Al seleccionar esta opción puede disminuir la seguridad del sistema. No lo seleccione a menos que sea absolutamente necesario. Esta opción corresponde a <command>no_root_squash</command>.</para></listitem><listitem><para><guilabel>Tratar a todos los usuarios cliente como usuarios anónimos</guilabel> — Si se selecciona esta opción, todos los IDs de usuario y de grupo se asignan al usuario anónimo. Esta opción corresponde a <command>all_squash</command>.</para><itemizedlist><listitem><para><guilabel>Especificar ID del usuario local para los usuarios anónimos</guilabel> — Si está seleccionado <guilabel>Tratar a todos los usuarios cliente como usuarios anónimos</guilabel>, esta opción le permite especificar un ID de usuario para el usuario anónimo. Esta opción corresponde a <command>anonuid</command>.<guilabel> </guilabel></para></listitem><listitem><para><guilabel>Especificar ID del grupo local para los usuarios anónimos</guilabel> — Si se encuentra seleccionado <guilabel>Tratar a todos los usuarios cliente como usuarios anónimos</guilabel>, esta opción le permite especificar un ID de grupo para el usuario anónimo. Esta opción corresponde a <command>anongid</command>.</para></listitem></itemizedlist></listitem></itemizedlist><para>Para modificar una compartición NFS ya existente, selecciónela desde la lista, y haga click en el botón <guibutton>Propiedades</guibutton>. Para eliminar una compartición NFS ya existente, selecciónela desde la lista, y haga click en el botón <guibutton>Eliminar</guibutton>.</para><indexterm significance="normal"><primary><filename>/etc/exports</filename></primary></indexterm><indexterm significance="normal"><primary><filename>exports</filename></primary></indexterm><para>Después de presionar <guibutton>Aceptar</guibutton> para añadir, editar o eliminar una compartición NFS desde la lista, los cambios tendrán efecto inmediatamente —el demonio del servidor es reiniciado y el archivo de configuración antiguo es guardado como <filename>/etc/exports.bak</filename>. La nueva configuración es escrita en <filename>/etc/exports</filename>.</para><para>La <application>Herramienta de Configuración del Servidor NFS</application> lee y escribe directamente el archivo de configuración <filename>/etc/exports</filename> . Por lo tanto, el archivo puede ser modificado manualmente después de usar la herramienta y la herramienta se puede usar después de modificar el archivo manualmente (siempre que el archivo sea modificado con la sintaxis correcta).</para></section>
<appendix><title>Apéndice</title><section id="s2-nfs-hostname-formats"><title>Formatos de Nombre de Equipo</title><indexterm significance="normal"><primary>NFS</primary><secondary>formatos de nombre de equipo</secondary></indexterm><para>El equipo(s) puede ser de las siguientes formas:</para><itemizedlist><listitem><para>Máquina Sola  — Un nombre de dominio completo (que puede ser resuelto por el servidor), nombre de equipo (que puede ser resuelto por el servidor), o una dirección IP.	</para></listitem><listitem><para>Series de máquinas especificadas con comodines — Use el caracter * o ? para especificar una cadena de coincidencia. Los comodines no se deben utilizar con direcciones IP; sin embargo, es posible que funcione accidentalmente si fallan las búsquedas de DNS inversa. Cuando se especifican comodines en nombres de dominio completos, los puntos  (.)  no están incluidos en el comodín. Por ejemplo, <computeroutput>*.example.com</computeroutput> incluye one.example.com pero no incluye one.two.example.com.</para></listitem><listitem><para>Redes IP — Utilice <replaceable>a.b.c.d/z</replaceable>, donde <replaceable>a.b.c.d</replaceable> es la red y <replaceable>z</replaceable> es el número de bits de la máscara de red (por ejemplo 192.168.0.0/24). Otro formato aceptables es <replaceable>a.b.c.d/netmask</replaceable>, donde <replaceable>a.b.c.d</replaceable> es la red y <replaceable>netmask</replaceable> es la máscara de red (por ejemplo, 192.168.100.8/255.255.255.0).</para></listitem><listitem><para>Grupo de Redes — En el formato <replaceable>@group-name</replaceable>, donde <replaceable>group-name</replaceable> es el nombre del grupo de redes NIS.</para></listitem></itemizedlist></section>
</appendix></article>
