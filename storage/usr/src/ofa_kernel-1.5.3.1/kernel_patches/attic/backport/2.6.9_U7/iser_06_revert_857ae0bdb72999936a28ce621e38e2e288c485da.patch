---
 drivers/infiniband/ulp/iser/iscsi_iser.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

Index: ofed_kernel/drivers/infiniband/ulp/iser/iscsi_iser.c
===================================================================
--- ofed_kernel.orig/drivers/infiniband/ulp/iser/iscsi_iser.c
+++ ofed_kernel/drivers/infiniband/ulp/iser/iscsi_iser.c
@@ -139,10 +139,10 @@ iscsi_iser_cmd_init(struct iscsi_cmd_tas
 	iser_ctask->command_sent = 0;
 	iser_ctask->iser_conn    = iser_conn;
 	if (sc->sc_data_direction == DMA_TO_DEVICE) {
-		BUG_ON(sc->request_bufflen == 0);
+		BUG_ON(ctask->total_length == 0);
 
 		debug_scsi("cmd [itt %x total %d imm %d unsol_data %d\n",
-			   ctask->itt, sc->request_bufflen, ctask->imm_count,
+			   ctask->itt, ctask->total_length, ctask->imm_count,
 			   ctask->unsol_count);
 	}
 
